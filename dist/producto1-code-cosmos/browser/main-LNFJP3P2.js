var sE=Object.defineProperty,xN=Object.defineProperties;var NN=Object.getOwnPropertyDescriptors;var rE=Object.getOwnPropertySymbols;var RN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable;var iE=(t,e,n)=>e in t?sE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})RN.call(e,n)&&iE(t,n,e[n]);if(rE)for(var n of rE(e))MN.call(e,n)&&iE(t,n,e[n]);return t},X=(t,e)=>xN(t,NN(e));var PN=(t,e)=>{for(var n in e)sE(t,n,{get:e[n],enumerable:!0})};var A=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{c(n.next(l))}catch(u){i(u)}},o=l=>{try{c(n.throw(l))}catch(u){i(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((n=n.apply(t,e)).next())});function oE(t,e){return Object.is(t,e)}var Ye=null,rl=!1,il=1,zn=Symbol("SIGNAL");function ge(t){let e=Ye;return Ye=t,e}function aE(){return Ye}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xf(t){if(rl)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(t);let e=Ye.nextProducerIndex++;if(cl(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==t&&zo(Ye)){let n=Ye.producerNode[e];al(n,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==t&&(Ye.producerNode[e]=t,Ye.producerIndexOfThis[e]=zo(Ye)?dE(t,Ye,e):0),Ye.producerLastReadVersion[e]=t.version}function ON(){il++}function cE(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===il)){if(!t.producerMustRecompute(t)&&!Rf(t)){t.dirty=!1,t.lastCleanEpoch=il;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=il}}function lE(t){if(t.liveConsumerNode===void 0)return;let e=rl;rl=!0;try{for(let n of t.liveConsumerNode)n.dirty||kN(n)}finally{rl=e}}function uE(){return Ye?.consumerAllowSignalWrites!==!1}function kN(t){t.dirty=!0,lE(t),t.consumerMarkedDirty?.(t)}function ol(t){return t&&(t.nextProducerIndex=0),ge(t)}function Nf(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)al(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Rf(t){cl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cE(n),r!==n.version))return!0}return!1}function Mf(t){if(cl(t),zo(t))for(let e=0;e<t.producerNode.length;e++)al(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dE(t,e,n){if(hE(t),t.liveConsumerNode.length===0&&fE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=dE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function al(t,e){if(hE(t),t.liveConsumerNode.length===1&&fE(t))for(let r=0;r<t.producerNode.length;r++)al(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];cl(i),i.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function cl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fE(t){return t.producerNode!==void 0}function pE(t){let e=Object.create(FN);e.computation=t;let n=()=>{if(cE(e),xf(e),e.value===sl)throw e.error;return e.value};return n[zn]=e,n}var Sf=Symbol("UNSET"),Af=Symbol("COMPUTING"),sl=Symbol("ERRORED"),FN=X(k({},Wo),{value:Sf,dirty:!0,error:null,equal:oE,producerMustRecompute(t){return t.value===Sf||t.value===Af},producerRecomputeValue(t){if(t.value===Af)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Af;let n=ol(t),r;try{r=t.computation()}catch(i){r=sl,t.error=i}finally{Nf(t,n)}if(e!==Sf&&e!==sl&&r!==sl&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function LN(){throw new Error}var gE=LN;function mE(){gE()}function yE(t){gE=t}var VN=null;function _E(t){let e=Object.create(wE);e.value=t;let n=()=>(xf(e),e.value);return n[zn]=e,n}function Pf(t,e){uE()||mE(),t.equal(t.value,e)||(t.value=e,BN(t))}function vE(t,e){uE()||mE(),Pf(t,e(t.value))}var wE=X(k({},Wo),{equal:oE,value:void 0});function BN(t){t.version++,ON(),lE(t),VN?.()}function W(t){return typeof t=="function"}function Zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ll=Zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof ll?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{EE(s)}catch(o){e=e??[],o instanceof ll?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)EE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qr(n,e)}remove(e){let{_finalizers:n}=this;n&&Qr(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var Of=Ve.EMPTY;function ul(t){return t instanceof Ve||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function EE(t){W(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dl(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function qo(){}var IE=kf("C",void 0,void 0);function bE(t){return kf("E",void 0,t)}function CE(t){return kf("N",t,void 0)}function kf(t,e,n){return{kind:t,value:e,error:n}}var Yr=null;function es(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Yr;if(e&&(Yr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yr;if(Yr=null,n)throw r}}else t()}function TE(t){Zt.useDeprecatedSynchronousErrorHandling&&Yr&&(Yr.errorThrown=!0,Yr.error=t)}var Jr=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=$N}static create(e,n,r){return new ts(e,n,r)}next(e){this.isStopped?Lf(CE(e),this):this._next(e)}error(e){this.isStopped?Lf(bE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lf(IE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UN=Function.prototype.bind;function Ff(t,e){return UN.call(t,e)}var Vf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hl(r)}else hl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hl(n)}}},ts=class extends Jr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ff(e.next,s),error:e.error&&Ff(e.error,s),complete:e.complete&&Ff(e.complete,s)}):i=e}this.destination=new Vf(i)}};function hl(t){Zt.useDeprecatedSynchronousErrorHandling?TE(t):dl(t)}function jN(t){throw t}function Lf(t,e){let{onStoppedNotification:n}=Zt;n&&Xi.setTimeout(()=>n(t,e))}var $N={closed:!0,next:qo,error:jN,complete:qo};var ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function Bf(...t){return Uf(t)}function Uf(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zN(n)?n:new ts(n,r,i);return es(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DE(r),new r((i,s)=>{let o=new ts({next:c=>{try{n(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ns](){return this}pipe(...n){return Uf(n)(this)}toPromise(n){return n=DE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DE(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function HN(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function zN(t){return t&&t instanceof Jr||HN(t)&&ul(t)}function jf(t){return W(t?.lift)}function he(t){return e=>{if(jf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new $f(t,e,n,r,i)}var $f=class extends Jr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rs(){return he((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var is=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return rs()(this)}};var SE=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new SE}next(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Of:(this.currentObservers=null,s.push(n),new Ve(()=>{this.currentObservers=null,Qr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new fl(e,n),t})(),fl=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Of}};var it=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hf={now(){return(Hf.delegate||Date).now()},delegate:void 0};var pl=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var Go={setInterval(t,e,...n){let{delegate:r}=Go;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Go;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ss=class extends pl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Go.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};os.now=Hf.now;var as=class extends os{constructor(e,n=os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zf=new as(ss);var gl=class extends ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ml=class extends as{};var Wf=new ml(gl);var kt=new le(t=>t.complete());function AE(t){return t&&W(t.schedule)}function xE(t){return t[t.length-1]}function yl(t){return W(xE(t))?t.pop():void 0}function vr(t){return AE(xE(t))?t.pop():void 0}function qf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(c,l)}u((r=r.apply(t,e||[])).next())})}function NE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function ME(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(T){return Promise.resolve(T).then(w,p)}}function c(w,T){r[w]&&(i[w]=function(M){return new Promise(function(F,$){s.push([w,M,F,$])>1||l(w,M)})},T&&(i[w]=T(i[w])))}function l(w,T){try{u(r[w](T))}catch(M){m(s[0][3],M)}}function u(w){w.value instanceof Zr?Promise.resolve(w.value.v).then(f,p):m(s[0][2],w)}function f(w){l("next",w)}function p(w){l("throw",w)}function m(w,T){w(T),s.shift(),s.length&&l(s[0][0],s[0][1])}}function PE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NE=="function"?NE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,l){o=t[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}var _l=t=>t&&typeof t.length=="number"&&typeof t!="function";function vl(t){return W(t?.then)}function wl(t){return W(t[ns])}function El(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bl=WN();function Cl(t){return W(t?.[bl])}function Tl(t){return ME(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zr(n.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{n.releaseLock()}})}function Dl(t){return W(t?.getReader)}function ze(t){if(t instanceof le)return t;if(t!=null){if(wl(t))return qN(t);if(_l(t))return GN(t);if(vl(t))return KN(t);if(El(t))return OE(t);if(Cl(t))return QN(t);if(Dl(t))return YN(t)}throw Il(t)}function qN(t){return new le(e=>{let n=t[ns]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GN(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KN(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dl)})}function QN(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function OE(t){return new le(e=>{JN(t,e).catch(n=>e.error(n))})}function YN(t){return OE(Tl(t))}function JN(t,e){var n,r,i,s;return RE(this,void 0,void 0,function*(){try{for(n=PE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wr(t,e=0){return he((n,r)=>{n.subscribe(ue(r,i=>Tt(r,t,()=>r.next(i),e),()=>Tt(r,t,()=>r.complete(),e),i=>Tt(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kE(t,e){return ze(t).pipe(Er(e),wr(e))}function FE(t,e){return ze(t).pipe(Er(e),wr(e))}function LE(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function VE(t,e){return new le(n=>{let r;return Tt(n,e,()=>{r=t[bl](),Tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Tt(n,e,()=>{let r=t[Symbol.asyncIterator]();Tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BE(t,e){return Sl(Tl(t),e)}function UE(t,e){if(t!=null){if(wl(t))return kE(t,e);if(_l(t))return LE(t,e);if(vl(t))return FE(t,e);if(El(t))return Sl(t,e);if(Cl(t))return VE(t,e);if(Dl(t))return BE(t,e)}throw Il(t)}function Ue(t,e){return e?UE(t,e):ze(t)}function q(...t){let e=vr(t);return Ue(t,e)}function cs(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Gf(t){return!!t&&(t instanceof le||W(t.lift)&&W(t.subscribe))}var Wn=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ZN}=Array;function XN(t,e){return ZN(e)?t(...e):t(e)}function Al(t){return ie(e=>XN(t,e))}var{isArray:eR}=Array,{getPrototypeOf:tR,prototype:nR,keys:rR}=Object;function xl(t){if(t.length===1){let e=t[0];if(eR(e))return{args:e,keys:null};if(iR(e)){let n=rR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function iR(t){return t&&typeof t=="object"&&tR(t)===nR}function Nl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Rl(...t){let e=vr(t),n=yl(t),{args:r,keys:i}=xl(t);if(r.length===0)return Ue([],e);let s=new le(sR(r,e,i?o=>Nl(i,o):Ot));return n?s.pipe(Al(n)):s}function sR(t,e,n=Ot){return r=>{jE(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)jE(e,()=>{let u=Ue(t[l],e),f=!1;u.subscribe(ue(r,p=>{s[l]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jE(t,e,n){t?Tt(n,t,e):e()}function $E(t,e,n,r,i,s,o,c){let l=[],u=0,f=0,p=!1,m=()=>{p&&!l.length&&!u&&e.complete()},w=M=>u<r?T(M):l.push(M),T=M=>{s&&e.next(M),u++;let F=!1;ze(n(M,f++)).subscribe(ue(e,$=>{i?.($),s?w($):e.next($)},()=>{F=!0},void 0,()=>{if(F)try{for(u--;l.length&&u<r;){let $=l.shift();o?Tt(e,o,()=>T($)):T($)}m()}catch($){e.error($)}}))};return t.subscribe(ue(e,w,()=>{p=!0,m()})),()=>{c?.()}}function Je(t,e,n=1/0){return W(e)?Je((r,i)=>ie((s,o)=>e(r,s,i,o))(ze(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>$E(r,i,t,n)))}function Kf(t=1/0){return Je(Ot,t)}function HE(){return Kf(1)}function ls(...t){return HE()(Ue(t,vr(t)))}function Ml(t){return new le(e=>{ze(t()).subscribe(e)})}function Qf(...t){let e=yl(t),{args:n,keys:r}=xl(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),l=o,u=o;for(let f=0;f<o;f++){let p=!1;ze(n[f]).subscribe(ue(s,m=>{p||(p=!0,u--),c[f]=m},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(r?Nl(r,c):c),s.complete())}))}});return e?i.pipe(Al(e)):i}function Xt(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ir(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=ze(t(o,Ir(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zE(t,e,n,r,i){return(s,o)=>{let c=n,l=e,u=0;s.subscribe(ue(o,f=>{let p=u++;l=c?t(l,f,p):(c=!0,f),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function us(t,e){return W(e)?Je(t,e,1):Je(t,1)}function br(t){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qn(t){return t<=0?()=>kt:he((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yf(t){return ie(()=>t)}function Pl(t=oR){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oR(){return new Wn}function Ko(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,s)=>t(i,s,r)):Ot,qn(1),n?br(e):Pl(()=>new Wn))}function ds(t){return t<=0?()=>kt:he((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,s)=>t(i,s,r)):Ot,ds(1),n?br(e):Pl(()=>new Wn))}function Zf(t,e){return he(zE(t,e,arguments.length>=2,!0))}function Xf(...t){let e=vr(t);return he((n,r)=>{(e?ls(t,n,e):ls(t,n)).subscribe(r)})}function en(t,e){return he((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ue(r,l=>{i?.unsubscribe();let u=0,f=s++;ze(t(l,f)).subscribe(i=ue(r,p=>r.next(e?e(l,p,f,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function ep(t){return he((e,n)=>{ze(t).subscribe(ue(n,()=>n.complete(),qo)),!n.closed&&e.subscribe(n)})}function Ze(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ue(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ot}var xI="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(ng(e,n)),this.code=e}};function ng(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function sa(t){return{toString:t}.toString()}var Ol="__parameters__";function aR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function NI(t,e,n){return sa(()=>{let r=aR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,u,f){let p=l.hasOwnProperty(Ol)?l[Ol]:Object.defineProperty(l,Ol,{value:[]})[Ol];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function cR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function WE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lR=De({__forward_ref__:De});function Dn(t){return t.__forward_ref__=Dn,t.toString=function(){return vt(this())},t}function _t(t){return RI(t)?t():t}function RI(t){return typeof t=="function"&&t.hasOwnProperty(lR)&&t.__forward_ref__===Dn}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function li(t){return{providers:t.providers||[],imports:t.imports||[]}}function pu(t){return qE(t,PI)||qE(t,OI)}function MI(t){return pu(t)!==null}function qE(t,e){return t.hasOwnProperty(e)?t[e]:null}function uR(t){let e=t&&(t[PI]||t[OI]);return e||null}function GE(t){return t&&(t.hasOwnProperty(KE)||t.hasOwnProperty(dR))?t[KE]:null}var PI=De({\u0275prov:De}),KE=De({\u0275inj:De}),OI=De({ngInjectableDef:De}),dR=De({ngInjectorDef:De}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kI(t){return t&&!!t.\u0275providers}var hR=De({\u0275cmp:De}),fR=De({\u0275dir:De}),pR=De({\u0275pipe:De}),gR=De({\u0275mod:De}),Hl=De({\u0275fac:De}),Jo=De({__NG_ELEMENT_ID__:De}),QE=De({__NG_ENV_ID__:De});function gu(t){return typeof t=="string"?t:t==null?"":String(t)}function mR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gu(t)}function yR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function rg(t,e){throw new U(-201,!1)}var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),pp;function FI(){return pp}function Dt(t){let e=pp;return pp=t,e}function LI(t,e,n){let r=pu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Z.Optional)return null;if(e!==void 0)return e;rg(t,"Injector")}var _R={},Zo=_R,gp="__NG_DI_FLAG__",zl="ngTempTokenPath",vR="ngTokenPath",wR=/\n/gm,ER="\u0275",YE="__source",gs;function IR(){return gs}function Cr(t){let e=gs;return gs=t,e}function bR(t,e=Z.Default){if(gs===void 0)throw new U(-203,!1);return gs===null?LI(t,void 0,e):gs.get(t,e&Z.Optional?null:void 0,e)}function Q(t,e=Z.Default){return(FI()||bR)(_t(t),e)}function L(t,e=Z.Default){return Q(t,mu(e))}function mu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mp(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){let c=r[o],l=CR(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(Q(i,s))}else e.push(Q(r))}return e}function VI(t,e){return t[gp]=e,t.prototype[gp]=e,t}function CR(t){return t[gp]}function TR(t,e,n,r){let i=t[zl];throw e[YE]&&i.unshift(e[YE]),t.message=DR(`
`+t.message,i,n,r),t[vR]=i,t[zl]=null,t}function DR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ER?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):vt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wR,`
  `)}`}var qe=VI(NI("Optional"),8);var BI=VI(NI("SkipSelf"),4);function ei(t,e){let n=t.hasOwnProperty(Hl);return n?t[Hl]:null}function ig(t,e){t.forEach(n=>Array.isArray(n)?ig(n,e):e(n))}function UI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function SR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function AR(t,e,n){let r=oa(t,e);return r>=0?t[r|1]=n:(r=~r,SR(t,r,e,n)),r}function tp(t,e){let n=oa(t,e);if(n>=0)return t[n|1]}function oa(t,e){return xR(t,e,1)}function xR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ys={},Vt=[],_s=new B(""),jI=new B("",-1),$I=new B(""),ql=class{get(e,n=Zo){if(n===Zo){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},HI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(HI||{}),In=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(In||{}),Sr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Sr||{});function NR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function yp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];MR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function RR(t){return t===3||t===4||t===6}function MR(t){return t.charCodeAt(0)===64}function Xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?JE(t,n,i,null,e[++r]):JE(t,n,i,null,null))}}return t}function JE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var zI="ng-template";function PR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(sg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function sg(t){return t.type===4&&t.value!==zI}function OR(t,e,n){let r=t.type===4&&!n?zI:t.value;return e===r}function kR(t,e,n){let r=4,i=t.attrs,s=i!==null?VR(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!tn(r)&&!tn(l))return!1;if(o&&tn(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!OR(t,l,n)||l===""&&e.length===1){if(tn(r))return!1;o=!0}}else if(r&8){if(i===null||!PR(t,i,l,n)){if(tn(r))return!1;o=!0}}else{let u=e[++c],f=FR(l,i,sg(t),n);if(f===-1){if(tn(r))return!1;o=!0;continue}if(u!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&u!==p){if(tn(r))return!1;o=!0}}}}return tn(r)||o}function tn(t){return(t&1)===0}function FR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return BR(e,t)}function LR(t,e,n=!1){for(let r=0;r<e.length;r++)if(kR(t,e[r],n))return!0;return!1}function VR(t){for(let e=0;e<t.length;e++){let n=t[e];if(RR(n))return e}return t.length}function BR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ZE(t,e){return t?":not("+e.trim()+")":e}function UR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!tn(o)&&(e+=ZE(s,i),i=""),r=o,s=s||!tn(r);n++}return i!==""&&(e+=ZE(s,i)),e}function jR(t){return t.map(UR).join(",")}function $R(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!tn(i))break;i=s}r++}return{attrs:e,classes:n}}function Sn(t){return sa(()=>{let e=QI(t),n=X(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===HI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||In.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});YI(n);let r=t.dependencies;return n.directiveDefs=eI(r,!1),n.pipeDefs=eI(r,!0),n.id=WR(n),n})}function HR(t){return ti(t)||WI(t)}function zR(t){return t!==null}function ui(t){return sa(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XE(t,e){if(t==null)return ys;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Sr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Sr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function je(t){return sa(()=>{let e=QI(t);return YI(e),e})}function og(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ti(t){return t[hR]||null}function WI(t){return t[fR]||null}function qI(t){return t[pR]||null}function GI(t){let e=ti(t)||WI(t)||qI(t);return e!==null?e.standalone:!1}function KI(t,e){let n=t[gR]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function QI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ys,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XE(t.inputs,e),outputs:XE(t.outputs),debugInfo:null}}function YI(t){t.features?.forEach(e=>e(t))}function eI(t,e){if(!t)return null;let n=e?qI:HR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zR)}function WR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(t){return{\u0275providers:t}}function qR(...t){return{\u0275providers:JI(!0,t),\u0275fromNgModule:!0}}function JI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ig(e,o=>{let c=o;_p(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&ZI(i,s),n}function ZI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ag(i,s=>{e(s,r)})}}function _p(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,s=GE(t),o=!s&&ti(t);if(!s&&!o){let l=t.ngModule;if(s=GE(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)_p(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{ig(s.imports,f=>{_p(f,e,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&ZI(u,e)}if(!c){let u=ei(i)||(()=>new i);e({provide:i,useFactory:u,deps:Vt},i),e({provide:$I,useValue:i,multi:!0},i),e({provide:_s,useValue:()=>Q(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let u=t;ag(l,f=>{e(f,u)})}}else return!1;return i!==t&&t.providers!==void 0}function ag(t,e){for(let n of t)kI(n)&&(n=n.\u0275providers),Array.isArray(n)?ag(n,e):e(n)}var GR=De({provide:String,useValue:De});function XI(t){return t!==null&&typeof t=="object"&&GR in t}function KR(t){return!!(t&&t.useExisting)}function QR(t){return!!(t&&t.useFactory)}function vs(t){return typeof t=="function"}function YR(t){return!!t.useClass}var yu=new B(""),Vl={},JR={},np;function cg(){return np===void 0&&(np=new ql),np}var jt=class{},ea=class extends jt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wp(e,o=>this.processProvider(o)),this.records.set(jI,hs(void 0,this)),i.has("environment")&&this.records.set(jt,hs(void 0,this));let s=this.records.get(yu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($I,Vt,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Cr(this),r=Dt(void 0),i;try{return e()}finally{Cr(n),Dt(r)}}get(e,n=Zo,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QE))return e[QE](this);r=mu(r);let i,s=Cr(this),o=Dt(void 0);try{if(!(r&Z.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=nM(e)&&pu(e);u&&this.injectableDefInScope(u)?l=hs(vp(e),Vl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&Z.Self?cg():this.parent;return n=r&Z.Optional&&n===Zo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[zl]=c[zl]||[]).unshift(vt(e)),s)throw c;return TR(c,e,"R3InjectorError",this.source)}else throw c}finally{Dt(o),Cr(s)}}resolveInjectorInitializers(){let e=ge(null),n=Cr(this),r=Dt(void 0),i;try{let s=this.get(_s,Vt,Z.Self);for(let o of s)o()}finally{Cr(n),Dt(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=_t(e);let n=vs(e)?e:_t(e&&e.provide),r=XR(e);if(!vs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hs(void 0,Vl,!0),i.factory=()=>mp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===Vl&&(n.value=JR,n.value=n.factory()),typeof n.value=="object"&&n.value&&tM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vp(t){let e=pu(t),n=e!==null?e.factory:ei(t);if(n!==null)return n;if(t instanceof B)throw new U(204,!1);if(t instanceof Function)return ZR(t);throw new U(204,!1)}function ZR(t){if(t.length>0)throw new U(204,!1);let n=uR(t);return n!==null?()=>n.factory(t):()=>new t}function XR(t){if(XI(t))return hs(void 0,t.useValue);{let e=e0(t);return hs(e,Vl)}}function e0(t,e,n){let r;if(vs(t)){let i=_t(t);return ei(i)||vp(i)}else if(XI(t))r=()=>_t(t.useValue);else if(QR(t))r=()=>t.useFactory(...mp(t.deps||[]));else if(KR(t))r=()=>Q(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(eM(t))r=()=>new i(...mp(t.deps));else return ei(i)||vp(i)}return r}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eM(t){return!!t.deps}function tM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nM(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function wp(t,e){for(let n of t)Array.isArray(n)?wp(n,e):n&&kI(n)?wp(n.\u0275providers,e):e(n)}function Yn(t,e){t instanceof ea&&t.assertNotDestroyed();let n,r=Cr(t),i=Dt(void 0);try{return e()}finally{Cr(r),Dt(i)}}function rM(){return FI()!==void 0||IR()!=null}function iM(t){return typeof t=="function"}var Jn=0,se=1,H=2,wt=3,nn=4,an=5,Gl=6,Kl=7,rn=8,ws=9,bn=10,We=11,ta=12,tI=13,As=14,Cn=15,Es=16,fs=17,Is=18,_u=19,t0=20,Tr=21,rp=22,Bt=23,sn=25,n0=1;var ni=7,Ql=8,Yl=9,Ut=10,Jl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jl||{});function Dr(t){return Array.isArray(t)&&typeof t[n0]=="object"}function Zn(t){return Array.isArray(t)&&t[n0]===!0}function r0(t){return(t.flags&4)!==0}function vu(t){return t.componentOffset>-1}function lg(t){return(t.flags&1)===1}function Ar(t){return!!t.template}function Ep(t){return(t[H]&512)!==0}var Ip=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function i0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xn(){return s0}function s0(t){return t.type.prototype.ngOnChanges&&(t.setInput=oM),sM}Xn.ngInherit=!0;function sM(){let t=a0(this),e=t?.current;if(e){let n=t.previous;if(n===ys)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oM(t,e,n,r,i){let s=this.declaredInputs[r],o=a0(t)||aM(t,{previous:ys,current:null}),c=o.current||(o.current={}),l=o.previous,u=l[s];c[s]=new Ip(u&&u.currentValue,n,l===ys),i0(t,e,i,n)}var o0="__ngSimpleChanges__";function a0(t){return t[o0]||null}function aM(t,e){return t[o0]=e}var nI=null;var wn=function(t,e,n){nI?.(t,e,n)},c0="svg",cM="math";function Tn(t){for(;Array.isArray(t);)t=t[Jn];return t}function l0(t,e){return Tn(e[t])}function $t(t,e){return Tn(e[t.index])}function u0(t,e){return t.data[e]}function d0(t,e){return t[e]}function Rr(t,e){let n=e[t];return Dr(n)?n:n[Jn]}function ug(t){return(t[H]&128)===128}function lM(t){return Zn(t[wt])}function Zl(t,e){return e==null?null:t[e]}function h0(t){t[fs]=0}function f0(t){t[H]&1024||(t[H]|=1024,ug(t)&&Eu(t))}function uM(t,e){for(;t>0;)e=e[As],t--;return e}function wu(t){return!!(t[H]&9216||t[Bt]?.dirty)}function bp(t){t[bn].changeDetectionScheduler?.notify(8),t[H]&64&&(t[H]|=1024),wu(t)&&Eu(t)}function Eu(t){t[bn].changeDetectionScheduler?.notify(0);let e=ri(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!ug(e)));)e=ri(e)}function p0(t,e){if((t[H]&256)===256)throw new U(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function dM(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function ri(t){let e=t[wt];return Zn(e)?e[wt]:e}var Y={lFrame:b0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var g0=!1;function hM(){return Y.lFrame.elementDepthCount}function fM(){Y.lFrame.elementDepthCount++}function pM(){Y.lFrame.elementDepthCount--}function m0(){return Y.bindingsEnabled}function gM(){return Y.skipHydrationRootTNode!==null}function mM(t){return Y.skipHydrationRootTNode===t}function yM(){Y.skipHydrationRootTNode=null}function be(){return Y.lFrame.lView}function Et(){return Y.lFrame.tView}function ee(t){return Y.lFrame.contextLView=t,t[rn]}function te(t){return Y.lFrame.contextLView=null,t}function St(){let t=y0();for(;t!==null&&t.type===64;)t=t.parent;return t}function y0(){return Y.lFrame.currentTNode}function _M(){let t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function aa(t,e){let n=Y.lFrame;n.currentTNode=t,n.isParent=e}function _0(){return Y.lFrame.isParent}function vM(){Y.lFrame.isParent=!1}function wM(){return Y.lFrame.contextLView}function v0(){return g0}function rI(t){g0=t}function EM(){let t=Y.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function IM(t){return Y.lFrame.bindingIndex=t}function Iu(){return Y.lFrame.bindingIndex++}function bM(t){let e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function CM(){return Y.lFrame.inI18n}function TM(t,e){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cp(e)}function DM(){return Y.lFrame.currentDirectiveIndex}function Cp(t){Y.lFrame.currentDirectiveIndex=t}function SM(t){let e=Y.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function w0(t){Y.lFrame.currentQueryIndex=t}function AM(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[an]:null}function E0(t,e,n){if(n&Z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Z.Host);)if(i=AM(s),i===null||(s=s[As],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Y.lFrame=I0();return r.currentTNode=e,r.lView=t,!0}function dg(t){let e=I0(),n=t[se];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function I0(){let t=Y.lFrame,e=t===null?null:t.child;return e===null?b0(t):e}function b0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function C0(){let t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var T0=C0;function hg(){let t=C0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xM(t){return(Y.lFrame.contextLView=uM(t,Y.lFrame.contextLView))[rn]}function xs(){return Y.lFrame.selectedIndex}function ii(t){Y.lFrame.selectedIndex=t}function bu(){let t=Y.lFrame;return u0(t.tView,t.selectedIndex)}function Cu(){Y.lFrame.currentNamespace=c0}function fg(){NM()}function NM(){Y.lFrame.currentNamespace=null}function RM(){return Y.lFrame.currentNamespace}var D0=!0;function pg(){return D0}function gg(t){D0=t}function MM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=s0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function mg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Bl(t,e,n){S0(t,e,3,n)}function Ul(t,e,n,r){(t[H]&3)===n&&S0(t,e,n,r)}function ip(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function S0(t,e,n,r){let i=r!==void 0?t[fs]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[fs]+=65536),(c<s||s==-1)&&(PM(t,n,e,l),t[fs]=(t[fs]&4294901760)+l+2),l++}function iI(t,e){wn(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),wn(5,t,e)}}function PM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[H]>>14<t[fs]>>16&&(t[H]&3)===e&&(t[H]+=16384,iI(c,s)):iI(c,s)}var ms=-1,si=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function OM(t){return t instanceof si}function kM(t){return(t.flags&8)!==0}function FM(t){return(t.flags&16)!==0}var sp={},Tp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=mu(r);let i=this.injector.get(e,sp,r);return i!==sp||n===sp?i:this.parentInjector.get(e,n,r)}};function A0(t){return t!==ms}function Xl(t){return t&32767}function LM(t){return t>>16}function eu(t,e){let n=LM(t),r=e;for(;n>0;)r=r[As],n--;return r}var Dp=!0;function tu(t){let e=Dp;return Dp=t,e}var VM=256,x0=VM-1,N0=5,BM=0,En={};function UM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),r==null&&(r=n[Jo]=BM++);let i=r&x0,s=1<<i;e.data[t+(i>>N0)]|=s}function nu(t,e){let n=R0(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,op(r.data,t),op(e,null),op(r.blueprint,null));let i=yg(t,e),s=t.injectorIndex;if(A0(i)){let o=Xl(i),c=eu(i,e),l=c[se].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|l[o+u]}return e[s+8]=i,s}function op(t,e){t.push(0,0,0,0,0,0,0,0,e)}function R0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=F0(i),r===null)return ms;if(n++,i=i[As],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ms}function Sp(t,e,n){UM(t,e,n)}function M0(t,e,n){if(n&Z.Optional||t!==void 0)return t;rg(e,"NodeInjector")}function P0(t,e,n,r){if(n&Z.Optional&&r===void 0&&(r=null),!(n&(Z.Self|Z.Host))){let i=t[ws],s=Dt(void 0);try{return i?i.get(e,r,n&Z.Optional):LI(e,r,n&Z.Optional)}finally{Dt(s)}}return M0(r,e,n)}function O0(t,e,n,r=Z.Default,i){if(t!==null){if(e[H]&2048&&!(r&Z.Self)){let o=WM(t,e,n,r,En);if(o!==En)return o}let s=k0(t,e,n,r,En);if(s!==En)return s}return P0(e,n,r,i)}function k0(t,e,n,r,i){let s=HM(n);if(typeof s=="function"){if(!E0(e,t,r))return r&Z.Host?M0(i,n,r):P0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Z.Optional))rg(n);else return o}finally{T0()}}else if(typeof s=="number"){let o=null,c=R0(t,e),l=ms,u=r&Z.Host?e[Cn][an]:null;for((c===-1||r&Z.SkipSelf)&&(l=c===-1?yg(t,e):e[c+8],l===ms||!oI(r,!1)?c=-1:(o=e[se],c=Xl(l),e=eu(l,e)));c!==-1;){let f=e[se];if(sI(s,c,f.data)){let p=jM(c,e,n,o,r,u);if(p!==En)return p}l=e[c+8],l!==ms&&oI(r,e[se].data[c+8]===u)&&sI(s,c,e)?(o=f,c=Xl(l),e=eu(l,e)):c=-1}}return i}function jM(t,e,n,r,i,s){let o=e[se],c=o.data[t+8],l=r==null?vu(c)&&Dp:r!=o&&(c.type&3)!==0,u=i&Z.Host&&s===c,f=$M(c,o,n,l,u);return f!==null?bs(e,o,f,c):En}function $M(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,l=t.directiveStart,u=t.directiveEnd,f=s>>20,p=r?c:c+f,m=i?c+f:u;for(let w=p;w<m;w++){let T=o[w];if(w<l&&n===T||w>=l&&T.type===n)return w}if(i){let w=o[l];if(w&&Ar(w)&&w.type===n)return l}return null}function bs(t,e,n,r){let i=t[n],s=e.data;if(OM(i)){let o=i;o.resolving&&yR(mR(s[n]));let c=tu(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?Dt(o.injectImpl):null,f=E0(t,r,Z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&MM(n,s[n],e)}finally{u!==null&&Dt(u),tu(c),o.resolving=!1,T0()}}return i}function HM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jo)?t[Jo]:void 0;return typeof e=="number"?e>=0?e&x0:zM:e}function sI(t,e,n){let r=1<<t;return!!(n[e+(t>>N0)]&r)}function oI(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var Xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return O0(this._tNode,this._lView,e,mu(r),n)}};function zM(){return new Xr(St(),be())}function er(t){return sa(()=>{let e=t.prototype.constructor,n=e[Hl]||Ap(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Hl]||Ap(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ap(t){return RI(t)?()=>{let e=Ap(_t(t));return e&&e()}:ei(t)}function WM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[H]&2048&&!(o[H]&512);){let c=k0(s,o,n,r|Z.Self,En);if(c!==En)return c;let l=s.parent;if(!l){let u=o[t0];if(u){let f=u.get(n,En,r);if(f!==En)return f}l=F0(o),o=o[As]}s=l}return i}function F0(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[an]:null}function aI(t,e=null,n=null,r){let i=L0(t,e,n,r);return i.resolveInjectorInitializers(),i}function L0(t,e=null,n=null,r,i=new Set){let s=[n||Vt,qR(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new ea(s,e||cg(),r||null,i)}var ht=class t{static{this.THROW_IF_NOT_FOUND=Zo}static{this.NULL=new ql}static create(e,n){if(Array.isArray(e))return aI({name:""},n,e,"");{let r=e.name??"";return aI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>Q(jI)})}static{this.__NG_ELEMENT_ID__=-1}};var qM=new B("");qM.__NG_ELEMENT_ID__=t=>{let e=St();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&Z.Optional)return null;throw new U(204,!1)};var GM="ngOriginalError";function ap(t){return t[GM]}var V0=!0,B0=(()=>{class t{static{this.__NG_ELEMENT_ID__=KM}static{this.__NG_ENV_ID__=n=>n}}return t})(),xp=class extends B0{constructor(e){super(),this._lView=e}onDestroy(e){return p0(this._lView,e),()=>dM(this._lView,e)}};function KM(){return new xp(be())}var Ns=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Np=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rM()&&(this.destroyRef=L(B0,{optional:!0})??void 0,this.pendingTasks=L(Ns,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ve&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Np;function ru(...t){}function U0(t){let e,n;function r(){t=ru;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cI(t){return queueMicrotask(()=>t()),()=>{t=ru}}var _g="isAngularZone",iu=_g+"_ID",QM=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=V0}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,ZM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_g)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,YM,ru,ru);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},YM={};function vg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){U0(()=>{t.callbackScheduled=!1,Rp(t),t.isCheckStableRunning=!0,vg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Rp(t)}function ZM(t){let e=()=>{JM(t)},n=QM++;t._inner=t._inner.fork({name:"angular",properties:{[_g]:!0,[iu]:n,[iu+n]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(XM(l))return r.invokeTask(s,o,c,l);try{return lI(t),r.invokeTask(s,o,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),uI(t)}},onInvoke:(r,i,s,o,c,l,u)=>{try{return lI(t),r.invoke(s,o,c,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!eP(l)&&e(),uI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Rp(t),vg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Rp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uI(t){t._nesting--,vg(t)}var Mp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function XM(t){return j0(t,"__ignore_ng_zone__")}function eP(t){return j0(t,"__scheduler_tick__")}function j0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ap(e);for(;n&&ap(n);)n=ap(n);return n||null}},tP=new B("",{providedIn:"root",factory:()=>{let t=L(ve),e=L(Gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function nP(){return Tu(St(),be())}function Tu(t,e){return new tr($t(t,e))}var tr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=nP}}return t})();function $0(t){return(t.flags&128)===128}var H0=new Map,rP=0;function iP(){return rP++}function sP(t){H0.set(t[_u],t)}function Pp(t){H0.delete(t[_u])}var dI="__ngContext__";function oi(t,e){Dr(e)?(t[dI]=e[_u],sP(e)):t[dI]=e}function z0(t){return q0(t[ta])}function W0(t){return q0(t[nn])}function q0(t){for(;t!==null&&!Zn(t);)t=t[nn];return t}var Op;function G0(t){Op=t}function oP(){if(Op!==void 0)return Op;if(typeof document<"u")return document;throw new U(210,!1)}var wg=new B("",{providedIn:"root",factory:()=>aP}),aP="ng",Eg=new B(""),nr=new B("",{providedIn:"platform",factory:()=>"unknown"});var Ig=new B("",{providedIn:"root",factory:()=>oP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cP="h",lP="b";var uP=()=>null;function bg(t,e,n=!1){return uP(t,e,n)}var K0=!1,dP=new B("",{providedIn:"root",factory:()=>K0});var su=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xI})`}};function Du(t){return t instanceof su?t.changingThisBreaksApplicationSecurity:t}function Q0(t,e){let n=hP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xI})`)}return n===e}function hP(t){return t instanceof su&&t.getTypeName()||null}var fP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Y0(t){return t=String(t),t.match(fP)?t:"unsafe:"+t}var Cg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cg||{});function Rs(t){let e=pP();return e?e.sanitize(Cg.URL,t)||"":Q0(t,"URL")?Du(t):Y0(gu(t))}function pP(){let t=be();return t&&t[bn].sanitizer}function J0(t){return t instanceof Function?t():t}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),gP;function Tg(t,e){return gP(t,e)}function ps(t,e,n,r,i){if(r!=null){let s,o=!1;Zn(r)?s=r:Dr(r)&&(o=!0,r=r[Jn]);let c=Tn(r);t===0&&n!==null?i==null?nb(e,n,c):ou(e,n,c,i||null,!0):t===1&&n!==null?ou(e,n,c,i||null,!0):t===2?NP(e,c,o):t===3&&e.destroyNode(c),s!=null&&MP(e,t,s,n,i)}}function mP(t,e){return t.createText(e)}function yP(t,e,n){t.setValue(e,n)}function Z0(t,e,n){return t.createElement(e,n)}function _P(t,e){X0(t,e),e[Jn]=null,e[an]=null}function vP(t,e,n,r,i,s){r[Jn]=i,r[an]=e,Su(t,r,n,1,i,s)}function X0(t,e){e[bn].changeDetectionScheduler?.notify(9),Su(t,e,e[We],2,null,null)}function wP(t){let e=t[ta];if(!e)return cp(t[se],t);for(;e;){let n=null;if(Dr(e))n=e[ta];else{let r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)Dr(e)&&cp(e[se],e),e=e[wt];e===null&&(e=t),Dr(e)&&cp(e[se],e),n=e&&e[nn]}e=n}}function EP(t,e,n,r){let i=Ut+r,s=n.length;r>0&&(n[i-1][nn]=e),r<s-Ut?(e[nn]=n[i],UI(n,Ut+r,e)):(n.push(e),e[nn]=null),e[wt]=n;let o=e[Es];o!==null&&n!==o&&eb(o,e);let c=e[Is];c!==null&&c.insertView(t),bp(e),e[H]|=128}function eb(t,e){let n=t[Yl],r=e[wt];if(Dr(r))t[H]|=Jl.HasTransplantedViews;else{let i=r[wt][Cn];e[Cn]!==i&&(t[H]|=Jl.HasTransplantedViews)}n===null?t[Yl]=[e]:n.push(e)}function Dg(t,e){let n=t[Yl],r=n.indexOf(e);n.splice(r,1)}function kp(t,e){if(t.length<=Ut)return;let n=Ut+e,r=t[n];if(r){let i=r[Es];i!==null&&i!==t&&Dg(i,r),e>0&&(t[n-1][nn]=r[nn]);let s=Wl(t,Ut+e);_P(r[se],r);let o=s[Is];o!==null&&o.detachView(s[se]),r[wt]=null,r[nn]=null,r[H]&=-129}return r}function tb(t,e){if(!(e[H]&256)){let n=e[We];n.destroyNode&&Su(t,e,n,3,null,null),wP(e)}}function cp(t,e){if(e[H]&256)return;let n=ge(null);try{e[H]&=-129,e[H]|=256,e[Bt]&&Mf(e[Bt]),bP(t,e),IP(t,e),e[se].type===1&&e[We].destroy();let r=e[Es];if(r!==null&&Zn(e[wt])){r!==e[wt]&&Dg(r,e);let i=e[Is];i!==null&&i.detachView(t)}Pp(e)}finally{ge(n)}}function IP(t,e){let n=t.cleanup,r=e[Kl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Kl]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof si)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];wn(4,c,l);try{l.call(c)}finally{wn(5,c,l)}}else{wn(4,i,s);try{s.call(i)}finally{wn(5,i,s)}}}}}function CP(t,e,n){return TP(t,e.parent,n)}function TP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===In.None||s===In.Emulated)return null}return $t(r,n)}}function ou(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nb(t,e,n){t.appendChild(e,n)}function hI(t,e,n,r,i){r!==null?ou(t,e,n,r,i):nb(t,e,n)}function rb(t,e){return t.parentNode(e)}function DP(t,e){return t.nextSibling(e)}function SP(t,e,n){return xP(t,e,n)}function AP(t,e,n){return t.type&40?$t(t,n):null}var xP=AP,fI;function Sg(t,e,n,r){let i=CP(t,r,e),s=e[We],o=r.parent||e[an],c=SP(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)hI(s,i,n[l],c,!1);else hI(s,i,n,c,!1);fI!==void 0&&fI(s,r,e,n,i)}function Qo(t,e){if(e!==null){let n=e.type;if(n&3)return $t(e,t);if(n&4)return Fp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qo(t,r);{let i=t[e.index];return Zn(i)?Fp(-1,i):Tn(i)}}else{if(n&128)return Qo(t,e.next);if(n&32)return Tg(e,t)()||Tn(t[e.index]);{let r=ib(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ri(t[Cn]);return Qo(i,r)}else return Qo(t,e.next)}}}return null}function ib(t,e){if(e!==null){let r=t[Cn][an],i=e.projection;return r.projection[i]}return null}function Fp(t,e){let n=Ut+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Qo(r,i)}return e[ni]}function NP(t,e,n){t.removeChild(null,e,n)}function Ag(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(o&&e===0&&(c&&oi(Tn(c),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Ag(t,e,n.child,r,i,s,!1),ps(e,t,i,c,s);else if(l&32){let u=Tg(n,r),f;for(;f=u();)ps(e,t,i,f,s);ps(e,t,i,c,s)}else l&16?RP(t,e,r,n,i,s):ps(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Su(t,e,n,r,i,s){Ag(n,r,t.firstChild,e,i,s,!1)}function RP(t,e,n,r,i,s){let o=n[Cn],l=o[an].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];ps(e,t,i,f,s)}else{let u=l,f=o[wt];$0(r)&&(u.flags|=128),Ag(t,e,u,f,i,s,!0)}}function MP(t,e,n,r,i){let s=n[ni],o=Tn(n);s!==o&&ps(e,t,r,s,i);for(let c=Ut;c<n.length;c++){let l=n[c];Su(l[se],l,t,e,r,s)}}function PP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Kn.Important),t.setStyle(n,r,i,s))}}function OP(t,e,n){t.setAttribute(e,"style",n)}function sb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ob(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&yp(t,e,r),i!==null&&sb(t,e,i),s!==null&&OP(t,e,s)}var Mr={};function V(t=1){ab(Et(),be(),xs()+t,!1)}function ab(t,e,n,r){if(!r)if((e[H]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Bl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ul(e,s,0,n)}ii(n)}function J(t,e=Z.Default){let n=be();if(n===null)return Q(t,e);let r=St();return O0(r,n,_t(t),e)}function cb(t,e,n,r,i,s){let o=ge(null);try{let c=null;i&Sr.SignalBased&&(c=e[r][zn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Sr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):i0(e,c,r,s)}finally{ge(o)}}function kP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ii(~i);else{let s=i,o=n[++r],c=n[++r];TM(o,s);let l=e[s];c(2,l)}}}finally{ii(-1)}}function Au(t,e,n,r,i,s,o,c,l,u,f){let p=e.blueprint.slice();return p[Jn]=i,p[H]=r|4|128|8|64,(u!==null||t&&t[H]&2048)&&(p[H]|=2048),h0(p),p[wt]=p[As]=t,p[rn]=n,p[bn]=o||t&&t[bn],p[We]=c||t&&t[We],p[ws]=l||t&&t[ws]||null,p[an]=s,p[_u]=iP(),p[Gl]=f,p[t0]=u,p[Cn]=e.type==2?t[Cn]:p,p}function xu(t,e,n,r,i){let s=t.data[e];if(s===null)s=FP(t,e,n,r,i),CM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=_M();s.injectorIndex=o===null?-1:o.injectorIndex}return aa(s,!0),s}function FP(t,e,n,r,i){let s=y0(),o=_0(),c=o?s:s&&s.parent,l=t.data[e]=jP(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function lb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ub(t,e,n,r,i){let s=xs(),o=r&2;try{ii(-1),o&&e.length>sn&&ab(t,e,sn,!1),wn(o?2:0,i),n(r,i)}finally{ii(s),wn(o?3:1,i)}}function db(t,e,n){if(r0(e)){let r=ge(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let l=n[o];c.contentQueries(1,l,o)}}}finally{ge(r)}}}function hb(t,e,n){m0()&&(GP(t,e,n,$t(n,e)),(n.flags&64)===64&&yb(t,e,n))}function fb(t,e,n=$t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function pb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xg(t,e,n,r,i,s,o,c,l,u,f){let p=sn+r,m=p+i,w=LP(p,m),T=typeof u=="function"?u():u;return w[se]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:f}}function LP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mr);return n}function VP(t,e,n,r){let s=r.get(dP,K0)||n===In.ShadowDom,o=t.selectRootElement(e,s);return BP(o),o}function BP(t){UP(t)}var UP=()=>null;function jP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return gM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,l=Sr.None;Array.isArray(o)?(c=o[0],l=o[1]):c=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?gI(r,n,u,c,l):gI(r,n,u,c)}return r}function gI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $P(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],l=null,u=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,w=m?m.inputs:null,T=m?m.outputs:null;l=pI(0,p.inputs,f,l,w),u=pI(1,p.outputs,f,u,T);let M=l!==null&&o!==null&&!sg(e)?iO(l,f,o):null;c.push(M)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=u}function HP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ng(t,e,n,r,i,s,o,c){let l=$t(e,n),u=e.inputs,f;!c&&u!=null&&(f=u[r])?(Rg(t,n,f,r,i),vu(e)&&zP(n,e.index)):e.type&3?(r=HP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function zP(t,e){let n=Rr(e,t);n[H]&16||(n[H]|=64)}function gb(t,e,n,r){if(m0()){let i=r===null?null:{"":-1},s=QP(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&mb(t,e,n,o,i,c),i&&YP(n,r,i)}n.mergedAttrs=Xo(n.mergedAttrs,n.attrs)}function mb(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Sp(nu(n,e),t,r[u].type);ZP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let f=r[u];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,l=lb(t,e,r.length,null);for(let u=0;u<r.length;u++){let f=r[u];n.mergedAttrs=Xo(n.mergedAttrs,f.hostAttrs),XP(t,n,e,l,f),JP(l,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),l++}$P(t,n,s)}function WP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;qP(o)!=c&&o.push(c),o.push(n,r,s)}}function qP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;vu(n)&&eO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nu(n,e),oi(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let l=t.data[c],u=bs(e,t,c,n);if(oi(u,e),o!==null&&rO(e,c-i,u,l,n,o),Ar(l)){let f=Rr(n.index,e);f[rn]=bs(e,t,c,n)}}}function yb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=DM();try{ii(s);for(let c=r;c<i;c++){let l=t.data[c],u=e[c];Cp(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&KP(l,u)}}finally{ii(-1),Cp(o)}}function KP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(LR(e,o.selectors,!1))if(r||(r=[]),Ar(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let l=c.length;Lp(t,e,l)}else r.unshift(o),Lp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Lp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function JP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function ZP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ei(i.type,!0)),o=new si(s,Ar(i),J);t.blueprint[r]=o,n[r]=o,WP(t,e,r,lb(t,n,i.hostVars,Mr),i)}function eO(t,e,n){let r=$t(e,t),i=pb(n),s=t[bn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Nu(t,Au(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function tO(t,e,n,r,i,s){let o=$t(t,e);nO(e[We],o,s,t.value,n,r,i)}function nO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?gu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function rO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let l=o[c++],u=o[c++],f=o[c++],p=o[c++];cb(r,n,l,u,f,p)}}function iO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function _b(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vb(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];w0(s),c.contentQueries(2,e[o],o)}}}finally{ge(r)}}}function Nu(t,e){return t[ta]?t[tI][nn]=e:t[ta]=e,t[tI]=e,e}function Vp(t,e,n){w0(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function sO(t){return t[Kl]??=[]}function oO(t){return t.cleanup??=[]}function wb(t,e){let n=t[ws],r=n?n.get(Gn,null):null;r&&r.handleError(e)}function Rg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],l=n[s++],u=e[o],f=t.data[o];cb(f,u,r,c,l,i)}}function aO(t,e,n){let r=l0(e,t);yP(t[We],r,n)}function cO(t,e){let n=Rr(e,t),r=n[se];lO(r,n);let i=n[Jn];i!==null&&n[Gl]===null&&(n[Gl]=bg(i,n[ws])),Mg(r,n,n[rn])}function lO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Mg(t,e,n){dg(e);try{let r=t.viewQuery;r!==null&&Vp(1,r,n);let i=t.template;i!==null&&ub(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Is]?.finishViewCreation(t),t.staticContentQueries&&vb(t,e),t.staticViewQueries&&Vp(2,t.viewQuery,n);let s=t.components;s!==null&&uO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,hg()}}function uO(t,e){for(let n=0;n<e.length;n++)cO(t,e[n])}function dO(t,e,n,r){let i=ge(null);try{let s=e.tView,c=t[H]&4096?4096:16,l=Au(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Es]=u;let f=t[Is];return f!==null&&(l[Is]=f.createEmbeddedView(s)),Mg(s,l,n),l}finally{ge(i)}}function mI(t,e){return!e||e.firstChild===null||$0(t)}function hO(t,e,n,r=!0){let i=e[se];if(EP(i,e,t,n),r){let o=Fp(n,t),c=e[We],l=rb(c,t[ni]);l!==null&&vP(i,t[an],c,e,l,o)}let s=e[Gl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function au(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Tn(s)),Zn(s)&&fO(s,r);let o=n.type;if(o&8)au(t,e,n.child,r);else if(o&32){let c=Tg(n,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=ib(e,n);if(Array.isArray(c))r.push(...c);else{let l=ri(e[Cn]);au(l[se],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function fO(t,e){for(let n=Ut;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&au(r[se],r,i,e)}t[ni]!==t[Jn]&&e.push(t[ni])}var Eb=[];function pO(t){return t[Bt]??gO(t)}function gO(t){let e=Eb.pop()??Object.create(yO);return e.lView=t,e}function mO(t){t.lView[Bt]!==t&&(t.lView=null,Eb.push(t))}var yO=X(k({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Eu(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function _O(t){let e=t[Bt]??Object.create(vO);return e.lView=t,e}var vO=X(k({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ri(t.lView);for(;e&&!Ib(e[se]);)e=ri(e);e&&f0(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function Ib(t){return t.type!==2}var wO=100;function bb(t,e=!0,n=0){let r=t[bn],i=r.rendererFactory,s=!1;s||i.begin?.();try{EO(t,n)}catch(o){throw e&&wb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function EO(t,e){let n=v0();try{rI(!0),Bp(t,e);let r=0;for(;wu(t);){if(r===wO)throw new U(103,!1);r++,Bp(t,1)}}finally{rI(n)}}function IO(t,e,n,r){let i=e[H];if((i&256)===256)return;let s=!1,o=!1;!s&&e[bn].inlineEffectRunner?.flush(),dg(e);let c=!0,l=null,u=null;s||(Ib(t)?(u=pO(e),l=ol(u)):aE()===null?(c=!1,u=_O(e),l=ol(u)):e[Bt]&&(Mf(e[Bt]),e[Bt]=null));try{h0(e),IM(t.bindingStartIndex),n!==null&&ub(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let w=t.preOrderCheckHooks;w!==null&&Bl(e,w,null)}else{let w=t.preOrderHooks;w!==null&&Ul(e,w,0,null),ip(e,0)}if(o||bO(e),Cb(e,0),t.contentQueries!==null&&vb(t,e),!s)if(f){let w=t.contentCheckHooks;w!==null&&Bl(e,w)}else{let w=t.contentHooks;w!==null&&Ul(e,w,1),ip(e,1)}kP(t,e);let p=t.components;p!==null&&Db(e,p,0);let m=t.viewQuery;if(m!==null&&Vp(2,m,r),!s)if(f){let w=t.viewCheckHooks;w!==null&&Bl(e,w)}else{let w=t.viewHooks;w!==null&&Ul(e,w,2),ip(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rp]){for(let w of e[rp])w();e[rp]=null}s||(e[H]&=-73)}catch(f){throw s||Eu(e),f}finally{u!==null&&(Nf(u,l),c&&mO(u)),hg()}}function Cb(t,e){for(let n=z0(t);n!==null;n=W0(n))for(let r=Ut;r<n.length;r++){let i=n[r];Tb(i,e)}}function bO(t){for(let e=z0(t);e!==null;e=W0(e)){if(!(e[H]&Jl.HasTransplantedViews))continue;let n=e[Yl];for(let r=0;r<n.length;r++){let i=n[r];f0(i)}}}function CO(t,e,n){let r=Rr(e,t);Tb(r,n)}function Tb(t,e){ug(t)&&Bp(t,e)}function Bp(t,e){let r=t[se],i=t[H],s=t[Bt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Rf(s)),o||=!1,s&&(s.dirty=!1),t[H]&=-9217,o)IO(r,t,r.template,t[rn]);else if(i&8192){Cb(t,1);let c=r.components;c!==null&&Db(t,c,1)}}function Db(t,e,n){for(let r=0;r<e.length;r++)CO(t,e[r],n)}function Pg(t,e){let n=v0()?64:1088;for(t[bn].changeDetectionScheduler?.notify(e);t;){t[H]|=n;let r=ri(t);if(Ep(t)&&!r)return t;t=r}return null}var ai=class{get rootNodes(){let e=this._lView,n=e[se];return au(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(Zn(e)){let n=e[Ql],r=n?n.indexOf(this):-1;r>-1&&(kp(e,r),Wl(n,r))}this._attachedToViewContainer=!1}tb(this._lView[se],this._lView)}onDestroy(e){p0(this._lView,e)}markForCheck(){Pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){bp(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ep(this._lView),n=this._lView[Es];n!==null&&!e&&Dg(n,this._lView),X0(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Ep(this._lView),r=this._lView[Es];r!==null&&!n&&eb(r,this._lView),bp(this._lView)}},Ru=(()=>{class t{static{this.__NG_ELEMENT_ID__=SO}}return t})(),TO=Ru,DO=class extends TO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ai(i)}};function SO(){return AO(St(),be())}function AO(t,e){return t.type&4?new DO(e,t,Tu(t,e)):null}var L5=new RegExp(`^(\\d+)*(${lP}|${cP})*(.*)`);var xO=()=>null;function yI(t,e){return xO(t,e)}var Cs=class{},Og=new B("",{providedIn:"root",factory:()=>!1});var Sb=new B(""),Ab=new B(""),Up=class{},cu=class{};function NO(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[RO]=t,e}var RO="ngComponent";var jp=class{resolveComponentFactory(e){throw NO(e)}},Ts=class{static{this.NULL=new jp}},Ds=class{},Pr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>MO()}}return t})();function MO(){let t=be(),e=St(),n=Rr(e.index,t);return(Dr(n)?n:t)[We]}var PO=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})();function $p(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=WE(i,c);else if(s==2){let l=c,u=e[++o];r=WE(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var lu=class extends Ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ti(e);return new na(n,this.ngModule)}};function _I(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Sr.None;e?n.push({propName:o,templateName:r,isSignal:(c&Sr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function OO(t){let e=t.toLowerCase();return e==="svg"?c0:e==="math"?cM:null}var na=class extends cu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=_I(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _I(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ge(null);try{i=i||this.ngModule;let o=i instanceof jt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Tp(e,o):e,l=c.get(Ds,null);if(l===null)throw new U(407,!1);let u=c.get(PO,null),f=c.get(Cs,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:f},m=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",T=r?VP(m,r,this.componentDef.encapsulation,c):Z0(m,w,OO(w)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let F=null;T!==null&&(F=bg(T,c,!0));let $=xg(0,null,null,1,0,null,null,null,null,null,null),pe=Au(null,$,null,M,null,null,p,m,c,null,F);dg(pe);let de,Me,Ct=null;try{let Ie=this.componentDef,I,y=null;Ie.findHostDirectiveDefs?(I=[],y=new Map,Ie.findHostDirectiveDefs(Ie,I,y),I.push(Ie)):I=[Ie];let v=kO(pe,T);Ct=FO(v,T,Ie,I,pe,p,m),Me=u0($,sn),T&&BO(m,Ie,T,r),n!==void 0&&UO(Me,this.ngContentSelectors,n),de=VO(Ct,Ie,I,y,pe,[jO]),Mg($,pe,null)}catch(Ie){throw Ct!==null&&Pp(Ct),Pp(pe),Ie}finally{hg()}return new Hp(this.componentType,de,Tu(Me,pe),pe,Me)}finally{ge(s)}}},Hp=class extends Up{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Rg(s[se],s,i,e,n),this.previousInputValues.set(e,n);let o=Rr(this._tNode.index,s);Pg(o,1)}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kO(t,e){let n=t[se],r=sn;return t[r]=e,xu(n,r,2,"#host",null)}function FO(t,e,n,r,i,s,o){let c=i[se];LO(r,t,e,o);let l=null;e!==null&&(l=bg(e,i[ws]));let u=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Au(i,pb(n),null,f,i[t.index],t,s,u,null,null,l);return c.firstCreatePass&&Lp(c,t,r.length-1),Nu(i,p),i[t.index]=p}function LO(t,e,n,r){for(let i of t)e.mergedAttrs=Xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($p(e,e.mergedAttrs,!0),n!==null&&ob(r,n,e))}function VO(t,e,n,r,i,s){let o=St(),c=i[se],l=$t(o,i);mb(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=bs(i,c,p,o);oi(m,i)}yb(c,i,o),l&&oi(l,i);let u=bs(i,c,o.directiveStart+o.componentOffset,o);if(t[rn]=i[rn]=u,s!==null)for(let f of s)f(u,e);return db(c,o,i),u}function BO(t,e,n,r){if(r)yp(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:s}=$R(e.selectors[0]);i&&yp(t,n,i),s&&s.length>0&&sb(t,n,s.join(" "))}}function UO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function jO(){let t=St();mg(be()[se],t)}var Ms=(()=>{class t{static{this.__NG_ELEMENT_ID__=$O}}return t})();function $O(){let t=St();return zO(t,be())}var HO=Ms,xb=class extends HO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=yg(this._hostTNode,this._hostLView);if(A0(e)){let n=eu(e,this._hostLView),r=Xl(e),i=n[se].data[r+8];return new Xr(i,n)}else return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=yI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,mI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!iM(e),c;if(o)c=n;else{let T=n||{};c=T.index,r=T.injector,i=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef}let l=o?e:new na(ti(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let M=(o?u:this.parentInjector).get(jt,null);M&&(s=M)}let f=ti(l.componentType??{}),p=yI(this._lContainer,f?.id??null),m=p?.firstChild??null,w=l.create(u,i,m,s);return this.insertImpl(w.hostView,c,mI(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[wt],u=new xb(l,l[an],l[wt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hO(o,i,s,r),e.attachToViewContainerRef(),UI(lp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);r&&(Wl(lp(this._lContainer),n),tb(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);return r&&Wl(lp(this._lContainer),n)!=null?new ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vI(t){return t[Ql]}function lp(t){return t[Ql]||(t[Ql]=[])}function zO(t,e){let n,r=e[t.index];return Zn(r)?n=r:(n=_b(r,e,null,t),e[t.index]=n,Nu(e,n)),qO(n,e,t,r),new xb(n,t,e)}function WO(t,e){let n=t[We],r=n.createComment(""),i=$t(e,t),s=rb(n,i);return ou(n,s,r,DP(n,i),!1),r}var qO=QO,GO=()=>!1;function KO(t,e,n){return GO(t,e,n)}function QO(t,e,n,r){if(t[ni])return;let i;n.type&8?i=Tn(r):i=WO(e,n),t[ni]=i}var wI=new Set;function Mu(t){wI.has(t)||(wI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function YO(t){return typeof t=="function"&&t[zn]!==void 0}function ca(t,e){Mu("NgSignals");let n=_E(t),r=n[zn];return e?.equal&&(r.equal=e.equal),n.set=i=>Pf(r,i),n.update=i=>vE(r,i),n.asReadonly=JO.bind(n),n}function JO(){let t=this[zn];if(t.readonlyFn===void 0){let e=()=>this();e[zn]=t,t.readonlyFn=e}return t.readonlyFn}function Nb(t){return YO(t)&&typeof t.set=="function"}function ZO(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=ZO(t.type),n=!0,r=[t];for(;e;){let i;if(Ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=kl(t.inputs),o.inputTransforms=kl(t.inputTransforms),o.declaredInputs=kl(t.declaredInputs),o.outputs=kl(t.outputs);let c=i.hostBindings;c&&rk(t,c);let l=i.viewQuery,u=i.contentQueries;if(l&&tk(t,l),u&&nk(t,u),XO(t,i),cR(t.outputs,i.outputs),Ar(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}ek(r)}function XO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ek(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xo(i.hostAttrs,n=Xo(n,i.hostAttrs))}}function kl(t){return t===ys?{}:t===Vt?[]:t}function tk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function rk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var xr=class{},ra=class{};var zp=class extends xr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lu(this);let s=KI(e);this._bootstrapComponents=J0(s.bootstrap),this._r3Injector=L0(e,n,[{provide:xr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wp=class extends ra{constructor(e){super(),this.moduleType=e}create(e){return new zp(this.moduleType,e,[])}};var uu=class extends xr{constructor(e){super(),this.componentFactoryResolver=new lu(this),this.instance=null;let n=new ea([...e.providers,{provide:xr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],e.parent||cg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kg(t,e,n=null){return new uu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Rb(t){return sk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ik(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function sk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ok(t,e,n){return t[e]=n}function Nr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ak(t,e,n,r){let i=Nr(t,e,n);return Nr(t,e+1,r)||i}function ck(t,e,n,r,i){let s=ak(t,e,n,r);return Nr(t,e+2,i)||s}function lk(t){return(t.flags&32)===32}function uk(t,e,n,r,i,s,o,c,l){let u=e.consts,f=xu(e,t,4,o||null,c||null);gb(e,n,f,Zl(u,l)),mg(e,f);let p=f.tView=xg(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function dk(t,e,n,r,i,s,o,c,l,u){let f=n+sn,p=e.firstCreatePass?uk(f,e,t,r,i,s,o,c,l):e.data[f];aa(p,!1);let m=hk(e,t,p,n);pg()&&Sg(e,t,m,p),oi(m,t);let w=_b(m,t,m,p);return t[f]=w,Nu(t,w),KO(w,p,t),lg(p)&&hb(e,t,p),l!=null&&fb(t,p,u),p}function At(t,e,n,r,i,s,o,c){let l=be(),u=Et(),f=Zl(u.consts,s);return dk(l,u,t,e,n,r,i,f,o,c),At}var hk=fk;function fk(t,e,n,r){return gg(!0),e[We].createComment("")}var Yo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yo||{}),pk=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})(),EI=class t{constructor(){this.ngZone=L(ve),this.scheduler=L(Cs),this.errorHandler=L(Gn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}};function Pu(t,e,n,r){let i=be(),s=Iu();if(Nr(i,s,e)){let o=Et(),c=bu();tO(c,i,t,e,n,r)}return Pu}function Mb(t,e,n,r){return Nr(t,Iu(),n)?e+gu(n)+r:Mr}function Fl(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function gk(t){return(t&2)==2}function mk(t,e){return t&131071|e<<17}function qp(t){return t|2}function Ss(t){return(t&131068)>>2}function up(t,e){return t&-131069|e<<2}function yk(t){return(t&1)===1}function Gp(t){return t|1}function _k(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ci(o),l=Ss(o);t[r]=n;let u=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||oa(p,f)>0)&&(u=!0)}else f=n;if(i)if(l!==0){let m=ci(t[c+1]);t[r+1]=Fl(m,c),m!==0&&(t[m+1]=up(t[m+1],r)),t[c+1]=mk(t[c+1],r)}else t[r+1]=Fl(c,0),c!==0&&(t[c+1]=up(t[c+1],r)),c=r;else t[r+1]=Fl(l,0),c===0?c=r:t[l+1]=up(t[l+1],r),l=r;u&&(t[r+1]=qp(t[r+1])),II(t,f,r,!0),II(t,f,r,!1),vk(e,f,t,r,s),o=Fl(c,l),s?e.classBindings=o:e.styleBindings=o}function vk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&oa(s,e)>=0&&(n[r+1]=Gp(n[r+1]))}function II(t,e,n,r){let i=t[n+1],s=e===null,o=r?ci(i):Ss(i),c=!1;for(;o!==0&&(c===!1||s);){let l=t[o],u=t[o+1];wk(l,e)&&(c=!0,t[o+1]=r?Gp(u):qp(u)),o=r?ci(u):Ss(u)}c&&(t[n+1]=r?qp(i):Gp(i))}function wk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oa(t,e)>=0:!1}function oe(t,e,n){let r=be(),i=Iu();if(Nr(r,i,e)){let s=Et(),o=bu();Ng(s,o,r,t,e,r[We],n,!1)}return oe}function bI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Rg(t,n,s[o],o,r)}function Ou(t,e){return Ek(t,e,null,!0),Ou}function Ek(t,e,n,r){let i=be(),s=Et(),o=bM(2);if(s.firstUpdatePass&&bk(s,t,o,r),e!==Mr&&Nr(i,o,e)){let c=s.data[xs()];Ak(s,c,i,i[We],t,i[o+1]=xk(e,n),r,o)}}function Ik(t,e){return e>=t.expandoStartIndex}function bk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[xs()],o=Ik(t,n);Nk(s,r)&&e===null&&!o&&(e=!1),e=Ck(i,s,e,r),_k(i,s,e,n,o,r)}}function Ck(t,e,n,r){let i=SM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=dp(null,t,e,n,r),n=ia(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=dp(i,t,e,n,r),s===null){let l=Tk(t,e,r);l!==void 0&&Array.isArray(l)&&(l=dp(null,t,e,l[1],r),l=ia(l,e.attrs,r),Dk(t,e,r,l))}else s=Sk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Tk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ss(r)!==0)return t[ci(r)]}function Dk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ci(i)]=r}function Sk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ia(r,o,n)}return ia(r,e.attrs,n)}function dp(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=ia(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),AR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ak(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let l=t.data,u=l[c+1],f=yk(u)?CI(l,e,n,i,Ss(u),o):void 0;if(!du(f)){du(s)||gk(u)&&(s=CI(l,null,n,i,c,o));let p=l0(xs(),n);PP(r,o,p,i,s)}}function CI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let l=t[i],u=Array.isArray(l),f=u?l[1]:l,p=f===null,m=n[i+1];m===Mr&&(m=p?Vt:void 0);let w=p?tp(m,r):f===r?m:void 0;if(u&&!du(w)&&(w=tp(l,r)),du(w)&&(c=w,o))return c;let T=t[i+1];i=o?ci(T):Ss(T)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=tp(l,r))}return c}function du(t){return t!==void 0}function xk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(Du(t)))),t}function Nk(t,e){return(t.flags&(e?8:16))!==0}function Rk(t,e,n,r,i,s){let o=e.consts,c=Zl(o,i),l=xu(e,t,2,r,c);return gb(e,n,l,Zl(o,s)),l.attrs!==null&&$p(l,l.attrs,!1),l.mergedAttrs!==null&&$p(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function N(t,e,n,r){let i=be(),s=Et(),o=sn+t,c=i[We],l=s.firstCreatePass?Rk(o,s,i,e,n,r):s.data[o],u=Mk(s,i,l,c,e,t);i[o]=u;let f=lg(l);return aa(l,!0),ob(c,u,l),!lk(l)&&pg()&&Sg(s,i,u,l),hM()===0&&oi(u,i),fM(),f&&(hb(s,i,l),db(s,l,i)),r!==null&&fb(i,l),N}function x(){let t=St();_0()?vM():(t=t.parent,aa(t,!1));let e=t;mM(e)&&yM(),pM();let n=Et();return n.firstCreatePass&&(mg(n,t),r0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kM(e)&&bI(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FM(e)&&bI(n,e,be(),e.stylesWithoutHost,!1),x}function Se(t,e,n,r){return N(t,e,n,r),x(),Se}var Mk=(t,e,n,r,i,s)=>(gg(!0),Z0(r,i,RM()));function cn(){return be()}var hu="en-US";var Pk=hu;function Ok(t){typeof t=="string"&&(Pk=t.toLowerCase().replace(/_/g,"-"))}var kk=(t,e,n)=>{};function Ae(t,e,n,r){let i=be(),s=Et(),o=St();return Pb(s,i,i[We],o,t,e,r),Ae}function Fk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Kl],l=i[s+2];return c.length>l?c[l]:null}typeof o=="string"&&(s+=2)}return null}function Pb(t,e,n,r,i,s,o){let c=lg(r),u=t.firstCreatePass&&oO(t),f=e[rn],p=sO(e),m=!0;if(r.type&3||o){let M=$t(r,e),F=o?o(M):M,$=p.length,pe=o?Me=>o(Tn(Me[r.index])):r.index,de=null;if(!o&&c&&(de=Fk(t,e,i,r.index)),de!==null){let Me=de.__ngLastListenerFn__||de;Me.__ngNextListenerFn__=s,de.__ngLastListenerFn__=s,m=!1}else{s=DI(r,e,f,s),kk(M,i,s);let Me=n.listen(F,i,s);p.push(s,Me),u&&u.push(i,pe,$,$+1)}}else s=DI(r,e,f,s);let w=r.outputs,T;if(m&&w!==null&&(T=w[i])){let M=T.length;if(M)for(let F=0;F<M;F+=2){let $=T[F],pe=T[F+1],Ct=e[$][pe].subscribe(s),Ie=p.length;p.push(s,Ct),u&&u.push(i,r.index,Ie,-(Ie+1))}}}function TI(t,e,n,r){let i=ge(null);try{return wn(6,e,n),n(r)!==!1}catch(s){return wb(t,s),!1}finally{wn(7,e,n),ge(i)}}function DI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Rr(t.index,e):e;Pg(o,5);let c=TI(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=TI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function z(t=1){return xM(t)}function ku(t,e,n){return Ob(t,"",e,"",n),ku}function Ob(t,e,n,r,i){let s=be(),o=Mb(s,e,n,r);if(o!==Mr){let c=Et(),l=bu();Ng(c,l,s,t,o,s[We],i,!1)}return Ob}function Lk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ps(t){let e=wM();return d0(e,sn+t)}function O(t,e=""){let n=be(),r=Et(),i=t+sn,s=r.firstCreatePass?xu(r,i,1,e,null):r.data[i],o=Vk(r,n,s,e,t);n[i]=o,pg()&&Sg(r,n,o,s),aa(s,!1)}var Vk=(t,e,n,r,i)=>(gg(!0),mP(e[We],r));function di(t){return Ge("",t,""),di}function Ge(t,e,n){let r=be(),i=Mb(r,t,e,n);return i!==Mr&&aO(r,xs(),i),Ge}function $e(t,e,n){Nb(e)&&(e=e());let r=be(),i=Iu();if(Nr(r,i,e)){let s=Et(),o=bu();Ng(s,o,r,t,e,r[We],n,!1)}return $e}function Ke(t,e){let n=Nb(t);return n&&t.set(e),n}function He(t,e){let n=be(),r=Et(),i=St();return Pb(r,n,n[We],i,t,e),He}function Bk(t,e,n){let r=Et();if(r.firstCreatePass){let i=Ar(t);Kp(n,r.data,r.blueprint,i,!0),Kp(e,r.data,r.blueprint,i,!1)}}function Kp(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let s=0;s<t.length;s++)Kp(t[s],e,n,r,i);else{let s=Et(),o=be(),c=St(),l=vs(t)?t:_t(t.provide),u=e0(t),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(vs(t)||!t.multi){let w=new si(u,i,J),T=fp(l,e,i?f:f+m,p);T===-1?(Sp(nu(c,o),s,l),hp(s,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)):(n[T]=w,o[T]=w)}else{let w=fp(l,e,f+m,p),T=fp(l,e,f,f+m),M=w>=0&&n[w],F=T>=0&&n[T];if(i&&!F||!i&&!M){Sp(nu(c,o),s,l);let $=$k(i?jk:Uk,n.length,i,r,u);!i&&F&&(n[T].providerFactory=$),hp(s,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push($),o.push($)}else{let $=kb(n[i?T:w],u,!i&&r);hp(s,t,w>-1?w:T,$)}!i&&r&&F&&n[T].componentProviders++}}}function hp(t,e,n,r){let i=vs(e),s=YR(e);if(i||s){let l=(s?_t(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(n);f===-1?u.push(n,[r,l]):u[f+1].push(r,l)}else u.push(n,l)}}}function kb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uk(t,e,n,r){return Qp(this.multi,[])}function jk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=bs(n,n[se],this.providerFactory.index,r);s=c.slice(0,o),Qp(i,s);for(let l=o;l<c.length;l++)s.push(c[l])}else s=[],Qp(i,s);return s}function Qp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $k(t,e,n,r,i){let s=new si(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,kb(s,i,r&&!n),s}function zt(t,e=[]){return n=>{n.providersResolver=(r,i)=>Bk(r,i?i(t):t,e)}}var Hk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=JI(!1,n.type),i=r.length>0?kg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(Q(jt))})}}return t})();function An(t){Mu("NgStandalone"),t.getStandaloneInjector=e=>e.get(Hk).getOrCreateStandaloneInjector(t)}function zk(t,e){let n=t[e];return n===Mr?void 0:n}function Wk(t,e,n,r,i,s,o,c){let l=e+n;return ck(t,l,i,s,o)?ok(t,l+3,c?r.call(c,i,s,o):r(i,s,o)):zk(t,l+3)}function Fb(t,e){let n=Et(),r,i=t+sn;n.firstCreatePass?(r=qk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ei(r.type,!0)),o,c=Dt(J);try{let l=tu(!1),u=s();return tu(l),Lk(n,be(),i,u),u}finally{Dt(c)}}function qk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Lb(t,e,n,r,i){let s=t+sn,o=be(),c=d0(o,s);return Gk(o,s)?Wk(o,EM(),e,c.transform,n,r,i,c):c.transform(n,r,i)}function Gk(t,e){return t[se].data[e].pure}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Fg=new Qn("18.2.13");var Fu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Vb=new B("");function hi(t){return!!t&&typeof t.then=="function"}function Bb(t){return!!t&&typeof t.subscribe=="function"}var Lu=new B(""),Ub=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(Lu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(hi(s))n.push(s);else if(Bb(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lg=new B("");function Kk(){yE(()=>{throw new U(600,!1)})}function Qk(t){return t.isBoundToModule}var Yk=10;function Jk(t,e,n){try{let r=n();return hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(tP),this.afterRenderManager=L(pk),this.zonelessEnabled=L(Og),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=L(Ns).hasPendingTasks.pipe(ie(n=>!n)),this._injector=L(jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof cu;if(!this._injector.get(Ub).done){let m=!i&&GI(n),w=!1;throw new U(405,w)}let o;i?o=n:o=this._injector.get(Ts).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=Qk(o)?void 0:this._injector.get(xr),l=r||o.selector,u=o.create(ht.NULL,[],l,c),f=u.location.nativeElement,p=u.injector.get(Vb,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),jl(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let n=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ge(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ds,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Yk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Zk(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>wu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;jl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Lg,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zk(t,e,n,r){if(!n&&!wu(t))return;bb(t,e,n&&!r?0:1)}var Yp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vg=(()=>{class t{compileModuleSync(n){return new Wp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=KI(n),s=J0(i.declarations).reduce((o,c)=>{let l=ti(c);return l&&o.push(new na(l)),o},[]);return new Yp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xk=(()=>{class t{constructor(){this.zone=L(ve),this.changeDetectionScheduler=L(Cs),this.applicationRef=L(fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function e1({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(X(k({},t1()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:_s,multi:!0,useFactory:()=>{let r=L(Xk,{optional:!0});return()=>r.initialize()}},{provide:_s,multi:!0,useFactory:()=>{let r=L(n1);return()=>{r.initialize()}}},e===!0?{provide:Sb,useValue:!0}:[],{provide:Ab,useValue:n??V0}]}function t1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var n1=(()=>{class t{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=L(ve),this.pendingTasks=L(Ns)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var r1=(()=>{class t{constructor(){this.appRef=L(fi),this.taskService=L(Ns),this.ngZone=L(ve),this.zonelessEnabled=L(Og),this.disableScheduling=L(Sb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ve,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(iu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(Ab,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Mp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cI:U0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function i1(){return typeof $localize<"u"&&$localize.locale||hu}var Bg=new B("",{providedIn:"root",factory:()=>L(Bg,Z.Optional|Z.SkipSelf)||i1()});var Jp=new B("");function Ll(t){return!t.moduleRef}function s1(t){let e=Ll(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ll(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Gn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ll(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Jp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Jp);o.add(s),t.moduleRef.onDestroy(()=>{jl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Jk(r,n,()=>{let s=e.get(Ub);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Bg,hu);if(Ok(o||hu),Ll(t)){let c=e.get(fi);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return o1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function o1(t,e){let n=t.injector.get(fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var $l=null;function a1(t=[],e){return ht.create({name:e,providers:[{provide:yu,useValue:"platform"},{provide:Jp,useValue:new Set([()=>$l=null])},...t]})}function c1(t=[]){if($l)return $l;let e=a1(t);return $l=e,Kk(),l1(e),e}function l1(t){t.get(Eg,null)?.forEach(n=>n())}var pi=(()=>{class t{static{this.__NG_ELEMENT_ID__=u1}}return t})();function u1(t){return d1(St(),be(),(t&16)===16)}function d1(t,e,n){if(vu(t)&&!n){let r=Rr(t.index,e);return new ai(r,r)}else if(t.type&175){let r=e[Cn];return new ai(r,e)}return null}var Zp=class{constructor(){}supports(e){return Rb(e)}create(e){return new Xp(e)}},h1=(t,e)=>e,Xp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||h1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<SI(r,i,s)?n:r,c=SI(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=c-i,f=l-i;if(u!=f){for(let m=0;m<u;m++){let w=m<s.length?s[m]:s[m]=0,T=w+m;f<=T&&T<u&&(s[m]=w+1)}let p=o.previousIndex;s[p]=f-u}}c!==l&&e(o,c,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Rb(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,ik(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new eg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},eg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function AI(){return new Ug([new Zp])}var Ug=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:AI})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AI()),deps:[[t,new BI,new qe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function jb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=c1(r),s=[e1({}),{provide:Cs,useExisting:r1},...n||[]],o=new uu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return s1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function la(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ua(t,e){Mu("NgSignals");let n=pE(t);return e?.equal&&(n[zn].equal=e.equal),n}function rr(t){let e=ge(null);try{return t()}finally{ge(e)}}var qb=null;function ir(){return qb}function Gb(t){qb??=t}var Vu=class{};var qt=new B(""),Kb=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L(g1),providedIn:"platform"})}}return t})();var g1=(()=>{class t extends Kb{constructor(){super(),this._doc=L(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(n){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Qb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $b(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var Uu=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L(Yb),providedIn:"root"})}}return t})(),m1=new B(""),Yb=(()=>{class t extends Uu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Kb),Q(m1,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var da=(()=>{class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=v1($b(Hb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(_1(this._basePath,Hb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=gi}static{this.joinWithSlash=Qb}static{this.stripTrailingSlash=$b}static{this.\u0275fac=function(r){return new(r||t)(Q(Uu))}}static{this.\u0275prov=j({token:t,factory:()=>y1(),providedIn:"root"})}}return t})();function y1(){return new da(Q(Uu))}function _1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hb(t){return t.replace(/\/index.html$/,"")}function v1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Jb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var jg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ju=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),zb(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);zb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(J(Ms),J(Ru),J(Ug))}}static{this.\u0275dir=je({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function zb(t,e){t.context.$implicit=e.item}var Os=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new $g,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Wb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Wb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(J(Ms),J(Ru))}}static{this.\u0275dir=je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),$g=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}var sr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ui({type:t})}static{this.\u0275inj=li({})}}return t})(),Zb="browser",w1="server";function Hg(t){return t===w1}var Bu=class{};var Gg=class extends Vu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kg=class t extends Gg{static makeCurrent(){Gb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=E1();return n==null?null:I1(n)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jb(document.cookie,e)}},ha=null;function E1(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function I1(t){return new URL(t,document.baseURI).pathname}var b1=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Qg=new B(""),nC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Q(Qg),Q(ve))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),$u=class{constructor(e){this._doc=e}},Wg="ng-app-id",rC=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hg(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Wg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Wg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Wg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Q(qt),Q(wg),Q(Ig,8),Q(nr))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jg=/%COMP%/g,iC="%COMP%",C1=`_nghost-${iC}`,T1=`_ngcontent-${iC}`,D1=!0,S1=new B("",{providedIn:"root",factory:()=>D1});function A1(t){return T1.replace(Jg,t)}function x1(t){return C1.replace(Jg,t)}function sC(t,e){return e.map(n=>n.replace(Jg,t))}var Xb=(()=>{class t{constructor(n,r,i,s,o,c,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Hg(c),this.defaultRenderer=new fa(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===In.ShadowDom&&(r=X(k({},r),{encapsulation:In.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hu?i.applyToHost(n):i instanceof pa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case In.Emulated:s=new Hu(l,u,r,this.appId,f,o,c,p);break;case In.ShadowDom:return new Yg(l,u,n,r,o,c,this.nonce,p);default:s=new pa(l,u,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Q(nC),Q(rC),Q(wg),Q(S1),Q(qt),Q(nr),Q(ve),Q(Ig))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),fa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=qg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function eC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yg=class extends fa{constructor(e,n,r,i,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=sC(i.id,i.styles);for(let f of u){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pa=class extends fa{constructor(e,n,r,i,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?sC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hu=class extends pa{constructor(e,n,r,i,s,o,c,l){let u=i+"-"+r.id;super(e,n,r,s,o,c,l,u),this.contentAttr=A1(u),this.hostAttr=x1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},N1=(()=>{class t extends $u{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Q(qt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),tC=["alt","control","meta","shift"],R1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},P1=(()=>{class t extends $u{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),tC.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=R1[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tC.forEach(o=>{if(o!==i){let c=M1[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Q(qt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function oC(t,e){return jb(k({rootComponent:t},O1(e)))}function O1(t){return{appProviders:[...B1,...t?.providers??[]],platformProviders:V1}}function k1(){Kg.makeCurrent()}function F1(){return new Gn}function L1(){return G0(document),document}var V1=[{provide:nr,useValue:Zb},{provide:Eg,useValue:k1,multi:!0},{provide:qt,useFactory:L1,deps:[]}];var B1=[{provide:yu,useValue:"root"},{provide:Gn,useFactory:F1,deps:[]},{provide:Qg,useClass:N1,multi:!0,deps:[qt,ve,nr]},{provide:Qg,useClass:P1,multi:!0,deps:[qt]},Xb,rC,nC,{provide:Ds,useExisting:Xb},{provide:Bu,useClass:b1,deps:[]},[]];var aC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Q(qt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(J(Pr),J(tr))}}static{this.\u0275dir=je({type:t})}}return t})(),Ju=(()=>{class t extends yC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,features:[Ht]})}}return t})(),Ea=new B("");var j1={provide:Ea,useExisting:Dn(()=>Bs),multi:!0};function $1(){let t=ir()?ir().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var H1=new B(""),Bs=(()=>{class t extends yC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(J(Pr),J(tr),J(H1,8))}}static{this.\u0275dir=je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ae("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[zt([j1]),Ht]})}}return t})();function z1(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Xg=new B(""),_C=new B("");function W1(t){return z1(t.value)?{required:!0}:null}function cC(t){return null}function vC(t){return t!=null}function wC(t){return hi(t)?Ue(t):t}function EC(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function IC(t,e){return e.map(n=>n(t))}function q1(t){return!t.validate}function bC(t){return t.map(e=>q1(e)?e:n=>e.validate(n))}function G1(t){if(!t)return null;let e=t.filter(vC);return e.length==0?null:function(n){return EC(IC(n,e))}}function em(t){return t!=null?G1(bC(t)):null}function K1(t){if(!t)return null;let e=t.filter(vC);return e.length==0?null:function(n){let r=IC(n,e).map(wC);return Qf(r).pipe(ie(EC))}}function tm(t){return t!=null?K1(bC(t)):null}function lC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Q1(t){return t._rawValidators}function Y1(t){return t._rawAsyncValidators}function Zg(t){return t?Array.isArray(t)?t:[t]:[]}function Wu(t,e){return Array.isArray(t)?t.includes(e):t===e}function uC(t,e){let n=Zg(e);return Zg(t).forEach(i=>{Wu(n,i)||n.push(i)}),n}function dC(t,e){return Zg(e).filter(n=>!Wu(t,n))}var qu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends qu{get formDirective(){return null}get path(){return null}},wa=class extends qu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},J1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J9=X(k({},J1),{"[class.ng-submitted]":"isSubmitted"}),Zu=(()=>{class t extends Gu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(J(wa,2))}}static{this.\u0275dir=je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ou("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ht]})}}return t})(),CC=(()=>{class t extends Gu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(J(Ls,10))}}static{this.\u0275dir=je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ou("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ht]})}}return t})();var ga="VALID",zu="INVALID",ks="PENDING",ma="DISABLED",Vs=class{},Ku=class extends Vs{constructor(e,n){super(),this.value=e,this.source=n}},_a=class extends Vs{constructor(e,n){super(),this.pristine=e,this.source=n}},va=class extends Vs{constructor(e,n){super(),this.touched=e,this.source=n}},Fs=class extends Vs{constructor(e,n){super(),this.status=e,this.source=n}};function TC(t){return(Xu(t)?t.validators:t)||null}function Z1(t){return Array.isArray(t)?em(t):t||null}function DC(t,e){return(Xu(e)?e.asyncValidators:t)||null}function X1(t){return Array.isArray(t)?tm(t):t||null}function Xu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function tF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var Qu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ua(()=>this.statusReactive()),this.statusReactive=ca(void 0),this._pristine=ua(()=>this.pristineReactive()),this.pristineReactive=ca(!0),this._touched=ua(()=>this.touchedReactive()),this.touchedReactive=ca(!1),this._events=new rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rr(this.statusReactive)}set status(e){rr(()=>this.statusReactive.set(e))}get valid(){return this.status===ga}get invalid(){return this.status===zu}get pending(){return this.status==ks}get disabled(){return this.status===ma}get enabled(){return this.status!==ma}get pristine(){return rr(this.pristineReactive)}set pristine(e){rr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rr(this.touchedReactive)}set touched(e){rr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dC(e,this._rawAsyncValidators))}hasValidator(e){return Wu(this._rawValidators,e)}hasAsyncValidator(e){return Wu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new va(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new va(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _a(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new _a(!0,r))}markAsPending(e={}){this.status=ks;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ma,this.errors=null,this._forEachChild(i=>{i.disable(X(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ku(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ga,this._forEachChild(r=>{r.enable(X(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ku(this.value,n)),this._events.next(new Fs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ma:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=wC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ma:this.errors?zu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(zu)?zu:ga}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new _a(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new va(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Z1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=X1(this._rawAsyncValidators)}},Yu=class extends Qu{constructor(e,n,r){super(TC(n),DC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tF(this,!0,e),Object.keys(e).forEach(r=>{eF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nm=new B("CallSetDisabledState",{providedIn:"root",factory:()=>rm}),rm="always";function nF(t,e){return[...e.path,t]}function SC(t,e,n=rm){AC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iF(t,e),oF(t,e),sF(t,e),rF(t,e)}function hC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function AC(t,e){let n=Q1(t);e.validator!==null?t.setValidators(lC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Y1(t);e.asyncValidator!==null?t.setAsyncValidators(lC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hC(e._rawValidators,i),hC(e._rawAsyncValidators,i)}function iF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xC(t,e)})}function sF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aF(t,e){t==null,AC(t,e)}function cF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lF(t){return Object.getPrototypeOf(t.constructor)===Ju}function uF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Bs?n=s:lF(s)?r=s:i=s}),i||r||n||null}var hF={provide:Ls,useExisting:Dn(()=>im)},ya=Promise.resolve(),im=(()=>{class t extends Ls{get submitted(){return rr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ua(()=>this.submittedReactive()),this.submittedReactive=ca(!1),this._directives=new Set,this.ngSubmit=new Fe,this.form=new Yu({},em(n),tm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ya.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),SC(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ya.then(()=>{let r=this._findContainer(n.path),i=new Yu({});aF(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ya.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),uF(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(J(Xg,10),J(_C,10),J(nm,8))}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([hF]),Ht]})}}return t})();function fC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var fF=class extends Qu{constructor(e=null,n,r){super(TC(n),DC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pF={provide:wa,useExisting:Dn(()=>Ia)},gC=Promise.resolve(),Ia=(()=>{class t extends wa{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new fF,this._registered=!1,this.name="",this.update=new Fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dF(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){SC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){gC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&la(r);gC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nF(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(J(Ls,9),J(Xg,10),J(_C,10),J(Ea,10),J(pi,8),J(nm,8))}}static{this.\u0275dir=je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([pF]),Ht,Xn]})}}return t})(),NC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),gF={provide:Ea,useExisting:Dn(()=>sm),multi:!0},sm=(()=>{class t extends Ju{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[zt([gF]),Ht]})}}return t})();var mF={provide:Ea,useExisting:Dn(()=>Us),multi:!0};function RC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function yF(t){return t.split(":")[0]}var Us=(()=>{class t extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=RC(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=yF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ae("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zt([mF]),Ht]})}}return t})(),ed=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(RC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(J(tr),J(Pr),J(Us,9))}}static{this.\u0275dir=je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),_F={provide:Ea,useExisting:Dn(()=>MC),multi:!0};function mC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function vF(t){return t.split(":")[0]}var MC=(()=>{class t extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],u=this._getOptionValue(l.value);i.push(u)}}else{let o=r.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=vF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zt([_F]),Ht]})}}return t})(),td=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(mC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(mC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(J(tr),J(Pr),J(MC,9))}}static{this.\u0275dir=je({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var wF=(()=>{class t{constructor(){this._validator=cC}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,features:[Xn]})}}return t})();var EF={provide:Xg,useExisting:Dn(()=>om),multi:!0};var om=(()=>{class t extends wF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=la,this.createValidator=n=>W1}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Pu("required",i._enabled?"":null)},inputs:{required:"required"},features:[zt([EF]),Ht]})}}return t})();var IF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ui({type:t})}static{this.\u0275inj=li({})}}return t})();var nd=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:nm,useValue:n.callSetDisabledState??rm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ui({type:t})}static{this.\u0275inj=li({imports:[IF]})}}return t})();var Tm={};PN(Tm,{FirebaseError:()=>Or,SDK_VERSION:()=>un,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>Hs,_addOrOverwriteComponent:()=>Cm,_apps:()=>kr,_clearComponents:()=>bL,_components:()=>$s,_getProvider:()=>Kt,_isFirebaseApp:()=>XC,_isFirebaseServerApp:()=>vi,_registerComponent:()=>Xe,_removeServiceInstance:()=>ZC,_serverApps:()=>js,deleteApp:()=>Sa,getApp:()=>dn,getApps:()=>Da,initializeApp:()=>Fr,initializeServerApp:()=>eT,onLog:()=>ud,registerVersion:()=>ae,setLogLevel:()=>dd});var kC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new am;let m=s<<2|c>>4;if(r.push(m),u!==64){let w=c<<4&240|u>>2;if(r.push(w),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},am=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CF=function(t){let e=kC(t);return FC.encodeByteArray(e,!0)},cm=function(t){return CF(t).replace(/\./g,"")},TF=function(t){try{return FC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SF=()=>DF().__FIREBASE_DEFAULTS__,AF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&TF(t[1]);return e&&JSON.parse(e)},NF=()=>{try{return SF()||AF()||xF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var lm=()=>{var t;return(t=NF())===null||t===void 0?void 0:t.config};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function LC(){return typeof window<"u"||um()}function um(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function BC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var RF="FirebaseError",Or=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}},ba=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Or(i,c,r)}};function MF(t,e){return t.replace(PF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var PF=/\{\$([^}]+)}/g;function id(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(OC(s)&&OC(o)){if(!id(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function OC(t){return t!==null&&typeof t=="object"}var eK=4*60*60*1e3;var yi=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mi="[DEFAULT]";var dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kF(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OF(t){return t===mi?void 0:t}function kF(t){return t.instantiationMode==="EAGER"}var Ca=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hm=[],Oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Oe||{}),UC={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},FF=Oe.INFO,LF={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sd=class{constructor(e){this.name=e,this._logLevel=FF,this._logHandler=VF,this._userLogHandler=null,hm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};function jC(t){hm.forEach(e=>{e.setLogLevel(t)})}function $C(t,e){for(let n of hm){let r=null;e&&e.level&&(r=UC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let c=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Oe[s].toLowerCase(),message:c,args:o,type:i.name})}}}var BF=(t,e)=>e.some(n=>t instanceof n),HC,zC;function UF(){return HC||(HC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jF(){return zC||(zC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WC=new WeakMap,pm=new WeakMap,qC=new WeakMap,fm=new WeakMap,mm=new WeakMap;function $F(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WC.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function HF(t){if(pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}var gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GC(t){gm=t(gm)}function zF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(od(this),e,...n);return qC.set(r,e.sort?e.sort():[e]),ln(r)}:jF().includes(t)?function(...e){return t.apply(od(this),e),ln(WC.get(this))}:function(...e){return ln(t.apply(od(this),e))}}function WF(t){return typeof t=="function"?zF(t):(t instanceof IDBTransaction&&HF(t),BF(t,UF())?new Proxy(t,gm):t)}function ln(t){if(t instanceof IDBRequest)return $F(t);if(fm.has(t))return fm.get(t);let e=WF(t);return e!==t&&(fm.set(t,e),mm.set(e,t)),e}var od=t=>mm.get(t);function _i(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=ln(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ln(o.result),l.oldVersion,l.newVersion,ln(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}function ad(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),ln(n).then(()=>{})}var qF=["get","getKey","getAll","getAllKeys","count"],GF=["put","add","delete","clear"],ym=new Map;function KC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=GF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qF.includes(n)))return;let s=function(o,...c){return A(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]})};return ym.set(e,s),s}GC(t=>X(k({},t),{get:(e,n,r)=>KC(e,n)||t.get(e,n,r),has:(e,n)=>!!KC(e,n)||t.has(e,n)}));var vm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KF(t){let e=t.getComponent();return e?.type==="VERSION"}var cd="@firebase/app",wm="0.10.13";var or=new sd("@firebase/app"),QF="@firebase/app-compat",YF="@firebase/analytics-compat",JF="@firebase/analytics",ZF="@firebase/app-check-compat",XF="@firebase/app-check",eL="@firebase/auth",tL="@firebase/auth-compat",nL="@firebase/database",rL="@firebase/data-connect",iL="@firebase/database-compat",sL="@firebase/functions",oL="@firebase/functions-compat",aL="@firebase/installations",cL="@firebase/installations-compat",lL="@firebase/messaging",uL="@firebase/messaging-compat",dL="@firebase/performance",hL="@firebase/performance-compat",fL="@firebase/remote-config",pL="@firebase/remote-config-compat",gL="@firebase/storage",mL="@firebase/storage-compat",yL="@firebase/firestore",_L="@firebase/vertexai-preview",vL="@firebase/firestore-compat",wL="firebase",EL="10.14.1";var xn="[DEFAULT]",IL={[cd]:"fire-core",[QF]:"fire-core-compat",[JF]:"fire-analytics",[YF]:"fire-analytics-compat",[XF]:"fire-app-check",[ZF]:"fire-app-check-compat",[eL]:"fire-auth",[tL]:"fire-auth-compat",[nL]:"fire-rtdb",[rL]:"fire-data-connect",[iL]:"fire-rtdb-compat",[sL]:"fire-fn",[oL]:"fire-fn-compat",[aL]:"fire-iid",[cL]:"fire-iid-compat",[lL]:"fire-fcm",[uL]:"fire-fcm-compat",[dL]:"fire-perf",[hL]:"fire-perf-compat",[fL]:"fire-rc",[pL]:"fire-rc-compat",[gL]:"fire-gcs",[mL]:"fire-gcs-compat",[yL]:"fire-fst",[vL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};var kr=new Map,js=new Map,$s=new Map;function Hs(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cm(t,e){t.container.addOrOverwriteComponent(e)}function Xe(t){let e=t.name;if($s.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;$s.set(e,t);for(let n of kr.values())Hs(n,t);for(let n of js.values())Hs(n,t);return!0}function Kt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZC(t,e,n=xn){Kt(t,e).clearInstance(n)}function XC(t){return t.options!==void 0}function vi(t){return t.settings!==void 0}function bL(){$s.clear()}var CL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gt=new ba("app","Firebase",CL);var ld=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}};var Em=class extends ld{constructor(e,n,r,i){let s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let c=e;super(c.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,ae(cd,wm,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Sa(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gt.create("server-app-deleted")}};var un=EL;function Fr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gt.create("bad-app-name",{appName:String(i)});if(n||(n=lm()),!n)throw Gt.create("no-options");let s=kr.get(i);if(s){if(id(n,s.options)&&id(r,s.config))return s;throw Gt.create("duplicate-app",{appName:i})}let o=new Ca(i);for(let l of $s.values())o.addComponent(l);let c=new ld(n,r,o);return kr.set(i,c),c}function eT(t,e){if(LC()&&!um())throw Gt.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;XC(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=u=>[...u].reduce((f,p)=>Math.imul(31,f)+p.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gt.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=js.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let c=new Ca(s);for(let u of $s.values())c.addComponent(u);let l=new Em(n,e,s,c);return js.set(s,l),l}function dn(t=xn){let e=kr.get(t);if(!e&&t===xn&&lm())return Fr();if(!e)throw Gt.create("no-app",{appName:t});return e}function Da(){return Array.from(kr.values())}function Sa(t){return A(this,null,function*(){let e=!1,n=t.name;kr.has(n)?(e=!0,kr.delete(n)):js.has(n)&&t.decRefCount()<=0&&(js.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function ae(t,e,n){var r;let i=(r=IL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}Xe(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function ud(t,e){if(t!==null&&typeof t!="function")throw Gt.create("invalid-log-argument");$C(t,e)}function dd(t){jC(t)}var TL="firebase-heartbeat-database",DL=1,Ta="firebase-heartbeat-store",_m=null;function tT(){return _m||(_m=_i(TL,DL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gt.create("idb-open",{originalErrorMessage:t.message})})),_m}function SL(t){return A(this,null,function*(){try{let n=(yield tT()).transaction(Ta),r=yield n.objectStore(Ta).get(nT(t));return yield n.done,r}catch(e){if(e instanceof Or)or.warn(e.message);else{let n=Gt.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}})}function QC(t,e){return A(this,null,function*(){try{let r=(yield tT()).transaction(Ta,"readwrite");yield r.objectStore(Ta).put(e,nT(t)),yield r.done}catch(n){if(n instanceof Or)or.warn(n.message);else{let r=Gt.create("idb-set",{originalErrorMessage:n?.message});or.warn(r.message)}}})}function nT(t){return`${t.name}!${t.options.appId}`}var AL=1024,xL=30*24*60*60*1e3,Im=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=xL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=YC(),{heartbeatsToSend:r,unsentEntries:i}=NL(this._heartbeatsCache.heartbeats),s=cm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return or.warn(n),""}})}};function YC(){return new Date().toISOString().substring(0,10)}function NL(t,e=AL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var bm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return VC()?BC().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield SL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function JC(t){return cm(JSON.stringify({version:2,heartbeats:t})).length}function RL(t){Xe(new yi("platform-logger",e=>new vm(e),"PRIVATE")),Xe(new yi("heartbeat",e=>new Im(e),"PRIVATE")),ae(cd,wm,t),ae(cd,wm,"esm2017"),ae("fire-js","")}RL("");var ML="firebase",PL="10.14.1";ae(ML,PL,"app");var Nn=new Qn("ANGULARFIRE2_VERSION"),rT=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Ii(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ar=(t,e)=>{let n=e?[e]:Da(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ei=class{constructor(){return ar(OL)}},OL="app-check";function zs(){}var hd=class{zone;delegate;constructor(e,n=Wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Dm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),n.pipe(Ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=n.run(()=>new hd(Zone.current,zf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(ve))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function kL(t){return fd().ngZone.runOutsideAngular(()=>t())}function wi(t){return fd().ngZone.run(()=>t())}function FL(t){return LL(fd())(t)}function LL(t){return function(n){return n=n.lift(new Dm(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var VL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),wi(()=>t.apply(void 0,r))},ft=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[s]=VL(r[s],n));let i=kL(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=fd();return i.pipe(Er(s.outsideAngular),wr(s.insideAngular))}else return wi(()=>i);return i instanceof le?i.pipe(FL):i instanceof Promise?wi(()=>new Promise((s,o)=>i.then(c=>wi(()=>s(c)),c=>wi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:wi(()=>i)};var hn=class{constructor(e){return e}},lr=class{constructor(){return Da()}};function BL(t){return t&&t.length===1?t[0]:new hn(dn())}var Sm=new B("angularfire2._apps"),UL={provide:hn,useFactory:BL,deps:[[new qe,Sm]]},jL={provide:lr,deps:[[new qe,Sm]]};function $L(t){return(e,n)=>{let r=n.get(nr);ae("angularfire",Nn.full,"core"),ae("angularfire",Nn.full,"app"),ae("angular",Fg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new hn(i)}}function iT(t,...e){return on([UL,jL,{provide:Sm,useFactory:$L(t),multi:!0,deps:[ve,ht,cr,...e]}])}var sT=ft(Fr,!0);var HL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new xm;let m=s<<2|c>>4;if(r.push(m),u!==64){let w=c<<4&240|u>>2;if(r.push(w),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var Rm=function(t){try{return WL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GL=()=>qL().__FIREBASE_DEFAULTS__,KL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Rm(t[1]);return e&&JSON.parse(e)},YL=()=>{try{return GL()||KL()||QL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var oT=t=>{var e;return(e=YL())===null||e===void 0?void 0:e[`_${t}`]};function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function cT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}var JL="FirebaseError",Ws=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}},bi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZL(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ws(i,c,r)}};function ZL(t,e){return t.replace(XL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XL=/\{\$([^}]+)}/g;function Mm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dT(t,e){let n=new Nm(t,e);return n.subscribe.bind(n)}var Nm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Am),i.error===void 0&&(i.error=Am),i.complete===void 0&&(i.complete=Am);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Am(){}var PK=4*60*60*1e3;function Aa(t){return t&&t._delegate?t._delegate:t}var tV=[],xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{}),nV={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},rV=xe.INFO,iV={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},sV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pd=class{constructor(e){this.name=e,this._logLevel=rV,this._logHandler=sV,this._userLogHandler=null,tV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};var xa=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wT=vT,ET=new bi("auth","Firebase",vT());var _d=new pd("@firebase/auth");function aV(t,...e){_d.logLevel<=xe.WARN&&_d.warn(`Auth (${un}): ${t}`,...e)}function md(t,...e){_d.logLevel<=xe.ERROR&&_d.error(`Auth (${un}): ${t}`,...e)}function hT(t,...e){throw zm(t,...e)}function Hm(t,...e){return zm(t,...e)}function IT(t,e,n){let r=Object.assign(Object.assign({},wT()),{[e]:n});return new bi("auth","Firebase",r).create(e,{appName:t.name})}function yd(t){return IT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ET.create(t,...e)}function _e(t,e,...n){if(!t)throw zm(e,...n)}function Na(t){let e="INTERNAL ASSERTION FAILED: "+t;throw md(e),new Error(e)}function vd(t,e){t||Na(e)}function cV(){return fT()==="http:"||fT()==="https:"}function fT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cV()||lT()||"connection"in navigator)?navigator.onLine:!0}function uV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ti=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,vd(n>e,"Short delay should be less than long delay!"),this.isMobile=aT()||uT()}get(){return lV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dV(t,e){vd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fV=new Ti(3e4,6e4);function bT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cd(s,o,c,l){return A(this,arguments,function*(t,e,n,r,i={}){return CT(t,i,()=>A(this,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let p=Mm(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:m},u);return cT()||(w.referrerPolicy="no-referrer"),wd.fetch()(TT(t,t.config.apiHost,n,p),w)}))})}function CT(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hV),e);try{let i=new km(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gd(t,"user-disabled",o);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IT(t,f,u);hT(t,f)}}catch(i){if(i instanceof Ws)throw i;hT(t,"network-request-failed",{message:String(i)})}})}function TT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?dV(t.config,i):`${t.config.apiScheme}://${i}`}var km=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hm(this.auth,"network-request-failed")),fV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hm(t,e,r);return i.customData._tokenResponse=n,i}function pV(t,e){return A(this,null,function*(){return Cd(t,"POST","/v1/accounts:delete",e)})}function DT(t,e){return A(this,null,function*(){return Cd(t,"POST","/v1/accounts:lookup",e)})}function Ra(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wm(t,e=!1){return A(this,null,function*(){let n=Aa(t),r=yield n.getIdToken(e),i=ST(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ra(Pm(i.auth_time)),issuedAtTime:Ra(Pm(i.iat)),expirationTime:Ra(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Pm(t){return Number(t)*1e3}function ST(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=Rm(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pT(t){let e=ST(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fm(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ws&&gV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Lm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ed(t){return A(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fm(t,DT(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AT(s.providerUserInfo):[],c=mV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,f=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Pa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function qm(t){return A(this,null,function*(){let e=Aa(t);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function mV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AT(t){return t.map(e=>{var{providerId:n}=e,r=qf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yV(t,e){return A(this,null,function*(){let n=yield CT(t,{},()=>A(this,null,function*(){let r=Mm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=TT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wd.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function _V(t,e){return A(this,null,function*(){return Cd(t,"POST","/v2/accounts:revokeToken",bT(t,e))})}var Ma=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=pT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return A(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield yV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Na("not implemented")}};function Lr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Oa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield Fm(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wm(this,e)}reload(){return qm(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ed(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(vi(this.auth.app))return Promise.reject(yd(this.auth));let e=yield this.getIdToken();return yield Fm(this,pV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,l,u,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,F=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,$=(u=n.createdAt)!==null&&u!==void 0?u:void 0,pe=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:de,emailVerified:Me,isAnonymous:Ct,providerData:Ie,stsTokenManager:I}=n;_e(de&&I,e,"internal-error");let y=Ma.fromJSON(this.name,I);_e(typeof de=="string",e,"internal-error"),Lr(p,e.name),Lr(m,e.name),_e(typeof Me=="boolean",e,"internal-error"),_e(typeof Ct=="boolean",e,"internal-error"),Lr(w,e.name),Lr(T,e.name),Lr(M,e.name),Lr(F,e.name),Lr($,e.name),Lr(pe,e.name);let v=new t({uid:de,auth:e,email:m,emailVerified:Me,displayName:p,isAnonymous:Ct,photoURL:T,phoneNumber:w,tenantId:M,stsTokenManager:y,createdAt:$,lastLoginAt:pe});return Ie&&Array.isArray(Ie)&&(v.providerData=Ie.map(E=>Object.assign({},E))),F&&(v._redirectEventId=F),v}static _fromIdTokenResponse(e,n,r=!1){return A(this,null,function*(){let i=new Ma;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(s),s})}static _fromGetAccountInfoResponse(e,n,r){return A(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?AT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ma;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var gT=new Map;function Ci(t){vd(t instanceof Function,"Expected a class definition");let e=gT.get(t);return e?(vd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gT.set(t,e),e)}var vV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,r){return A(this,null,function*(){this.storage[n]=r})}_get(n){return A(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Vm=vV;function Om(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Om(this.userKey,i.apiKey,s),this.fullPersistenceKey=Om("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Oa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(this,null,function*(){if(!n.length)return new t(Ci(Vm),e,r);let i=(yield Promise.all(n.map(u=>A(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ci(Vm),o=Om(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let f=yield u._get(o);if(f){let p=Oa._fromJSON(e,f);u!==s&&(c=p),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>A(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function mT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TV(e))return"Blackberry";if(DV(e))return"Webos";if(EV(e))return"Safari";if((e.includes("chrome/")||IV(e))&&!e.includes("edge/"))return"Chrome";if(CV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wV(t=fn()){return/firefox\//i.test(t)}function EV(t=fn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IV(t=fn()){return/crios\//i.test(t)}function bV(t=fn()){return/iemobile/i.test(t)}function CV(t=fn()){return/android/i.test(t)}function TV(t=fn()){return/blackberry/i.test(t)}function DV(t=fn()){return/webos/i.test(t)}function xT(t,e=[]){let n;switch(t){case"Browser":n=mT(fn());break;case"Worker":n=`${mT(fn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${un}/${r}`}var Bm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function SV(n){return A(this,arguments,function*(t,e={}){return Cd(t,"GET","/v2/passwordPolicy",bT(t,e))})}var AV=6,Um=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bd(this),this.idTokenSubscription=new bd(this),this.beforeStateQueue=new Bm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let n=yield DT(this,{idToken:e}),r=yield Oa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;if(vi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield Ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uV()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(vi(this.app))return Promise.reject(yd(this));let n=e?Aa(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return vi(this.app)?Promise.reject(yd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vi(this.app)?Promise.reject(yd(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield SV(this),n=new Um(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _V(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ci(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return A(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&aV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function xV(t){return Aa(t)}var bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dT(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var NV={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RV(t){NV=t}function MV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function PV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var JK=MV("rcb"),ZK=new Ti(3e4,6e4);var XK=new Ti(2e3,1e4);var e7=10*60*1e3;var t7=new Ti(3e4,6e4);var n7=new Ti(5e3,15e3);var r7=encodeURIComponent("fac");var yT="@firebase/auth",_T="1.7.9";var $m=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function OV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kV(t){Xe(new xa("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(t)},u=new jm(r,i,s,l);return PV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xe(new xa("auth-internal",e=>{let n=xV(e.getProvider("auth").getImmediate());return(r=>new $m(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ae(yT,_T,OV(t)),ae(yT,_T,"esm2017")}var FV=5*60,i7=oT("authIdTokenMaxAge")||FV;function LV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Hm("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",LV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kV("Browser");var F2="auth";var qs=class{constructor(){return ar(F2)}};var Gm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var R=function(t,e){if(!t)throw Si(e)},Si=function(t){return new Error("Firebase Database ("+Gm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var RT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new Km;let m=s<<2|c>>4;if(r.push(m),u!==64){let w=c<<4&240|u>>2;if(r.push(w),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Km=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ym=function(t){let e=RT(t);return Dd.encodeByteArray(e,!0)},NT=function(t){return Ym(t).replace(/\./g,"")},Qm=function(t){try{return Dd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MT(t){return PT(void 0,t)}function PT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!V2(n)||(t[n]=PT(t[n],e[n]));return t}function V2(t){return t!=="__proto__"}function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var U2=()=>B2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qm(t[1]);return e&&JSON.parse(e)},H2=()=>{try{return U2()||j2()||$2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z2=t=>{var e,n;return(n=(e=H2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OT=t=>{let e=z2(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]};var Di=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function kT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[NT(JSON.stringify(n)),NT(JSON.stringify(o)),""].join(".")}function W2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W2())}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rn(){return Gm.NODE_CLIENT===!0||Gm.NODE_ADMIN===!0}function Gs(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}var LT=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Gs(Qm(s[0])||""),n=Gs(Qm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var VT=function(t){let e=LT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},BT=function(t){let e=LT(t).claims;return typeof e=="object"&&e.admin===!0};function Mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zm(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function UT(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Td=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],l=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=c^s&(o^c),f=1518500249):(u=s^o^c,f=1859775393):p<60?(u=s&o|c&(s|o),f=2400959708):(u=s^o^c,f=3395469782);let m=(i<<5|i>>>27)+u+l+f+r[p]&4294967295;l=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Sd(t,e){return`${t} failed: ${e} argument `}var jT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,R(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var K7=4*60*60*1e3;function Vr(t){return t&&t._delegate?t._delegate:t}var Ad=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var q2=[],Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{}),G2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},K2=Ne.INFO,Q2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Y2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Q2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xd=class{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Y2,this._userLogHandler=null,q2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var $T="@firebase/database",HT="1.0.8";var Xy="";function J2(t){Xy=t}var oy=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ay=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var ID=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oy(e)}}catch{}return new ay},Ni=ID("localStorage"),cy=ID("sessionStorage");var Ys=new xd("@firebase/database"),Z2=function(){let t=1;return function(){return t++}}(),bD=function(t){let e=jT(t),n=new Td;n.update(e);let r=n.digest();return Dd.encodeByteArray(r)},ec=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ec.apply(null,r):typeof r=="object"?e+=Qe(r):e+=r,e+=" "}return e},Mi=null,zT=!0,X2=function(t,e){R(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ys.logLevel=Ne.VERBOSE,Mi=Ys.log.bind(Ys),e&&cy.set("logging_enabled",!0)):typeof t=="function"?Mi=t:(Mi=null,cy.remove("logging_enabled"))},pt=function(...t){if(zT===!0&&(zT=!1,Mi===null&&cy.get("logging_enabled")===!0&&X2(!0)),Mi){let e=ec.apply(null,t);Mi(e)}},tc=function(t){return function(...e){pt(t,...e)}},ly=function(...t){let e="FIREBASE INTERNAL ERROR: "+ec(...t);Ys.error(e)},ur=function(...t){let e=`FIREBASE FATAL ERROR: ${ec(...t)}`;throw Ys.error(e),new Error(e)},xt=function(...t){let e="FIREBASE WARNING: "+ec(...t);Ys.warn(e)},eB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},CD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tB=function(t){if(Rn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",Pi="[MAX_NAME]",so=function(t,e){if(t===e)return 0;if(t===Zs||e===Pi)return-1;if(e===Zs||t===Pi)return 1;{let n=WT(t),r=WT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nB=function(t,e){return t===e?0:t<e?-1:1},La=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},e_=function(t){if(typeof t!="object"||t===null)return Qe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qe(e[r]),n+=":",n+=e_(t[e[r]]);return n+="}",n},TD=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Nt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var DD=function(t){R(!CD(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,c,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let f=u.join(""),p="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},rB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var oB=new RegExp("^-?(0*)\\d{1,10}$"),aB=-2147483648,cB=2147483647,WT=function(t){if(oB.test(t)){let e=Number(t);if(e>=aB&&e<=cB)return e}return null},oo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw xt("Exception was thrown by user callback.",n),e},Math.floor(0))}},lB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$a=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var uy=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var dy=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}},Ha=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Rd="5",SD="v",AD="s",xD="r",ND="f",RD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MD="ls",PD="p",hy="ac",OD="websocket",kD="long_polling";var Md=class{constructor(e,n,r,i,s=!1,o="",c=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ni.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ni.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function uB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FD(t,e,n){R(typeof e=="string","typeof type must == string"),R(typeof n=="object","typeof params must == object");let r;if(e===OD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===kD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uB(t)&&(n.ns=t.namespace);let i=[];return Nt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var fy=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MT(this.counters_)}};var Xm={},ey={};function t_(t){let e=t.toString();return Xm[e]||(Xm[e]=new fy),Xm[e]}function dB(t,e){let n=t.toString();return ey[n]||(ey[n]=e()),ey[n]}var py=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&oo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var qT="start",hB="close",fB="pLPCommand",pB="pRTLPCB",LD="id",VD="pw",BD="ser",gB="cb",mB="seg",yB="ts",_B="d",vB="dframe",UD=1870,jD=30,wB=UD-jD,EB=25e3,IB=3e4,gy=class t{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tc(e),this.stats_=t_(n),this.urlFn=l=>(this.appCheckToken&&(l[hy]=this.appCheckToken),FD(n,kD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new py(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IB)),tB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new my((...s)=>{let[o,c,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qT)this.id=c,this.password=l;else if(o===hB)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let r={};r[qT]="t",r[BD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[SD]=Rd,this.transportSessionId&&(r[AD]=this.transportSessionId),this.lastSessionId&&(r[MD]=this.lastSessionId),this.applicationId&&(r[PD]=this.applicationId),this.appCheckToken&&(r[hy]=this.appCheckToken),typeof location<"u"&&location.hostname&&RD.test(location.hostname)&&(r[xD]=ND);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Rn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rB()&&!iB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Ym(n),i=TD(r,wB);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Rn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[vB]="t",r[LD]=e,r[VD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},my=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Rn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Z2(),window[fB+this.uniqueCallbackIdentifier]=e,window[pB+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){pt("frame writing exception"),c.stack&&pt(c.stack),pt(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[LD]=this.myID,e[VD]=this.myPW,e[BD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jD+r.length<=UD;){let o=this.pendingSegs.shift();r=r+"&"+mB+i+"="+o.seg+"&"+yB+i+"="+o.ts+"&"+_B+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(EB)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Rn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var bB=16384,CB=45e3,Pd=null;typeof MozWebSocket<"u"?Pd=MozWebSocket:typeof WebSocket<"u"&&(Pd=WebSocket);var Va=(()=>{class t{constructor(n,r,i,s,o,c,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tc(this.connId),this.stats_=t_(r),this.connURL=t.connectionURL_(r,c,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let c={};return c[SD]=Rd,!Rn()&&typeof location<"u"&&location.hostname&&RD.test(location.hostname)&&(c[xD]=ND),r&&(c[AD]=r),i&&(c[MD]=i),s&&(c[hy]=s),o&&(c[PD]=o),FD(n,OD,c)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ni.set("previous_websocket_failure",!0);try{let i;if(Rn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Rd}/${Xy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new Pd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Pd!==null&&!t.forceDisallow_}static previouslyFailed(){return Ni.isInMemoryStorage||Ni.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ni.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Gs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(R(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Qe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=TD(r,bB);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CB))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),TB=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[gy,Va]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Va&&Va.isAvailable(),i=r&&!Va.previouslyFailed();if(n.webSocketOnly&&(r||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Va];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),DB=6e4,SB=5e3,AB=10*1024,xB=100*1024,ty="t",GT="d",NB="s",KT="r",RB="e",QT="o",YT="a",JT="n",ZT="p",MB="h",yy=class{constructor(e,n,r,i,s,o,c,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tc("c:"+this.id+":"),this.transportManager_=new TB(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$a(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ty in e){let n=e[ty];n===YT?this.upgradeIfSecondaryHealthy_():n===KT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===QT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=La("t",e),r=La("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:YT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=La("t",e),r=La("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=La(ty,e);if(GT in e){let r=e[GT];if(n===MB){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===JT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===NB?this.onConnectionShutdown_(r):n===KT?this.onReset_(r):n===RB?ly("Server Error: "+r):n===QT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ly("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Rd!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$a(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$a(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZT,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Od=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var kd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){R(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Fd=class t extends kd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return R(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var XT=32,eD=768,Ee=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ye(){return new Ee("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jr(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function $D(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function HD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function et(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ee(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){let n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return It(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function n_(t,e){if(jr(t)!==jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jr(t)>jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var _y=class{constructor(e,n){this.errorPrefix_=n,this.parts_=HD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fa(this.parts_[r]);WD(this)}};function OB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fa(e),WD(t)}function kB(t){let e=t.parts_.pop();t.byteLength_-=Fa(e),t.parts_.length>0&&(t.byteLength_-=1)}function WD(t){if(t.byteLength_>eD)throw new Error(t.errorPrefix_+"has a key path longer than "+eD+" bytes ("+t.byteLength_+").");if(t.parts_.length>XT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+XT+") or object contains a cycle "+xi(t))}function xi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var vy=class t extends kd{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return R(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ba=1e3,FB=60*5*1e3,tD=30*1e3,LB=1.3,VB=3e4,BB="server_kill",nD=3,r_=(()=>{class t extends Od{constructor(n,r,i,s,o,c,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=tc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ba,this.maxReconnectDelay_=FB,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Rn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Fd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Qe(o)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Di,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let l=c.d;c.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),R(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},c="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,l=>{let u=l.d,f=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Mn(n,"w")){let i=Ai(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||BT(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=VT(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,c=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),R(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let c={p:r,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Qe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ly("Unrecognized action received from server: "+Qe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VB&&(this.reconnectDelay_=Ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LB)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,l=null,u=function(){l?l.close():(c=!0,i())},f=function(m){R(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:u,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,w]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=w&&w.token,l=new yy(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,T=>{xt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(BB)},o))}catch(m){this.log_("Failed to get token: "+m),c||(this.repoInfo_.nodeAdmin&&xt(m),u())}}})}interrupt(n){pt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Zm(this.interruptReasons_)&&(this.reconnectDelay_=Ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>e_(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Ee(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){pt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nD&&(this.reconnectDelay_=tD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Rn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,Jm()?n["framework.cordova"]=1:FT()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Fd.getInstance().currentlyOnline();return Zm(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),re=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Xs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new re(Zs,e),i=new re(Zs,n);return this.compare(r,i)!==0}minPost(){return re.MIN}};var Nd,Ld=class extends Xs{static get __EMPTY_NODE(){return Nd}static set __EMPTY_NODE(e){Nd=e}compare(e,n){return so(e.name,n.name)}isDefinedOn(e){throw Si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return re.MIN}maxPost(){return new re(Pi,Nd)}makePost(e,n){return R(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,Nd)}toString(){return".key"}},Js=new Ld;var Qs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},pn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Qt.EMPTY_NODE,this.right=o??Qt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),wy=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Qt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qs(this.root_,null,this.comparator_,!0,e)}};Qt.EMPTY_NODE=new wy;function UB(t,e){return so(t.name,e.name)}function i_(t,e){return so(t,e)}var Ey;function jB(t){Ey=t}var qD=function(t){return typeof t=="number"?"number:"+DD(t):"string:"+t},GD=function(t){if(t.isLeafNode()){let e=t.val();R(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mn(e,".sv"),"Priority must be a string or number.")}else R(t===Ey||t.isEmpty(),"priority of unexpected type.");R(t===Ey||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var rD,eo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GD(this.priorityNode_)}static set __childrenNodeConstructor(n){rD=n}static get __childrenNodeConstructor(){return rD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ne(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ne(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(R(i!==".priority"||jr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+qD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=DD(this.value_):n+=this.value_,this.lazyHash_=bD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(R(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return R(s>=0,"Unknown leaf type: "+r),R(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),KD,QD;function $B(t){KD=t}function HB(t){QD=t}var Iy=class extends Xs{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?so(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Pi,new eo("[PRIORITY-POST]",QD))}makePost(e,n){let r=KD(e);return new re(n,new eo("[PRIORITY-POST]",r))}toString(){return".priority"}},Be=new Iy;var zB=Math.log(2),by=class{constructor(e){let n=s=>parseInt(Math.log(s)/zB,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Vd=function(t,e,n,r){t.sort(e);let i=function(l,u){let f=u-l,p,m;if(f===0)return null;if(f===1)return p=t[l],m=n?n(p):p,new pn(m,p.node,pn.BLACK,null,null);{let w=parseInt(f/2,10)+l,T=i(l,w),M=i(w+1,u);return p=t[w],m=n?n(p):p,new pn(m,p.node,pn.BLACK,T,M)}},s=function(l){let u=null,f=null,p=t.length,m=function(T,M){let F=p-T,$=p;p-=T;let pe=i(F+1,$),de=t[F],Me=n?n(de):de;w(new pn(Me,de.node,M,null,pe))},w=function(T){u?(u.left=T,u=T):(f=T,u=T)};for(let T=0;T<l.count;++T){let M=l.nextBitIsOne(),F=Math.pow(2,l.count-(T+1));M?m(F,pn.BLACK):(m(F,pn.BLACK),m(F,pn.RED))}return f},o=new by(t.length),c=s(o);return new Qt(r||e,c)};var ny,Ks={},to=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return R(Ks&&Be,"ChildrenNode.ts has not been loaded"),ny=ny||new t({".priority":Ks},{".priority":Be}),ny}get(e){let n=Ai(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qt?n:null}hasIndex(e){return Mn(this.indexSet_,e.toString())}addIndex(e,n){R(e!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(re.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Vd(r,e.getCompare()):c=Ks;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let f=Object.assign({},this.indexes_);return f[l]=c,new t(f,u)}addToIndexes(e,n){let r=ka(this.indexes_,(i,s)=>{let o=Ai(this.indexSet_,s);if(R(o,"Missing index implementation for "+s),i===Ks)if(o.isDefinedOn(e.node)){let c=[],l=n.getIterator(re.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&c.push(u),u=l.getNext();return c.push(e),Vd(c,o.getCompare())}else return Ks;else{let c=n.get(e.name),l=i;return c&&(l=l.remove(new re(e.name,c))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=ka(this.indexes_,i=>{if(i===Ks)return i;{let s=n.get(e.name);return s?i.remove(new re(e.name,s)):i}});return new t(r,this.indexSet_)}};var Ua,G=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&GD(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ua||(Ua=new t(new Qt(i_),null,to.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ua}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ua:r}}getChild(n){let r=ne(n);return r===null?this:this.getImmediateChild(r).getChild(Re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(R(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new re(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let c=s.isEmpty()?Ua:this.priorityNode_;return new t(s,c,o)}}updateChild(n,r){let i=ne(n);if(i===null)return r;{R(ne(n)!==".priority"||jr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Re(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Be,(c,l)=>{r[c]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*i){let c=[];for(let l in r)c[l]=r[l];return c}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+qD(this.getPriority().val())+":"),this.forEachChild(Be,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":bD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new re(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new re(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new re(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,re.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,re.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===nc?-1:0}withIndex(n){if(n===Js||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Js||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Be),s=r.getIterator(Be),o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===Js?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Cy=class extends G{constructor(){super(new Qt(i_),G.EMPTY_NODE,to.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}},nc=new Cy;Object.defineProperties(re,{MIN:{value:new re(Zs,G.EMPTY_NODE)},MAX:{value:new re(Pi,nc)}});Ld.__EMPTY_NODE=G.EMPTY_NODE;eo.__childrenNodeConstructor=G;jB(nc);HB(nc);var WB=!0;function tt(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),R(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new eo(n,tt(e))}if(!(t instanceof Array)&&WB){let n=[],r=!1;if(Nt(t,(o,c)=>{if(o.substring(0,1)!=="."){let l=tt(c);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new re(o,l)))}}),n.length===0)return G.EMPTY_NODE;let s=Vd(n,UB,o=>o.name,i_);if(r){let o=Vd(n,Be.getCompare());return new G(s,tt(e),new to({".priority":o},{".priority":Be}))}else return new G(s,tt(e),to.Default)}else{let n=G.EMPTY_NODE;return Nt(t,(r,i)=>{if(Mn(t,r)&&r.substring(0,1)!=="."){let s=tt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(tt(e))}}$B(tt);var Ty=class extends Xs{constructor(e){super(),this.indexPath_=e,R(!ce(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?so(e.name,n.name):s}makePost(e,n){let r=tt(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){let e=G.EMPTY_NODE.updateChild(this.indexPath_,nc);return new re(Pi,e)}toString(){return HD(this.indexPath_,0).join("/")}};var Dy=class extends Xs{compare(e,n){let r=e.node.compareTo(n.node);return r===0?so(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,n){let r=tt(e);return new re(n,r)}toString(){return".value"}},qB=new Dy;function YD(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ga(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function GB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Qa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ga(n,c)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(no(n,r)):o.trackChildChange(Ka(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Be,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ga(i,s))}),n.isLeafNode()||n.forEachChild(Be,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ka(i,s,o))}else r.trackChildChange(no(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Bd=class t{constructor(e){this.indexedFilter_=new Qa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new re(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);let s=this;return n.forEachChild(Be,(o,c)=>{s.matches(new re(o,c))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Sy=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let p=this.index_.getCompare();o=(m,w)=>p(w,m)}else o=this.index_.getCompare();let c=e;R(c.numChildren()===this.limit_,"");let l=new re(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(c.hasChild(n)){let p=c.getImmediateChild(n),m=i.getChildAfterChild(this.index_,u,this.reverse_);for(;m!=null&&(m.name===n||c.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);let w=m==null?1:o(m,l);if(f&&!r.isEmpty()&&w>=0)return s?.trackChildChange(Ka(n,r,p)),c.updateImmediateChild(n,r);{s?.trackChildChange(Ga(n,p));let M=c.updateImmediateChild(n,G.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s?.trackChildChange(no(m.name,m.node)),M.updateImmediateChild(m.name,m.node)):M}}else return r.isEmpty()?e:f&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Ga(u.name,u.node)),s.trackChildChange(no(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,G.EMPTY_NODE)):e}};var Ay=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function KB(t){return t.loadsAllData()?new Qa(t.getIndex()):t.hasLimit()?new Sy(t):new Bd(t)}function iD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Be?n="$priority":t.index_===qB?n="$value":t.index_===Js?n="$key":(R(t.index_ instanceof Ty,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Be&&(e.i=t.index_.toString()),e}var xy=class t extends Od{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),c={};this.listens_[o]=c;let l=iD(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),Ai(this.listens_,o)===c){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=iD(e._queryParams),r=e._path.toString(),i=new Di;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+UT(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let l=null;if(c.status>=200&&c.status<300){try{l=Gs(c.responseText)}catch{xt("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,l)}else c.status!==401&&c.status!==404&&xt("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}};var Ny=class{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ud(){return{value:null,children:new Map}}function JD(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ne(e);t.children.has(r)||t.children.set(r,Ud());let i=t.children.get(r);e=Re(e),JD(i,e,n)}}function Ry(t,e,n){t.value!==null?n(e,t.value):QB(t,(r,i)=>{let s=new Ee(e.toString()+"/"+r);Ry(i,s,n)})}function QB(t,e){t.children.forEach((n,r)=>{e(r,n)})}var My=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var oD=10*1e3,YB=30*1e3,JB=5*60*1e3,Py=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new My(e);let r=oD+(YB-oD)*Math.random();$a(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Nt(e,(i,s)=>{s>0&&Mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),$a(this.reportStats_.bind(this),Math.floor(Math.random()*2*JB))}};var Pn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Pn||{});function ZD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Oy=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pn.ACK_USER_WRITE,this.source=ZD()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Ee(e));return new t(ye(),n,this.revert)}}else return R(ne(this.path)===e,"operationForChild called for unrelated child."),new t(Re(this.path),this.affectedTree,this.revert)}};var jd=class t{constructor(e,n){this.source=e,this.path=n,this.type=Pn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new t(this.source,ye()):new t(this.source,Re(this.path))}};var ro=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pn.OVERWRITE}operationForChild(e){return ce(this.path)?new t(this.source,ye(),this.snap.getImmediateChild(e)):new t(this.source,Re(this.path),this.snap)}};var $d=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pn.MERGE}operationForChild(e){if(ce(this.path)){let n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new ro(this.source,ye(),n.value):new t(this.source,ye(),n)}else return R(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var On=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;let n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var ky=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function ZB(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(GB(o.childName,o.snapshotNode))}),ja(t,i,"child_removed",e,r,n),ja(t,i,"child_added",e,r,n),ja(t,i,"child_moved",s,r,n),ja(t,i,"child_changed",e,r,n),ja(t,i,"value",e,r,n),i}function ja(t,e,n,r,i,s){let o=r.filter(c=>c.type===n);o.sort((c,l)=>eU(t,c,l)),o.forEach(c=>{let l=XB(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(l,t.query_))})})}function XB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eU(t,e,n){if(e.childName==null||n.childName==null)throw Si("Should only compare child_ events.");let r=new re(e.childName,e.snapshotNode),i=new re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function nh(t,e){return{eventCache:t,serverCache:e}}function za(t,e,n,r){return nh(new On(e,n,r),t.serverCache)}function XD(t,e,n,r){return nh(t.eventCache,new On(e,n,r))}function Hd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Oi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ry,tU=()=>(ry||(ry=new Qt(nB)),ry),Rt=class t{constructor(e,n=tU()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Nt(e,(r,i)=>{n=n.set(new Ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(ce(e))return null;{let r=ne(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:et(new Ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{let n=ne(e),r=this.children.get(n);return r!==null?r.subtree(Re(e)):new t(null)}}set(e,n){if(ce(e))return new t(n,this.children);{let r=ne(e),s=(this.children.get(r)||new t(null)).set(Re(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ne(e),r=this.children.get(n);if(r){let i=r.remove(Re(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{let n=ne(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(ce(e))return n;{let r=ne(e),s=(this.children.get(r)||new t(null)).setTree(Re(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(et(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{let s=ne(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),et(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);let i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),et(n,i),r):new t(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var mn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Rt(null))}};function Wa(t,e,n){if(ce(e))return new mn(new Rt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=It(i,e);return s=s.updateChild(o,n),new mn(t.writeTree_.set(i,s))}else{let i=new Rt(n),s=t.writeTree_.setTree(e,i);return new mn(s)}}}function aD(t,e,n){let r=t;return Nt(n,(i,s)=>{r=Wa(r,et(e,i),s)}),r}function cD(t,e){if(ce(e))return mn.empty();{let n=t.writeTree_.setTree(e,new Rt(null));return new mn(n)}}function Fy(t,e){return Fi(t,e)!=null}function Fi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function lD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Be,(r,i)=>{e.push(new re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new re(r,i.value))}),e}function Br(t,e){if(ce(e))return t;{let n=Fi(t,e);return n!=null?new mn(new Rt(n)):new mn(t.writeTree_.subtree(e))}}function Ly(t){return t.writeTree_.isEmpty()}function io(t,e){return eS(ye(),t.writeTree_,e)}function eS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(R(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=eS(et(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(et(t,".priority"),r)),n}}function rh(t,e){return iS(e,t)}function nU(t,e,n,r,i){R(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Wa(t.visibleWrites,e,n)),t.lastWriteId=r}function rU(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function iU(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);R(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&sU(c,r.path)?i=!1:gn(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return oU(t),!0;if(r.snap)t.visibleWrites=cD(t.visibleWrites,r.path);else{let c=r.children;Nt(c,l=>{t.visibleWrites=cD(t.visibleWrites,et(r.path,l))})}return!0}else return!1}function sU(t,e){if(t.snap)return gn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&gn(et(t.path,n),e))return!0;return!1}function oU(t){t.visibleWrites=tS(t.allWrites,aU,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aU(t){return t.visible}function tS(t,e,n){let r=mn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,c;if(s.snap)gn(n,o)?(c=It(n,o),r=Wa(r,c,s.snap)):gn(o,n)&&(c=It(o,n),r=Wa(r,ye(),s.snap.getChild(c)));else if(s.children){if(gn(n,o))c=It(n,o),r=aD(r,c,s.children);else if(gn(o,n))if(c=It(o,n),ce(c))r=aD(r,ye(),s.children);else{let l=Ai(s.children,ne(c));if(l){let u=l.getChild(Re(c));r=Wa(r,ye(),u)}}}else throw Si("WriteRecord should have .snap or .children")}}return r}function nS(t,e,n,r,i){if(!r&&!i){let s=Fi(t.visibleWrites,e);if(s!=null)return s;{let o=Br(t.visibleWrites,e);if(Ly(o))return n;if(n==null&&!Fy(o,ye()))return null;{let c=n||G.EMPTY_NODE;return io(o,c)}}}else{let s=Br(t.visibleWrites,e);if(!i&&Ly(s))return n;if(!i&&n==null&&!Fy(s,ye()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(gn(u.path,e)||gn(e,u.path))},c=tS(t.allWrites,o,e),l=n||G.EMPTY_NODE;return io(c,l)}}}function cU(t,e,n){let r=G.EMPTY_NODE,i=Fi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Be,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Br(t.visibleWrites,e);return n.forEachChild(Be,(o,c)=>{let l=io(Br(s,new Ee(o)),c);r=r.updateImmediateChild(o,l)}),lD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Br(t.visibleWrites,e);return lD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function lU(t,e,n,r,i){R(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=et(e,n);if(Fy(t.visibleWrites,s))return null;{let o=Br(t.visibleWrites,s);return Ly(o)?i.getChild(n):io(o,i.getChild(n))}}function uU(t,e,n,r){let i=et(e,n),s=Fi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Br(t.visibleWrites,i);return io(o,r.getNode().getImmediateChild(n))}else return null}function dU(t,e){return Fi(t.visibleWrites,e)}function hU(t,e,n,r,i,s,o){let c,l=Br(t.visibleWrites,e),u=Fi(l,ye());if(u!=null)c=u;else if(n!=null)c=io(l,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let f=[],p=o.getCompare(),m=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o),w=m.getNext();for(;w&&f.length<i;)p(w,r)!==0&&f.push(w),w=m.getNext();return f}else return[]}function fU(){return{visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1}}function zd(t,e,n,r){return nS(t.writeTree,t.treePath,e,n,r)}function a_(t,e){return cU(t.writeTree,t.treePath,e)}function uD(t,e,n,r){return lU(t.writeTree,t.treePath,e,n,r)}function Wd(t,e){return dU(t.writeTree,et(t.treePath,e))}function pU(t,e,n,r,i,s){return hU(t.writeTree,t.treePath,e,n,r,i,s)}function c_(t,e,n){return uU(t.writeTree,t.treePath,e,n)}function rS(t,e){return iS(et(t.treePath,e),t.writeTree)}function iS(t,e){return{treePath:t,writeTree:e}}var Vy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;R(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),R(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ka(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ga(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,no(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ka(r,e.snapshotNode,i.oldSnap));else throw Si("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var By=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},sS=new By,Ya=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new On(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c_(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oi(this.viewCache_),s=pU(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function gU(t){return{filter:t}}function mU(t,e){R(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yU(t,e,n,r,i){let s=new Vy,o,c;if(n.type===Pn.OVERWRITE){let u=n;u.source.fromUser?o=Uy(t,e,u.path,u.snap,r,i,s):(R(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!ce(u.path),o=qd(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===Pn.MERGE){let u=n;u.source.fromUser?o=vU(t,e,u.path,u.children,r,i,s):(R(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=jy(t,e,u.path,u.children,r,i,c,s))}else if(n.type===Pn.ACK_USER_WRITE){let u=n;u.revert?o=IU(t,e,u.path,r,i,s):o=wU(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Pn.LISTEN_COMPLETE)o=EU(t,e,n.path,r,s);else throw Si("Unknown operation type: "+n.type);let l=s.getChanges();return _U(e,o,l),{viewCache:o,changes:l}}function _U(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Hd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(YD(Hd(e)))}}function oS(t,e,n,r,i,s){let o=e.eventCache;if(Wd(r,n)!=null)return e;{let c,l;if(ce(n))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Oi(e),f=u instanceof G?u:G.EMPTY_NODE,p=a_(r,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let u=zd(r,Oi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=ne(n);if(u===".priority"){R(jr(n)===1,"Can't have a priority with additional path components");let f=o.getNode();l=e.serverCache.getNode();let p=uD(r,n,f,l);p!=null?c=t.filter.updatePriority(f,p):c=o.getNode()}else{let f=Re(n),p;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();let m=uD(r,n,o.getNode(),l);m!=null?p=o.getNode().getImmediateChild(u).updateChild(f,m):p=o.getNode().getImmediateChild(u)}else p=c_(r,u,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),u,p,f,i,s):c=o.getNode()}}return za(e,c,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function qd(t,e,n,r,i,s,o,c){let l=e.serverCache,u,f=o?t.filter:t.filter.getIndexedFilter();if(ce(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){let w=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),w,null)}else{let w=ne(n);if(!l.isCompleteForPath(n)&&jr(n)>1)return e;let T=Re(n),F=l.getNode().getImmediateChild(w).updateChild(T,r);w===".priority"?u=f.updatePriority(l.getNode(),F):u=f.updateChild(l.getNode(),w,F,T,sS,null)}let p=XD(e,u,l.isFullyInitialized()||ce(n),f.filtersNodes()),m=new Ya(i,p,s);return oS(t,p,n,i,m,c)}function Uy(t,e,n,r,i,s,o){let c=e.eventCache,l,u,f=new Ya(i,e,s);if(ce(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=za(e,u,!0,t.filter.filtersNodes());else{let p=ne(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=za(e,u,c.isFullyInitialized(),c.isFiltered());else{let m=Re(n),w=c.getNode().getImmediateChild(p),T;if(ce(m))T=r;else{let M=f.getCompleteChild(p);M!=null?$D(m)===".priority"&&M.getChild(zD(m)).isEmpty()?T=M:T=M.updateChild(m,r):T=G.EMPTY_NODE}if(w.equals(T))l=e;else{let M=t.filter.updateChild(c.getNode(),p,T,m,f,o);l=za(e,M,c.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dD(t,e){return t.eventCache.isCompleteForChild(e)}function vU(t,e,n,r,i,s,o){let c=e;return r.foreach((l,u)=>{let f=et(n,l);dD(e,ne(f))&&(c=Uy(t,c,f,u,i,s,o))}),r.foreach((l,u)=>{let f=et(n,l);dD(e,ne(f))||(c=Uy(t,c,f,u,i,s,o))}),c}function hD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jy(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ce(n)?u=r:u=new Rt(null).setTree(n,r);let f=e.serverCache.getNode();return u.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){let w=e.serverCache.getNode().getImmediateChild(p),T=hD(t,w,m);l=qd(t,l,new Ee(p),T,i,s,o,c)}}),u.children.inorderTraversal((p,m)=>{let w=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!w){let T=e.serverCache.getNode().getImmediateChild(p),M=hD(t,T,m);l=qd(t,l,new Ee(p),M,i,s,o,c)}}),l}function wU(t,e,n,r,i,s,o){if(Wd(i,n)!=null)return e;let c=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qd(t,e,n,l.getNode().getChild(n),i,s,c,o);if(ce(n)){let u=new Rt(null);return l.getNode().forEachChild(Js,(f,p)=>{u=u.set(new Ee(f),p)}),jy(t,e,n,u,i,s,c,o)}else return e}else{let u=new Rt(null);return r.foreach((f,p)=>{let m=et(n,f);l.isCompleteForPath(m)&&(u=u.set(f,l.getNode().getChild(m)))}),jy(t,e,n,u,i,s,c,o)}}function EU(t,e,n,r,i){let s=e.serverCache,o=XD(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return oS(t,o,n,r,sS,i)}function IU(t,e,n,r,i,s){let o;if(Wd(r,n)!=null)return e;{let c=new Ya(r,e,i),l=e.eventCache.getNode(),u;if(ce(n)||ne(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=zd(r,Oi(e));else{let p=e.serverCache.getNode();R(p instanceof G,"serverChildren would be complete if leaf node"),f=a_(r,p)}f=f,u=t.filter.updateFullNode(l,f,s)}else{let f=ne(n),p=c_(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?u=t.filter.updateChild(l,f,p,Re(n),c,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,G.EMPTY_NODE,Re(n),c,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zd(r,Oi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Wd(r,ye())!=null,za(e,u,o,t.filter.filtersNodes())}}var $y=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Qa(r.getIndex()),s=KB(r);this.processor_=gU(s);let o=n.serverCache,c=n.eventCache,l=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(G.EMPTY_NODE,c.getNode(),null),f=new On(l,o.isFullyInitialized(),i.filtersNodes()),p=new On(u,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=nh(p,f),this.eventGenerator_=new ky(this.query_)}get query(){return this.query_}};function bU(t){return t.viewCache_.serverCache.getNode()}function CU(t){return Hd(t.viewCache_)}function TU(t,e){let n=Oi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function fD(t){return t.eventRegistrations_.length===0}function DU(t,e){t.eventRegistrations_.push(e)}function pD(t,e,n){let r=[];if(n){R(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function gD(t,e,n,r){e.type===Pn.MERGE&&e.source.queryId!==null&&(R(Oi(t.viewCache_),"We should always have a full cache before handling merges"),R(Hd(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=yU(t.processor_,i,e,n,r);return mU(t.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,aS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function SU(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Be,(s,o)=>{r.push(no(s,o))}),n.isFullyInitialized()&&r.push(YD(n.getNode())),aS(t,r,n.getNode(),e)}function aS(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return ZB(t.eventGenerator_,e,n,i)}var Gd,Kd=class{constructor(){this.views=new Map}};function AU(t){R(!Gd,"__referenceConstructor has already been defined"),Gd=t}function xU(){return R(Gd,"Reference.ts has not been loaded"),Gd}function NU(t){return t.views.size===0}function l_(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return R(s!=null,"SyncTree gave us an op for an invalid query."),gD(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(gD(o,e,n,r));return s}}function cS(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=zd(n,i?r:null),l=!1;c?l=!0:r instanceof G?(c=a_(n,r),l=!1):(c=G.EMPTY_NODE,l=!1);let u=nh(new On(c,l,!1),new On(r,i,!1));return new $y(e,u)}return o}function RU(t,e,n,r,i,s){let o=cS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),DU(o,n),SU(o,n)}function MU(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],c=$r(t);if(i==="default")for(let[l,u]of t.views.entries())o=o.concat(pD(u,n,r)),fD(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{let l=t.views.get(i);l&&(o=o.concat(pD(l,n,r)),fD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return c&&!$r(t)&&s.push(new(xU())(e._repo,e._path)),{removed:s,events:o}}function lS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ur(t,e){let n=null;for(let r of t.views.values())n=n||TU(r,e);return n}function uS(t,e){if(e._queryParams.loadsAllData())return ih(t);{let r=e._queryIdentifier;return t.views.get(r)}}function dS(t,e){return uS(t,e)!=null}function $r(t){return ih(t)!=null}function ih(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Qd;function PU(t){R(!Qd,"__referenceConstructor has already been defined"),Qd=t}function OU(){return R(Qd,"Reference.ts has not been loaded"),Qd}var kU=1,Yd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=fU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function hS(t,e,n,r,i){return nU(t.pendingWriteTree_,e,n,r,i),i?ic(t,new ro(ZD(),e,n)):[]}function Ri(t,e,n=!1){let r=rU(t.pendingWriteTree_,e);if(iU(t.pendingWriteTree_,e)){let s=new Rt(null);return r.snap!=null?s=s.set(ye(),!0):Nt(r.children,o=>{s=s.set(new Ee(o),!0)}),ic(t,new Oy(r.path,s,n))}else return[]}function rc(t,e,n){return ic(t,new ro(s_(),e,n))}function FU(t,e,n){let r=Rt.fromObject(n);return ic(t,new $d(s_(),e,r))}function LU(t,e){return ic(t,new jd(s_(),e))}function VU(t,e,n){let r=d_(t,n);if(r){let i=h_(r),s=i.path,o=i.queryId,c=It(s,e),l=new jd(o_(o),c);return f_(t,s,l)}else return[]}function Jd(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),c=[];if(o&&(e._queryIdentifier==="default"||dS(o,e))){let l=MU(o,e,n,r);NU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let u=l.removed;if(c=l.events,!i){let f=u.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(m,w)=>$r(w));if(f&&!p){let m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){let w=jU(m);for(let T=0;T<w.length;++T){let M=w[T],F=M.query,$=mS(t,M);t.listenProvider_.startListening(qa(F),Ja(t,F),$.hashFn,$.onComplete)}}}!p&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(qa(e),null):u.forEach(m=>{let w=t.queryToTagMap.get(sh(m));t.listenProvider_.stopListening(qa(m),w)}))}$U(t,u)}return c}function fS(t,e,n,r){let i=d_(t,r);if(i!=null){let s=h_(i),o=s.path,c=s.queryId,l=It(o,e),u=new ro(o_(c),l,n);return f_(t,o,u)}else return[]}function BU(t,e,n,r){let i=d_(t,r);if(i){let s=h_(i),o=s.path,c=s.queryId,l=It(o,e),u=Rt.fromObject(n),f=new $d(o_(c),l,u);return f_(t,o,f)}else return[]}function Hy(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,w)=>{let T=It(m,i);s=s||Ur(w,T),o=o||$r(w)});let c=t.syncPointTree_.get(i);c?(o=o||$r(c),s=s||Ur(c,ye())):(c=new Kd,t.syncPointTree_=t.syncPointTree_.set(i,c));let l;s!=null?l=!0:(l=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,T)=>{let M=Ur(T,ye());M&&(s=s.updateImmediateChild(w,M))}));let u=dS(c,e);if(!u&&!e._queryParams.loadsAllData()){let m=sh(e);R(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");let w=HU();t.queryToTagMap.set(m,w),t.tagToQueryMap.set(w,m)}let f=rh(t.pendingWriteTree_,i),p=RU(c,e,n,f,s,l);if(!u&&!o&&!r){let m=uS(c,e);p=p.concat(zU(t,e,m))}return p}function u_(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{let l=It(o,e),u=Ur(c,l);if(u)return u});return nS(i,e,s,n,!0)}function UU(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{let p=It(u,n);r=r||Ur(f,p)});let i=t.syncPointTree_.get(n);i?r=r||Ur(i,ye()):(i=new Kd,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new On(r,!0,!1):null,c=rh(t.pendingWriteTree_,e._path),l=cS(i,e,c,s?o.getNode():G.EMPTY_NODE,s);return CU(l)}function ic(t,e){return pS(e,t.syncPointTree_,null,rh(t.pendingWriteTree_,ye()))}function pS(t,e,n,r){if(ce(t.path))return gS(t,e,n,r);{let i=e.get(ye());n==null&&i!=null&&(n=Ur(i,ye()));let s=[],o=ne(t.path),c=t.operationForChild(o),l=e.children.get(o);if(l&&c){let u=n?n.getImmediateChild(o):null,f=rS(r,o);s=s.concat(pS(c,l,u,f))}return i&&(s=s.concat(l_(i,t,r,n))),s}}function gS(t,e,n,r){let i=e.get(ye());n==null&&i!=null&&(n=Ur(i,ye()));let s=[];return e.children.inorderTraversal((o,c)=>{let l=n?n.getImmediateChild(o):null,u=rS(r,o),f=t.operationForChild(o);f&&(s=s.concat(gS(f,c,l,u)))}),i&&(s=s.concat(l_(i,t,r,n))),s}function mS(t,e){let n=e.query,r=Ja(t,n);return{hashFn:()=>(bU(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?VU(t,n._path,r):LU(t,n._path);{let s=sB(i,n);return Jd(t,n,null,s)}}}}function Ja(t,e){let n=sh(e);return t.queryToTagMap.get(n)}function sh(t){return t._path.toString()+"$"+t._queryIdentifier}function d_(t,e){return t.tagToQueryMap.get(e)}function h_(t){let e=t.indexOf("$");return R(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function f_(t,e,n){let r=t.syncPointTree_.get(e);R(r,"Missing sync point for query tag that we're tracking");let i=rh(t.pendingWriteTree_,e);return l_(r,n,i,null)}function jU(t){return t.fold((e,n,r)=>{if(n&&$r(n))return[ih(n)];{let i=[];return n&&(i=lS(n)),Nt(r,(s,o)=>{i=i.concat(o)}),i}})}function qa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(OU())(t._repo,t._path):t}function $U(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=sh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function HU(){return kU++}function zU(t,e,n){let r=e._path,i=Ja(t,e),s=mS(t,n),o=t.listenProvider_.startListening(qa(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)R(!$r(c.value),"If we're adding a query, it shouldn't be shadowed");else{let l=c.fold((u,f,p)=>{if(!ce(u)&&f&&$r(f))return[ih(f).query];{let m=[];return f&&(m=m.concat(lS(f).map(w=>w.query))),Nt(p,(w,T)=>{m=m.concat(T)}),m}});for(let u=0;u<l.length;++u){let f=l[u];t.listenProvider_.stopListening(qa(f),Ja(t,f))}}return o}var zy=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Wy=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=et(this.path_,e);return new t(this.syncTree_,n)}node(){return u_(this.syncTree_,this.path_)}},WU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mD=function(t,e,n){if(!t||typeof t!="object")return t;if(R(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GU(t[".sv"],e);R(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:R(!1,"Unexpected server value: "+t)}},GU=function(t,e,n){t.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&R(!1,"Unexpected increment value: "+r);let i=e.node();if(R(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},KU=function(t,e,n,r){return p_(e,new Wy(n,t),r)},yS=function(t,e,n){return p_(t,new zy(e),n)};function p_(t,e,n){let r=t.getPriority().val(),i=mD(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,c=mD(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new eo(c,tt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new eo(i))),o.forEachChild(Be,(c,l)=>{let u=p_(l,e.getImmediateChild(c),n);u!==l&&(s=s.updateImmediateChild(c,u))}),s}}var Za=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function g_(t,e){let n=e instanceof Ee?e:new Ee(e),r=t,i=ne(n);for(;i!==null;){let s=Ai(r.node.children,i)||{children:{},childCount:0};r=new Za(i,r,s),n=Re(n),i=ne(n)}return r}function ao(t){return t.node.value}function _S(t,e){t.node.value=e,qy(t)}function vS(t){return t.node.childCount>0}function QU(t){return ao(t)===void 0&&!vS(t)}function oh(t,e){Nt(t.node.children,(n,r)=>{e(new Za(n,t,r))})}function wS(t,e,n,r){n&&!r&&e(t),oh(t,i=>{wS(i,e,!0,r)}),n&&r&&e(t)}function YU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function sc(t){return new Ee(t.parent===null?t.name:sc(t.parent)+"/"+t.name)}function qy(t){t.parent!==null&&JU(t.parent,t.name,t)}function JU(t,e,n){let r=QU(n),i=Mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qy(t))}var ZU=/[\[\].#$\/\u0000-\u001F\u007F]/,XU=/[\[\].#$\u0000-\u001F\u007F]/,iy=10*1024*1024,ES=function(t){return typeof t=="string"&&t.length!==0&&!ZU.test(t)},IS=function(t){return typeof t=="string"&&t.length!==0&&!XU.test(t)},ej=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),IS(t)};var bS=function(t,e,n,r){r&&e===void 0||m_(Sd(t,"value"),e,n)},m_=function(t,e,n){let r=n instanceof Ee?new _y(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xi(r));if(typeof e=="function")throw new Error(t+"contains a function "+xi(r)+" with contents = "+e.toString());if(CD(e))throw new Error(t+"contains "+e.toString()+" "+xi(r));if(typeof e=="string"&&e.length>iy/3&&Fa(e)>iy)throw new Error(t+"contains a string greater than "+iy+" utf8 bytes "+xi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Nt(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ES(o)))throw new Error(t+" contains an invalid key ("+o+") "+xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OB(r,o),m_(t,c,r),kB(r)}),i&&s)throw new Error(t+' contains ".value" child '+xi(r)+" in addition to actual children.")}};var CS=function(t,e,n,r){if(!(r&&n===void 0)&&!IS(n))throw new Error(Sd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CS(t,e,n,r)},y_=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ES(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ej(n))throw new Error(Sd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Gy=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function __(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!n_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function TS(t,e,n){__(t,n),DS(t,r=>n_(r,e))}function kn(t,e,n){__(t,n),DS(t,r=>gn(r,e)||gn(e,r))}function DS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(rj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Mi&&pt("event: "+n.toString()),oo(r)}}}var ij="repo_interrupt",sj=25,Ky=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ud(),this.transactionQueueTree_=new Za,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function oj(t,e,n){if(t.stats_=t_(t.repoInfo_),t.forceRestClient_||lB())t.server_=new xy(t.repoInfo_,(r,i,s,o)=>{yD(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_D(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new r_(t.repoInfo_,e,(r,i,s,o)=>{yD(t,r,i,s,o)},r=>{_D(t,r)},r=>{aj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dB(t.repoInfo_,()=>new Py(t.stats_,t.server_)),t.infoData_=new Ny,t.infoSyncTree_=new Yd({startListening:(r,i,s,o)=>{let c=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(c=rc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),w_(t,"connected",!1),t.serverSyncTree_=new Yd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,l)=>{let u=o(c,l);kn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function SS(t){let n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function v_(t){return WU({timestamp:SS(t)})}function yD(t,e,n,r,i){t.dataUpdateCount++;let s=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=ka(n,u=>tt(u));o=BU(t.serverSyncTree_,s,l,i)}else{let l=tt(n);o=fS(t.serverSyncTree_,s,l,i)}else if(r){let l=ka(n,u=>tt(u));o=FU(t.serverSyncTree_,s,l)}else{let l=tt(n);o=rc(t.serverSyncTree_,s,l)}let c=s;o.length>0&&(c=ch(t,s)),kn(t.eventQueue_,c,o)}function _D(t,e){w_(t,"connected",e),e===!1&&uj(t)}function aj(t,e){Nt(e,(n,r)=>{w_(t,n,r)})}function w_(t,e,n){let r=new Ee("/.info/"+e),i=tt(n);t.infoData_.updateSnapshot(r,i);let s=rc(t.infoSyncTree_,r,i);kn(t.eventQueue_,r,s)}function AS(t){return t.nextWriteId_++}function cj(t,e,n){let r=UU(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=tt(i).withIndex(e._queryParams.getIndex());Hy(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=rc(t.serverSyncTree_,e._path,s);else{let c=Ja(t.serverSyncTree_,e);o=fS(t.serverSyncTree_,e._path,s,c)}return kn(t.eventQueue_,e._path,o),Jd(t.serverSyncTree_,e,n,null,!0),s},i=>(ah(t,"get for query "+Qe(e)+" failed: "+i),Promise.reject(new Error(i))))}function lj(t,e,n,r,i){ah(t,"set",{path:e.toString(),value:n,priority:r});let s=v_(t),o=tt(n,r),c=u_(t.serverSyncTree_,e),l=yS(o,c,s),u=AS(t),f=hS(t.serverSyncTree_,e,l,u,!0);__(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(m,w)=>{let T=m==="ok";T||xt("set at "+e+" failed: "+m);let M=Ri(t.serverSyncTree_,u,!T);kn(t.eventQueue_,e,M),fj(t,i,m,w)});let p=PS(t,e);ch(t,p),kn(t.eventQueue_,p,[])}function uj(t){ah(t,"onDisconnectEvents");let e=v_(t),n=Ud();Ry(t.onDisconnect_,ye(),(i,s)=>{let o=KU(i,s,t.serverSyncTree_,e);JD(n,i,o)});let r=[];Ry(n,ye(),(i,s)=>{r=r.concat(rc(t.serverSyncTree_,i,s));let o=PS(t,i);ch(t,o)}),t.onDisconnect_=Ud(),kn(t.eventQueue_,ye(),r)}function dj(t,e,n){let r;ne(e._path)===".info"?r=Hy(t.infoSyncTree_,e,n):r=Hy(t.serverSyncTree_,e,n),TS(t.eventQueue_,e._path,r)}function vD(t,e,n){let r;ne(e._path)===".info"?r=Jd(t.infoSyncTree_,e,n):r=Jd(t.serverSyncTree_,e,n),TS(t.eventQueue_,e._path,r)}function hj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ij)}function ah(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pt(n,...e)}function fj(t,e,n,r){e&&oo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function xS(t,e,n){return u_(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function E_(t,e=t.transactionQueueTree_){if(e||lh(t,e),ao(e)){let n=RS(t,e);R(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&pj(t,sc(e),n)}else vS(e)&&oh(e,n=>{E_(t,n)})}function pj(t,e,n){let r=n.map(u=>u.currentWriteId),i=xS(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let f=n[u];R(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=It(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let c=s.val(!0),l=e;t.server_.put(l.toString(),c,u=>{ah(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){let p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(Ri(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();lh(t,g_(t.transactionQueueTree_,e)),E_(t,t.transactionQueueTree_),kn(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)oo(p[m])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{xt("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}ch(t,e)}},o)}function ch(t,e){let n=NS(t,e),r=sc(n),i=RS(t,n);return gj(t,i,r),r}function gj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let l=e[c],u=It(n,l.path),f=!1,p;if(R(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(Ri(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=sj)f=!0,p="maxretry",i=i.concat(Ri(t.serverSyncTree_,l.currentWriteId,!0));else{let m=xS(t,l.path,o);l.currentInputSnapshot=m;let w=e[c].update(m.val());if(w!==void 0){m_("transaction failed: Data returned ",w,l.path);let T=tt(w);typeof w=="object"&&w!=null&&Mn(w,".priority")||(T=T.updatePriority(m.getPriority()));let F=l.currentWriteId,$=v_(t),pe=yS(T,m,$);l.currentOutputSnapshotRaw=T,l.currentOutputSnapshotResolved=pe,l.currentWriteId=AS(t),o.splice(o.indexOf(F),1),i=i.concat(hS(t.serverSyncTree_,l.path,pe,l.currentWriteId,l.applyLocally)),i=i.concat(Ri(t.serverSyncTree_,F,!0))}else f=!0,p="nodata",i=i.concat(Ri(t.serverSyncTree_,l.currentWriteId,!0))}kn(t.eventQueue_,n,i),i=[],f&&(e[c].status=2,function(m){setTimeout(m,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}lh(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)oo(r[c]);E_(t,t.transactionQueueTree_)}function NS(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&ao(r)===void 0;)r=g_(r,n),e=Re(e),n=ne(e);return r}function RS(t,e){let n=[];return MS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function MS(t,e,n){let r=ao(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);oh(e,i=>{MS(t,i,n)})}function lh(t,e){let n=ao(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_S(e,n.length>0?n:void 0)}oh(e,r=>{lh(t,r)})}function PS(t,e){let n=sc(NS(t,e)),r=g_(t.transactionQueueTree_,e);return YU(r,i=>{sy(t,i)}),sy(t,r),wS(r,i=>{sy(t,i)}),n}function sy(t,e){let n=ao(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(R(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(R(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ri(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?_S(e,void 0):n.length=s+1,kn(t.eventQueue_,sc(e),i);for(let o=0;o<r.length;o++)oo(r[o])}}function mj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function yj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${n}' in query '${t}'`)}return e}var wD=function(t,e){let n=_j(t),r=n.namespace;n.domain==="firebase.com"&&ur(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ur("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Md(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ee(n.pathString)}},_j=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=mj(t.substring(f,p)));let m=yj(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let w=e.slice(0,u);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{let T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};var ED="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vj=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=ED.charAt(n%64),n=Math.floor(n/64);R(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=ED.charAt(e[i]);return R(o.length===20,"nextPushId: Length should be 20."),o}}();var Zd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}},Xd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var eh=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Qy=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:$D(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){let e=sD(this._queryParams),n=e_(e);return n==="{}"?"default":n}get _queryObject(){return sD(this._queryParams)}isEqual(e){if(e=Vr(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=n_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PB(this._path)}};var Fn=class t extends Qy{constructor(e,n){super(e,n,new Ay,!1)}get parent(){let e=zD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Xa=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Ee(e),r=ki(this.ref,e);return new t(this._node.getChild(n),r,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ki(this.ref,r),Be)))}hasChild(e){let n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function uh(t,e){return t=Vr(t),t._checkNotDeleted("ref"),e!==void 0?ki(t._root,e):t._root}function ki(t,e){return t=Vr(t),ne(t._path)===null?tj("child","path",e,!1):CS("child","path",e,!1),new Fn(t._repo,et(t._path,e))}function OS(t,e){t=Vr(t),y_("push",t._path),bS("push",e,t._path,!0);let n=SS(t._repo),r=vj(n),i=ki(t,r),s=ki(t,r),o;return e!=null?o=dh(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function kS(t){return y_("remove",t._path),dh(t,null)}function dh(t,e){t=Vr(t),y_("set",t._path),bS("set",e,t._path,!1);let n=new Di;return lj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function I_(t){t=Vr(t);let e=new eh(()=>{}),n=new th(e);return cj(t._repo,t,n).then(r=>new Xa(r,new Fn(t._repo,t._path),t._queryParams.getIndex()))}var th=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Zd("value",this,new Xa(e.snapshotNode,new Fn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Yy=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xd(this,e,n):null}createEvent(e,n){R(e.childName!=null,"Child events should have a childName.");let r=ki(new Fn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Zd(e.type,this,new Xa(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function wj(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=n,u=(f,p)=>{vD(t._repo,t,c),l(f,p)};u.userCallback=n.userCallback,u.context=n.context,n=u}let o=new eh(n,s||void 0),c=e==="value"?new th(o):new Yy(e,o);return dj(t._repo,t,c),()=>vD(t._repo,t,c)}function FS(t,e,n,r){return wj(t,"value",e,n,r)}AU(Fn);PU(Fn);var Ej="FIREBASE_DATABASE_EMULATOR_HOST",Jy={},Ij=!1;function bj(t,e,n,r){t.repoInfo_=new Md(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Cj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ur("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wD(s,i),c=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Ej]),u?(l=!0,s=`http://${u}?ns=${c.namespace}`,o=wD(s,i),c=o.repoInfo):l=!o.repoInfo.secure;let f=i&&l?new Ha(Ha.OWNER):new dy(t.name,t.options,e);nj("Invalid Firebase Database URL",o),ce(o.path)||ur("Database URL must point to the root of a Firebase Database (not including a child path).");let p=Dj(c,t,f,new uy(t.name,n));return new Zy(p,t)}function Tj(t,e){let n=Jy[e];(!n||n[t.key]!==t)&&ur(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hj(t),delete n[t.key]}function Dj(t,e,n,r){let i=Jy[e.name];i||(i={},Jy[e.name]=i);let s=i[t.toURLString()];return s&&ur("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ky(t,Ij,n,r),i[t.toURLString()]=s,s}var Zy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Tj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ur("Cannot call "+e+" on a deleted database.")}};function hh(t=dn(),e){let n=Kt(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=OT("database");r&&LS(n,...r)}return n}function LS(t,e,n,r={}){t=Vr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ur("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ur('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ha(Ha.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:kT(r.mockUserToken,t.app.options.projectId);s=new Ha(o)}bj(i,e,n,s)}function Sj(t){J2(un),Xe(new Ad("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Cj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ae($T,HT,t),ae($T,HT,"esm2017")}r_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};r_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sj();var Li=class{constructor(e){return e}},VS="database",b_=class{constructor(){return ar(VS)}};var C_=new B("angularfire2.database-instances");function Aj(t,e){let n=Ii(VS,t,e);return n&&new Li(n)}function xj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Li(r)}}var Nj={provide:b_,deps:[[new qe,C_]]},Rj={provide:Li,useFactory:Aj,deps:[[new qe,C_],hn]};function BS(t,...e){return ae("angularfire",Nn.full,"rtdb"),on([Rj,Nj,{provide:C_,useFactory:xj(t),multi:!0,deps:[ve,ht,cr,lr,[new qe,qs],[new qe,Ei],...e]}])}var US=ft(hh,!0);var jS=ft(FS,!0);var $S=ft(OS,!0);var oc=ft(uh,!0);var HS=ft(kS,!0);var T_=ft(dh,!0);var Ln=class t{constructor(e,n){this.db=e;this.storage=n}collectionPath="jugadores";getPlayers(){let e=oc(this.db,this.collectionPath);return new le(n=>{jS(e,r=>{let i=r.val();if(i){let s=Object.keys(i).map(o=>X(k({},i[o]),{firestoreId:o}));n.next(s)}else n.next([])},r=>{console.error("Error al obtener jugadores:",r),n.error(r)})})}addPlayer(e){return A(this,null,function*(){let n=oc(this.db,this.collectionPath),r=$S(n);yield T_(r,e)})}updatePlayer(e){return A(this,null,function*(){if(!e.firestoreId){console.error("firestoreId es undefined");return}let n=oc(this.db,`${this.collectionPath}/${e.firestoreId}`);yield T_(n,e)})}deletePlayer(e){return A(this,null,function*(){if(!e){console.error("Error: playerId es undefined");return}let n=oc(this.db,`${this.collectionPath}/${e}`);yield HS(n)})}uploadFileAndUpdateDatabase(e,n,r){return A(this,null,function*(){})}static \u0275fac=function(n){return new(n||t)(Q(Li),Q(Storage))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};function Pj(t,e){if(t&1&&(N(0,"option",18),O(1),x()),t&2){let n=e.$implicit;oe("value",n),V(),di(n)}}function Oj(t,e){if(t&1&&(N(0,"option",18),O(1),x()),t&2){let n=e.$implicit;oe("value",n.link),V(),di(n.name)}}function kj(t,e){t&1&&(N(0,"div",5)(1,"label",6),O(2,"Subir Video:"),x(),Se(3,"div",7),x())}function Fj(t,e){if(t&1){let n=cn();N(0,"button",17),Ae("click",function(){ee(n);let i=z(2);return te(i.toggleEdit())}),O(1,"Editar"),x()}}function Lj(t,e){if(t&1){let n=cn();N(0,"button",17),Ae("click",function(){ee(n);let i=z(2);return te(i.savePlayer())}),O(1,"Guardar"),x()}}function Vj(t,e){if(t&1){let n=cn();N(0,"div")(1,"div",1)(2,"div",2),O(3,"Detalles del Jugador:"),x(),N(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),O(8,"Nombre:"),x(),N(9,"div",7)(10,"input",8),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.nombre,i)||(s.selectedPlayer.nombre=i),te(i)}),x()()(),N(11,"div",5)(12,"label",6),O(13,"Apellido:"),x(),N(14,"div",7)(15,"input",9),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.apellido,i)||(s.selectedPlayer.apellido=i),te(i)}),x()()(),N(16,"div",5)(17,"label",6),O(18,"Posici\xF3n:"),x(),N(19,"div",7)(20,"select",10),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.posicion,i)||(s.selectedPlayer.posicion=i),te(i)}),At(21,Pj,2,2,"option",11),x()()(),N(22,"div",5)(23,"label",6),O(24,"Edad:"),x(),N(25,"div",7)(26,"input",12),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.edad,i)||(s.selectedPlayer.edad=i),te(i)}),x()()(),N(27,"div",5)(28,"label",6),O(29,"Sexo:"),x(),N(30,"div",7)(31,"input",10),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.sexo,i)||(s.selectedPlayer.sexo=i),te(i)}),x()()(),N(32,"div",5)(33,"label",6),O(34,"Altura:"),x(),N(35,"div",7)(36,"input",13),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.altura,i)||(s.selectedPlayer.altura=i),te(i)}),x()()(),N(37,"div",5)(38,"label",6),O(39,"Partidos:"),x(),N(40,"div",7)(41,"input",14),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.partidos,i)||(s.selectedPlayer.partidos=i),te(i)}),x()()(),N(42,"div",5)(43,"label",6),O(44,"Imagen 1 URL:"),x(),Se(45,"div",7),x(),N(46,"div",5)(47,"label",6),O(48,"Imagen 2 URL:"),x(),N(49,"div",7)(50,"select",10),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.selectedPlayer.img2,i)||(s.selectedPlayer.img2=i),te(i)}),At(51,Oj,2,2,"option",11),x()()(),At(52,kj,4,0,"div",15)(53,Fj,2,0,"button",16)(54,Lj,2,0,"button",16),N(55,"button",17),Ae("click",function(){ee(n);let i=z();return te(i.closeDetail())}),O(56,"Cerrar"),x()()()()()}if(t&2){let n=z();V(10),oe("readonly",n.readonly),$e("ngModel",n.selectedPlayer.nombre),V(5),oe("readonly",n.readonly),$e("ngModel",n.selectedPlayer.apellido),V(5),oe("disabled",n.readonly),$e("ngModel",n.selectedPlayer.posicion),V(),oe("ngForOf",n.positions),V(5),oe("readonly",n.readonly),$e("ngModel",n.selectedPlayer.edad),V(5),oe("disabled",n.readonly),$e("ngModel",n.selectedPlayer.sexo),V(5),oe("readonly",n.readonly),$e("ngModel",n.selectedPlayer.altura),V(5),oe("readonly",n.readonly),$e("ngModel",n.selectedPlayer.partidos),V(9),oe("disabled",n.readonly),$e("ngModel",n.selectedPlayer.img2),V(),oe("ngForOf",n.images),V(),oe("ngIf",!n.readonly),V(),oe("ngIf",n.readonly),V(),oe("ngIf",!n.readonly)}}var fh=class t{constructor(e){this.firebaseService=e}positions=["Base","Escolta","Alero","Ala-p\xEDvot","P\xEDvot"];images=[{link:"assets/imagenes/player01_01.png",name:"Player 01"},{link:"assets/imagenes/player02_01.png",name:"Player 02"},{link:"assets/imagenes/player03_01.png",name:"Player 03"},{link:"assets/imagenes/player04_01.png",name:"Player 04"},{link:"assets/imagenes/player05_01.png",name:"Player 05"},{link:"assets/imagenes/player06_01.png",name:"Player 06"}];selectedPlayer=null;closeDetailEvent=new Fe;savePlayerEvent=new Fe;readonly=!0;videos=[];toggleEdit(){this.readonly=!this.readonly}ngOnInit(){this.videos.push({link:"assets/videos/player01.mp4",name:"Player 01"}),this.videos.push({link:"assets/videos/player02.mp4",name:"Player 02"}),this.videos.push({link:"assets/videos/player03.mp4",name:"Player 03"}),this.videos.push({link:"assets/videos/player04.mp4",name:"Player 04"}),this.videos.push({link:"assets/videos/player05.mp4",name:"Player 05"}),this.videos.push({link:"assets/videos/player06.mp4",name:"Player 06"})}onImageUpload(e){}onVideoUpload(e){}closeDetail(){this.closeDetailEvent.emit()}savePlayer(){this.savePlayerEvent.emit(this.selectedPlayer)}static \u0275fac=function(n){return new(n||t)(J(Ln))};static \u0275cmp=Sn({type:t,selectors:[["app-detail-component"]],inputs:{selectedPlayer:"selectedPlayer"},outputs:{closeDetailEvent:"closeDetailEvent",savePlayerEvent:"savePlayerEvent"},standalone:!0,features:[An],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"player-card"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["placeholder","Name",1,"form-control",3,"ngModelChange","readonly","ngModel"],["placeholder","Last Name",1,"form-control",3,"ngModelChange","readonly","ngModel"],[1,"form-control",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Edad",1,"form-control",3,"ngModelChange","readonly","ngModel"],["placeholder","Altura",1,"form-control",3,"ngModelChange","readonly","ngModel"],["placeholder","Partidos",1,"form-control",3,"ngModelChange","readonly","ngModel"],["class","mb-3 row",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],[3,"value"]],template:function(n,r){n&1&&At(0,Vj,57,21,"div",0),n&2&&oe("ngIf",r.selectedPlayer)},dependencies:[sr,ju,Os,nd,ed,td,Bs,Us,Zu,Ia]})};var ph=class t{transform(e,n="",r=""){return e.filter(i=>{let s=n?i.nombre.toLowerCase().includes(n.toLowerCase()):!0,o=r?i.posicion.toLowerCase()===r.toLowerCase():!0;return s&&o})}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=og({name:"playerFilter",type:t,pure:!0,standalone:!0})};function Bj(t,e){if(t&1&&(N(0,"option",26),O(1),x()),t&2){let n=e.$implicit;oe("value",n),V(),di(n)}}function Uj(t,e){if(t&1){let n=cn();N(0,"div",16)(1,"div",17),O(2,"Buscador de Jugadores"),x(),N(3,"div",18)(4,"div",19)(5,"input",20),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.searchText,i)||(s.searchText=i),te(i)}),x(),N(6,"select",21),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.searchPosition,i)||(s.searchPosition=i),te(i)}),N(7,"option",22),O(8,"Todas las posiciones"),x(),At(9,Bj,2,2,"option",23),x()(),N(10,"button",24),Ae("click",function(){ee(n);let i=z();return te(i.buscarJugador())}),O(11,"Buscar"),x(),N(12,"button",25),Ae("click",function(){ee(n);let i=z();return te(i.showNewPlayerForm=!0)}),O(13,"Nuevo Jugador"),x()()()}if(t&2){let n=z();V(5),$e("ngModel",n.searchText),V(),$e("ngModel",n.searchPosition),V(3),oe("ngForOf",n.positions)}}function jj(t,e){if(t&1&&(N(0,"option",26),O(1),x()),t&2){let n=e.$implicit;oe("value",n),V(),di(n)}}function $j(t,e){if(t&1){let n=cn();N(0,"div",27)(1,"div",17),O(2,"Agregar Nuevo Jugador"),x(),N(3,"div",18)(4,"form")(5,"div",28)(6,"label"),O(7,"Nombre:"),x(),N(8,"input",29),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.nombre,i)||(s.newPlayer.nombre=i),te(i)}),x()(),N(9,"div",28)(10,"label"),O(11,"Apellido:"),x(),N(12,"input",30),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.apellido,i)||(s.newPlayer.apellido=i),te(i)}),x()(),N(13,"div",28)(14,"label"),O(15,"Posici\xF3n:"),x(),N(16,"select",31),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.posicion,i)||(s.newPlayer.posicion=i),te(i)}),At(17,jj,2,2,"option",23),x()(),N(18,"div",28)(19,"label"),O(20,"Edad:"),x(),N(21,"input",32),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.edad,i)||(s.newPlayer.edad=i),te(i)}),x()(),N(22,"div",28)(23,"label"),O(24,"Sexo:"),x(),N(25,"input",33),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.sexo,i)||(s.newPlayer.sexo=i),te(i)}),x()(),N(26,"div",28)(27,"label"),O(28,"Altura:"),x(),N(29,"input",34),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.altura,i)||(s.newPlayer.altura=i),te(i)}),x()(),N(30,"div",28)(31,"label"),O(32,"Partidos:"),x(),N(33,"input",35),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.partidos,i)||(s.newPlayer.partidos=i),te(i)}),x()(),N(34,"div",28)(35,"label"),O(36,"Imagen 1 URL:"),x()(),N(37,"div",28)(38,"label"),O(39,"Imagen 2 URL:"),x(),N(40,"input",36),He("ngModelChange",function(i){ee(n);let s=z();return Ke(s.newPlayer.img2,i)||(s.newPlayer.img2=i),te(i)}),x()(),N(41,"div",28)(42,"label"),O(43,"Video URL:"),x()(),N(44,"button",37),Ae("click",function(){ee(n);let i=z();return te(i.addPlayer())}),O(45,"Guardar Jugador"),x(),N(46,"button",38),Ae("click",function(){ee(n);let i=z();return te(i.showNewPlayerForm=!1)}),O(47,"Cancelar"),x()()()()}if(t&2){let n=z();V(8),$e("ngModel",n.newPlayer.nombre),V(4),$e("ngModel",n.newPlayer.apellido),V(4),$e("ngModel",n.newPlayer.posicion),V(),oe("ngForOf",n.positions),V(4),$e("ngModel",n.newPlayer.edad),V(4),$e("ngModel",n.newPlayer.sexo),V(4),$e("ngModel",n.newPlayer.altura),V(4),$e("ngModel",n.newPlayer.partidos),V(7),$e("ngModel",n.newPlayer.img2)}}function Hj(t,e){if(t&1){let n=cn();N(0,"div",40)(1,"div",18),Se(2,"img",41),N(3,"p")(4,"strong"),O(5,"Nombre:"),x(),O(6),x(),N(7,"p")(8,"strong"),O(9,"Apellido:"),x(),O(10),x(),N(11,"p")(12,"strong"),O(13,"Posici\xF3n:"),x(),O(14),x(),N(15,"button",42),Ae("click",function(){let i=ee(n).$implicit,s=z(2);return te(s.viewDetails(i))}),Cu(),N(16,"svg",43),Se(17,"path",44)(18,"path",45),x()(),fg(),N(19,"button",46),Ae("click",function(){let i=ee(n).$implicit,s=z(2);return te(s.selectPlayer(i))}),Cu(),N(20,"svg",47),Se(21,"path",48)(22,"path",49),x()(),fg(),N(23,"button",50),Ae("click",function(){let i=ee(n).$implicit,s=z(2);return te(s.deletePlayer(i))}),Cu(),N(24,"svg",51),Se(25,"path",52),x()()()()}if(t&2){let n=e.$implicit;V(2),ku("alt",n.nombre||"Desconocido"),oe("src",n.img1||"default-image.jpg",Rs),V(4),Ge(" ",n.nombre,""),V(4),Ge(" ",n.apellido,""),V(4),Ge(" ",n.posicion,"")}}function zj(t,e){if(t&1&&(N(0,"div"),At(1,Hj,26,5,"div",39),Fb(2,"playerFilter"),x()),t&2){let n=z();V(),oe("ngForOf",Lb(2,1,n.players,n.searchText,n.searchPosition))}}function Wj(t,e){if(t&1){let n=cn();N(0,"div")(1,"app-detail-component",53),Ae("closeDetailEvent",function(){ee(n);let i=z();return te(i.deselectPlayer())})("savePlayerEvent",function(i){ee(n);let s=z();return te(s.updatePlayers(i))}),x()()}if(t&2){let n=z();V(),oe("selectedPlayer",n.selectedPlayer)}}var co=class t{constructor(e){this.firebaseService=e}inputBDData=[];players=[];filteredPlayers=[];selectedPlayer;newPlayer={id:0,nombre:"",apellido:"",altura:0,posicion:"",img1:"",img2:"",video:"",edad:0,sexo:"",partidos:0,firestoreId:""};searchText="";searchPosition="";showNewPlayerForm=!1;viewOnlyPlayer=null;positions=["Base","Escolta","Alero","Ala-p\xEDvot","P\xEDvot"];ngOnInit(){this.loadPlayers()}ngOnChanges(e){e.inputBDData&&(this.filteredPlayers=this.inputBDData||[])}buscarJugador(){this.filteredPlayers=this.players.filter(e=>{let n=this.searchText?e.nombre.toLowerCase().includes(this.searchText.toLowerCase()):!0,r=this.searchPosition?e.posicion.toLowerCase()===this.searchPosition.toLowerCase():!0;return n&&r})}loadPlayers(){this.firebaseService.getPlayers().subscribe(e=>{console.log("Jugadores recuperados desde Firebase:",e),this.players=e||[],this.filteredPlayers=[...this.players]})}ngAfterViewInit(){console.log("Valores de jugadores pasados desde el padre:");for(let e in this.inputBDData)if(this.inputBDData.hasOwnProperty(e)){let n=this.inputBDData[e];console.log(`Player ${e}:`,n)}else console.log("Error al procesar jugadores")}selectPlayer(e){this.selectedPlayer=k({},e)}deselectPlayer(e){e&&e.stopPropagation(),this.selectedPlayer=null}addPlayer(){if(!this.newPlayer.nombre||!this.newPlayer.apellido){console.error("Nombre y apellido son obligatorios");return}console.log("A\xF1adiendo nuevo jugador:",this.newPlayer),this.firebaseService.addPlayer(this.newPlayer).then(()=>{console.log("Jugador a\xF1adido exitosamente"),this.loadPlayers(),this.showNewPlayerForm=!1}).catch(e=>{console.error("Error al a\xF1adir jugador:",e)})}deletePlayer(e){if(!e.firestoreId){console.error("Error: firestoreId es undefined");return}this.firebaseService.deletePlayer(e.firestoreId).then(()=>{this.loadPlayers(),this.cancelNewPlayer()}).catch(n=>{console.error("Error al eliminar jugador:",n)})}newPlayerForm(){this.newPlayer={id:0,nombre:"",apellido:"",edad:0,sexo:"",posicion:"",altura:0,partidos:0,img1:"",img2:"",video:"",firestoreId:""},this.showNewPlayerForm=!0}updatePlayers(e){this.firebaseService.updatePlayer(e).then(()=>{this.loadPlayers(),this.deselectPlayer()})}cancelNewPlayer(){this.newPlayer={id:0,nombre:"",apellido:"",altura:0,posicion:"",img1:"",img2:"",video:"",edad:0,sexo:"",partidos:0,firestoreId:""},this.showNewPlayerForm=!1}onNewPlayerImageUpload(e){}onNewPlayerVideoUpload(e){}viewDetails(e){this.viewOnlyPlayer=e}closeViewDetails(){this.viewOnlyPlayer=null}static \u0275fac=function(n){return new(n||t)(J(Ln))};static \u0275cmp=Sn({type:t,selectors:[["app-players-component"]],inputs:{inputBDData:"inputBDData"},standalone:!0,features:[zt([Ln]),Xn,An],decls:53,vars:14,consts:[[1,"col-12"],[1,"container","player-list"],["class","card",4,"ngIf"],["class","new-player-form card",4,"ngIf"],[4,"ngIf"],["id","viewDetailsModal","tabindex","-1","aria-labelledby","viewDetailsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","viewDetailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"img-fluid",3,"src","alt"],["controls","","width","100%",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"search-filters"],["placeholder","Buscar por nombre",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"form-control","mb-2",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mb-3",3,"click"],["type","button",1,"btn","btn-success","mb-3",3,"click"],[3,"value"],[1,"new-player-form","card"],[1,"mb-3"],["name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","apellido","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","posicion","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","edad","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","sexo","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","altura","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","partidos","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","img2",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["class","player-card card mb-3",4,"ngFor","ngForOf"],[1,"player-card","card","mb-3"],[1,"player-image","mb-2",3,"src","alt"],["data-bs-toggle","modal","data-bs-target","#viewDetailsModal","title","Ver Detalles",1,"btn","btn-info","btn-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye"],["d","M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zm-8 4a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"],["d","M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5z"],["data-bs-toggle","tooltip","title","Editar",1,"btn","btn-primary","btn-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],["data-bs-toggle","tooltip","title","Eliminar",1,"btn","btn-danger","btn-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"],[3,"closeDetailEvent","savePlayerEvent","selectedPlayer"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1),At(2,Uj,14,3,"div",2)(3,$j,48,9,"div",3)(4,zj,3,5,"div",4),N(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),O(10,"Detalles del Jugador"),x(),Se(11,"button",10),x(),N(12,"div",11)(13,"p")(14,"strong"),O(15,"Nombre:"),x(),O(16),x(),N(17,"p")(18,"strong"),O(19,"Apellido:"),x(),O(20),x(),N(21,"p")(22,"strong"),O(23,"Posici\xF3n:"),x(),O(24),x(),N(25,"p")(26,"strong"),O(27,"Edad:"),x(),O(28),x(),N(29,"p")(30,"strong"),O(31,"Sexo:"),x(),O(32),x(),N(33,"p")(34,"strong"),O(35,"Altura:"),x(),O(36),x(),N(37,"p")(38,"strong"),O(39,"Partidos:"),x(),O(40),x(),N(41,"p")(42,"strong"),O(43,"Imagen:"),x()(),Se(44,"img",12),N(45,"p")(46,"strong"),O(47,"Video:"),x()(),Se(48,"video",13),x(),N(49,"div",14)(50,"button",15),O(51,"Cerrar"),x()()()()(),At(52,Wj,2,1,"div",4),x()()),n&2&&(V(2),oe("ngIf",!r.selectedPlayer&&!r.showNewPlayerForm),V(),oe("ngIf",r.showNewPlayerForm),V(),oe("ngIf",!r.selectedPlayer&&!r.showNewPlayerForm),V(12),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.nombre,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.apellido,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.posicion,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.edad,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.sexo,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.altura,""),V(4),Ge(" ",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.partidos,""),V(4),ku("alt",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.nombre),oe("src",(r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.img1)||"default-image.jpg",Rs),V(4),oe("src",r.viewOnlyPlayer==null?null:r.viewOnlyPlayer.video,Rs),V(4),oe("ngIf",r.selectedPlayer))},dependencies:[sr,ju,Os,nd,NC,ed,td,Bs,sm,Us,Zu,CC,om,Ia,im,fh,ph]})};var ac={apiKey:"AIzaSyBW2TZzcM7tAAiS2zsBGvev4sPBdYnTkrw",authDomain:"producto2-63d62.firebaseapp.com",databaseURL:"https://producto2-63d62-default-rtdb.firebaseio.com",projectId:"producto2-63d62",storageBucket:"producto2-63d62.firebasestorage.app",messagingSenderId:"549088204019",appId:"1:549088204019:web:65790dda1e88fda43b1386",measurementId:"G-70LBQTLNL1"};var qj="FirebaseError",cc=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}},lc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gj(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new cc(i,c,r)}};function Gj(t,e){return t.replace(Kj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Kj=/\{\$([^}]+)}/g;var gY=4*60*60*1e3;var uc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var GS="@firebase/installations",N_="0.6.9";var KS=1e4,QS=`w:${N_}`,YS="FIS_v2",Qj="https://firebaseinstallations.googleapis.com/v1",Yj=60*60*1e3,Jj="installations",Zj="Installations";var Xj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bi=new lc(Jj,Zj,Xj);function JS(t){return t instanceof cc&&t.code.includes("request-failed")}function ZS({projectId:t}){return`${Qj}/projects/${t}/installations`}function XS(t){return{token:t.token,requestStatus:2,expiresIn:t$(t.expiresIn),creationTime:Date.now()}}function eA(t,e){return A(this,null,function*(){let r=(yield e.json()).error;return Bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function tA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function e$(t,{refreshToken:e}){let n=tA(t);return n.append("Authorization",n$(e)),n}function nA(t){return A(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function t$(t){return Number(t.replace("s","000"))}function n$(t){return`${YS} ${t}`}function r$(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=ZS(t),o=tA(t),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={fid:n,authVersion:YS,appId:t.appId,sdkVersion:QS},u={method:"POST",headers:o,body:JSON.stringify(l)},f=yield nA(()=>fetch(s,u));if(f.ok){let p=yield f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:XS(p.authToken)}}else throw yield eA("Create Installation",f)})}function rA(t){return new Promise(e=>{setTimeout(e,t)})}function i$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var s$=/^[cdef][\w-]{21}$/,x_="";function o$(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=a$(t);return s$.test(n)?n:x_}catch{return x_}}function a$(t){return i$(t).substr(0,22)}function mh(t){return`${t.appName}!${t.appId}`}var iA=new Map;function sA(t,e){let n=mh(t);oA(n,e),c$(n,e)}function oA(t,e){let n=iA.get(t);if(n)for(let r of n)r(e)}function c$(t,e){let n=l$();n&&n.postMessage({key:t,fid:e}),u$()}var Vi=null;function l$(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=t=>{oA(t.data.key,t.data.fid)}),Vi}function u$(){iA.size===0&&Vi&&(Vi.close(),Vi=null)}var d$="firebase-installations-database",h$=1,Ui="firebase-installations-store",S_=null;function R_(){return S_||(S_=_i(d$,h$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ui)}}})),S_}function gh(t,e){return A(this,null,function*(){let n=mh(t),i=(yield R_()).transaction(Ui,"readwrite"),s=i.objectStore(Ui),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sA(t,e.fid),e})}function aA(t){return A(this,null,function*(){let e=mh(t),r=(yield R_()).transaction(Ui,"readwrite");yield r.objectStore(Ui).delete(e),yield r.done})}function yh(t,e){return A(this,null,function*(){let n=mh(t),i=(yield R_()).transaction(Ui,"readwrite"),s=i.objectStore(Ui),o=yield s.get(n),c=e(o);return c===void 0?yield s.delete(n):yield s.put(c,n),yield i.done,c&&(!o||o.fid!==c.fid)&&sA(t,c.fid),c})}function M_(t){return A(this,null,function*(){let e,n=yield yh(t.appConfig,r=>{let i=f$(r),s=p$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===x_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function f$(t){let e=t||{fid:o$(),registrationStatus:0};return cA(e)}function p$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Bi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=g$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:m$(t)}:{installationEntry:e}}function g$(t,e){return A(this,null,function*(){try{let n=yield r$(t,e);return gh(t.appConfig,n)}catch(n){throw JS(n)&&n.customData.serverCode===409?yield aA(t.appConfig):yield gh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function m$(t){return A(this,null,function*(){let e=yield WS(t.appConfig);for(;e.registrationStatus===1;)yield rA(100),e=yield WS(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield M_(t);return r||n}return e})}function WS(t){return yh(t,e=>{if(!e)throw Bi.create("installation-not-found");return cA(e)})}function cA(t){return y$(t)?{fid:t.fid,registrationStatus:0}:t}function y$(t){return t.registrationStatus===1&&t.registrationTime+KS<Date.now()}function _$(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=v$(t,n),o=e$(t,n),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={installation:{sdkVersion:QS,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},f=yield nA(()=>fetch(s,u));if(f.ok){let p=yield f.json();return XS(p)}else throw yield eA("Generate Auth Token",f)})}function v$(t,{fid:e}){return`${ZS(t)}/${e}/authTokens:generate`}function P_(t,e=!1){return A(this,null,function*(){let n,r=yield yh(t.appConfig,s=>{if(!lA(s))throw Bi.create("not-registered");let o=s.authToken;if(!e&&I$(o))return s;if(o.requestStatus===1)return n=w$(t,e),s;{if(!navigator.onLine)throw Bi.create("app-offline");let c=C$(s);return n=E$(t,c),c}});return n?yield n:r.authToken})}function w$(t,e){return A(this,null,function*(){let n=yield qS(t.appConfig);for(;n.authToken.requestStatus===1;)yield rA(100),n=yield qS(t.appConfig);let r=n.authToken;return r.requestStatus===0?P_(t,e):r})}function qS(t){return yh(t,e=>{if(!lA(e))throw Bi.create("not-registered");let n=e.authToken;return T$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function E$(t,e){return A(this,null,function*(){try{let n=yield _$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield gh(t.appConfig,r),n}catch(n){if(JS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield aA(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gh(t.appConfig,r)}throw n}})}function lA(t){return t!==void 0&&t.registrationStatus===2}function I$(t){return t.requestStatus===2&&!b$(t)}function b$(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Yj}function C$(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function T$(t){return t.requestStatus===1&&t.requestTime+KS<Date.now()}function D$(t){return A(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield M_(e);return r?r.catch(console.error):P_(e).catch(console.error),n.fid})}function S$(t,e=!1){return A(this,null,function*(){let n=t;return yield A$(n),(yield P_(n,e)).token})}function A$(t){return A(this,null,function*(){let{registrationPromise:e}=yield M_(t);e&&(yield e)})}function x$(t){if(!t||!t.options)throw A_("App Configuration");if(!t.name)throw A_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw A_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function A_(t){return Bi.create("missing-app-config-values",{valueName:t})}var uA="installations",N$="installations-internal",R$=t=>{let e=t.getProvider("app").getImmediate(),n=x$(e),r=Kt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M$=t=>{let e=t.getProvider("app").getImmediate(),n=Kt(e,uA).getImmediate();return{getId:()=>D$(n),getToken:i=>S$(n,i)}};function P$(){Xe(new uc(uA,R$,"PUBLIC")),Xe(new uc(N$,M$,"PRIVATE"))}P$();ae(GS,N_);ae(GS,N_,"esm2017");function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function fA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var O$="FirebaseError",O_=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}},dc=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?k$(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new O_(i,c,r)}};function k$(t,e){return t.replace(F$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F$=/\{\$([^}]+)}/g;var SY=4*60*60*1e3;function _h(t){return t&&t._delegate?t._delegate:t}var hc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var L$="/firebase-messaging-sw.js",V$="/firebase-cloud-messaging-push-scope",vA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",B$="https://fcmregistrations.googleapis.com/v1",wA="google.c.a.c_id",U$="google.c.a.c_l",j$="google.c.a.ts",$$="google.c.a.e";var vh=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(vh||{});function dr(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H$(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var k_="fcm_token_details_db",z$=5,pA="fcm_token_object_Store";function W$(t){return A(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(k_))return null;let e=null;return(yield _i(k_,z$,{upgrade:(r,i,s,o)=>A(this,null,function*(){var c;if(i<2||!r.objectStoreNames.contains(pA))return;let l=o.objectStore(pA),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(i===2){let f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(c=f.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:dr(f.vapidKey)}}}else if(i===3){let f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:dr(f.auth),p256dh:dr(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:dr(f.vapidKey)}}}else if(i===4){let f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:dr(f.auth),p256dh:dr(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:dr(f.vapidKey)}}}}})})).close(),yield ad(k_),yield ad("fcm_vapid_details_db"),yield ad("undefined"),q$(e)?e:null})}function q$(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var G$="firebase-messaging-database",K$=1,fc="firebase-messaging-store",F_=null;function EA(){return F_||(F_=_i(G$,K$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fc)}}})),F_}function Q$(t){return A(this,null,function*(){let e=IA(t),r=yield(yield EA()).transaction(fc).objectStore(fc).get(e);if(r)return r;{let i=yield W$(t.appConfig.senderId);if(i)return yield B_(t,i),i}})}function B_(t,e){return A(this,null,function*(){let n=IA(t),i=(yield EA()).transaction(fc,"readwrite");return yield i.objectStore(fc).put(e,n),yield i.done,e})}function IA({appConfig:t}){return t.appId}var Y$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gt=new dc("messaging","Messaging",Y$);function J$(t,e){return A(this,null,function*(){let n=yield j_(t),r=bA(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(U_(t.appConfig),i)).json()}catch(o){throw gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw gt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw gt.create("token-subscribe-no-token");return s.token})}function Z$(t,e){return A(this,null,function*(){let n=yield j_(t),r=bA(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${U_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw gt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw gt.create("token-update-no-token");return s.token})}function X$(t,e){return A(this,null,function*(){let r={method:"DELETE",headers:yield j_(t)};try{let s=yield(yield fetch(`${U_(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw gt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function U_({projectId:t}){return`${B$}/projects/${t}/registrations`}function j_(n){return A(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function bA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==vA&&(i.web.applicationPubKey=r),i}var eH=7*24*60*60*1e3;function tH(t){return A(this,null,function*(){let e=yield rH(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:dr(e.getKey("auth")),p256dh:dr(e.getKey("p256dh"))},r=yield Q$(t.firebaseDependencies);if(r){if(iH(r.subscriptionOptions,n))return Date.now()>=r.createTime+eH?nH(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield X$(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return gA(t.firebaseDependencies,n)}else return gA(t.firebaseDependencies,n)})}function nH(t,e){return A(this,null,function*(){try{let n=yield Z$(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield B_(t.firebaseDependencies,r),n}catch(n){throw n}})}function gA(t,e){return A(this,null,function*(){let r={token:yield J$(t,e),createTime:Date.now(),subscriptionOptions:e};return yield B_(t,r),r.token})}function rH(t,e){return A(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:H$(e)})})}function iH(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function mA(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return sH(e,t),oH(e,t),aH(e,t),e}function sH(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function oH(t,e){e.data&&(t.data=e.data)}function aH(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let c=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;c&&(t.fcmOptions.link=c);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function cH(t){return typeof t=="object"&&!!t&&wA in t}lH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function lH(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uH(t){if(!t||!t.options)throw L_("App Configuration Object");if(!t.name)throw L_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw L_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function L_(t){return gt.create("missing-app-config-values",{valueName:t})}var V_=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=uH(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function dH(t){return A(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(L$,{scope:V$}),t.swRegistration.update().catch(()=>{})}catch(e){throw gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function hH(t,e){return A(this,null,function*(){if(!e&&!t.swRegistration&&(yield dH(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw gt.create("invalid-sw-registration");t.swRegistration=e}})}function fH(t,e){return A(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=vA)})}function CA(t,e){return A(this,null,function*(){if(!navigator)throw gt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw gt.create("permission-blocked");return yield fH(t,e?.vapidKey),yield hH(t,e?.serviceWorkerRegistration),tH(t)})}function pH(t,e,n){return A(this,null,function*(){let r=gH(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wA],message_name:n[U$],message_time:n[j$],message_device_time:Math.floor(Date.now()/1e3)})})}function gH(t){switch(t){case vh.NOTIFICATION_CLICKED:return"notification_open";case vh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mH(t,e){return A(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===vh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(mA(n)):t.onMessageHandler.next(mA(n)));let r=n.data;cH(r)&&r[$$]==="1"&&(yield pH(t,n.messageType,r))})}var yA="@firebase/messaging",_A="0.12.12";var yH=t=>{let e=new V_(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>mH(e,n)),e},_H=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>CA(e,r)}};function vH(){Xe(new hc("messaging",yH,"PUBLIC")),Xe(new hc("messaging-internal",_H,"PRIVATE")),ae(yA,_A),ae(yA,_A,"esm2017")}function $_(){return A(this,null,function*(){try{yield hA()}catch{return!1}return typeof window<"u"&&dA()&&fA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function wH(t,e){if(!navigator)throw gt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}function wh(t=dn()){return $_().then(e=>{if(!e)throw gt.create("unsupported-browser")},e=>{throw gt.create("indexed-db-unsupported")}),Kt(_h(t),"messaging").getImmediate()}function Eh(t,e){return A(this,null,function*(){return t=_h(t),CA(t,e)})}function TA(t,e){return t=_h(t),wH(t,e)}vH();var pc=class{constructor(e){return e}},DA="messaging",H_=class{constructor(){return ar(DA)}};var SA="__angularfire_symbol__messagingIsSupported",z_="__angularfire_symbol__messagingIsSupportedValue";globalThis[SA]||=$_().then(t=>globalThis[z_]=t).catch(()=>globalThis[z_]=!1);var Ih={async:()=>globalThis[SA],sync:()=>{let t=globalThis[z_];if(t===void 0)throw new Error(rT("Messaging"));return t}},W_=new B("angularfire2.messaging-instances");function EH(t,e){if(!Ih.sync())return null;let n=Ii(DA,t,e);return n&&new pc(n)}function IH(t){return(e,n)=>{if(!Ih.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new pc(r)}}var bH={provide:H_,deps:[[new qe,W_]]},CH={provide:pc,useFactory:EH,deps:[[new qe,W_],hn]};function AA(t,...e){return ae("angularfire",Nn.full,"fcm"),on([CH,bH,{provide:Lu,useValue:Ih.async,multi:!0},{provide:W_,useFactory:IH(t),multi:!0,deps:[ve,ht,cr,lr,...e]}])}var QY=Ih.async;var gc=ft(wh,!0),xA=ft(Eh,!0),NA=ft(TA,!1);var bh=class t{constructor(){}requestPermission(){return A(this,null,function*(){let e=gc();try{(yield Notification.requestPermission())==="granted"?(console.log("Permiso concedido para notificaciones"),this.getDeviceToken(e)):console.error("Permiso denegado")}catch(n){console.error("Error al solicitar permisos:",n)}})}getDeviceToken(e){return A(this,null,function*(){try{let n=yield xA(e,{vapidKey:"BCVruXR0pTgIqN7zIYCY_-ik6kTSuBOEOUVSBN-ChejltrmRAXN7_0SyZkMUjvHk6qbx5y39rYiwG9bJs3D9JBk"});n?console.log("Token del dispositivo:",n):console.warn("No se pudo obtener el token.")}catch(n){console.error("Error al obtener el token:",n)}})}listenForMessages(){let e=gc();NA(e,n=>{console.log("Mensaje recibido:",n)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ch=class t{constructor(e){this.notificationService=e;this.db=hh(this.app),this.generarConexion()}playersData=[];app=Fr(ac);db;fcmToken=null;ngOnInit(){this.notificationService.requestPermission(),this.notificationService.listenForMessages(),this.getFCMToken()}generarConexion(){let e=uh(this.db,"jugadores");I_(e).then(n=>{if(n.exists()){let r=n.val();this.playersData=r?Object.values(r):[],console.log("Jugadores data:",this.playersData)}else console.log("No hay datos disponibles."),this.playersData=[]}).catch(n=>{console.error("Error al obtener datos de jugadores:",n)})}getFCMToken(){let e=wh();Eh(e,{vapidKey:"BCVruXR0pTgIqN7zIYCY_-ik6kTSuBOEOUVSBN-ChejltrmRAXN7_0SyZkMUjvHk6qbx5y39rYiwG9bJs3D9JBk"}).then(n=>{n?(this.fcmToken=n,console.log("Token de FCM obtenido:",n)):console.log("No se pudo obtener el token")}).catch(n=>{console.log("Error al obtener el token FCM:",n)})}static \u0275fac=function(n){return new(n||t)(J(bh))};static \u0275cmp=Sn({type:t,selectors:[["app-root"]],standalone:!0,features:[zt([Ln]),An],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","text-center"],[1,"container"],[1,"navbar","navbar-fixed-top","border","rounded"],["href","#",1,"navbar-brand"],["src","../assets/CodeCosmos.png","alt","Logo",2,"width","60px","height","60px"],[1,"mx-auto"],[1,"col-12"],[3,"inputBDData"],[1,"container","footerweb"],[1,"card"],[1,"card-body"],[1,"col-xs-12","col-sm-12","col-md-5","col-lg-5","col-xl-5","text-center","linea"],["src","../assets/CodeCosmos.png","alt","Code Cosmos Logo",2,"width","150px","height","150px","vertical-align","text-bottom"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"a",4),Se(5,"img",5),x(),N(6,"div",6)(7,"p"),O(8,"FP067 (P) Desarrollo front-end con frameworks avanzados en entornos m\xF3viles"),x()()()()(),N(9,"div",0)(10,"div",7)(11,"div"),Se(12,"app-players-component",8),x()()(),N(13,"footer")(14,"div",0)(15,"div",1)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"p"),O(21,"Camelia Ancuta Moticeac"),Se(22,"br"),O(23," Sue Cajidos Ros"),Se(24,"br"),O(25," Alejandro Ar\xE9valo Rojas"),Se(26,"br"),O(27," Carlos Bravo Serrano"),Se(28,"br"),O(29," Liliana Diaz Iba\xF1ez"),x()(),N(30,"div",12),Se(31,"img",13),x()()()()()()()()),n&2&&(V(12),oe("inputBDData",r.playersData))},dependencies:[co,sr]})};var MA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|u>>6,w=u&63;l||(w=64,o||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new q_;let m=s<<2|c>>4;if(r.push(m),u!==64){let w=c<<4&240|u>>2;if(r.push(w),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},q_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SH=function(t){let e=MA(t);return PA.encodeByteArray(e,!0)},RA=function(t){return SH(t).replace(/\./g,"")},AH=function(t){try{return PA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var NH=()=>xH().__FIREBASE_DEFAULTS__,RH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&AH(t[1]);return e&&JSON.parse(e)},PH=()=>{try{return NH()||RH()||MH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OH=t=>{var e,n;return(n=(e=PH())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OA=t=>{let e=OH(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]};function kA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[RA(JSON.stringify(n)),RA(JSON.stringify(o)),""].join(".")}var kH="FirebaseError",mc=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G_.prototype.create)}},G_=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FH(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new mc(i,c,r)}};function FH(t,e){return t.replace(LH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LH=/\{\$([^}]+)}/g;var uJ=4*60*60*1e3;var Th=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var VH=[],Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{}),BH={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},UH=Ce.INFO,jH={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},$H=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=jH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dh=class{constructor(e){this.name=e,this._logLevel=UH,this._logHandler=$H,this._userLogHandler=null,VH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var FA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LA={};var K_,VA;(function(){var t;function e(I,y){function v(){}v.prototype=y.prototype,I.D=y.prototype,I.prototype=new v,I.prototype.constructor=I,I.C=function(E,b,D){for(var _=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)_[jn-2]=arguments[jn];return y.prototype[b].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,v){v||(v=0);var E=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)E[b]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(b=0;16>b;++b)E[b]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=I.g[0],v=I.g[1],b=I.g[2];var D=I.g[3],_=y+(D^v&(b^D))+E[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=D+(b^y&(v^b))+E[1]+3905402710&4294967295,D=y+(_<<12&4294967295|_>>>20),_=b+(v^D&(y^v))+E[2]+606105819&4294967295,b=D+(_<<17&4294967295|_>>>15),_=v+(y^b&(D^y))+E[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(D^v&(b^D))+E[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=D+(b^y&(v^b))+E[5]+1200080426&4294967295,D=y+(_<<12&4294967295|_>>>20),_=b+(v^D&(y^v))+E[6]+2821735955&4294967295,b=D+(_<<17&4294967295|_>>>15),_=v+(y^b&(D^y))+E[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(D^v&(b^D))+E[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=D+(b^y&(v^b))+E[9]+2336552879&4294967295,D=y+(_<<12&4294967295|_>>>20),_=b+(v^D&(y^v))+E[10]+4294925233&4294967295,b=D+(_<<17&4294967295|_>>>15),_=v+(y^b&(D^y))+E[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(D^v&(b^D))+E[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=D+(b^y&(v^b))+E[13]+4254626195&4294967295,D=y+(_<<12&4294967295|_>>>20),_=b+(v^D&(y^v))+E[14]+2792965006&4294967295,b=D+(_<<17&4294967295|_>>>15),_=v+(y^b&(D^y))+E[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(b^D&(v^b))+E[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=D+(v^b&(y^v))+E[6]+3225465664&4294967295,D=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(D^y))+E[11]+643717713&4294967295,b=D+(_<<14&4294967295|_>>>18),_=v+(D^y&(b^D))+E[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^D&(v^b))+E[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=D+(v^b&(y^v))+E[10]+38016083&4294967295,D=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(D^y))+E[15]+3634488961&4294967295,b=D+(_<<14&4294967295|_>>>18),_=v+(D^y&(b^D))+E[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^D&(v^b))+E[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=D+(v^b&(y^v))+E[14]+3275163606&4294967295,D=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(D^y))+E[3]+4107603335&4294967295,b=D+(_<<14&4294967295|_>>>18),_=v+(D^y&(b^D))+E[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^D&(v^b))+E[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=D+(v^b&(y^v))+E[2]+4243563512&4294967295,D=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(D^y))+E[7]+1735328473&4294967295,b=D+(_<<14&4294967295|_>>>18),_=v+(D^y&(b^D))+E[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(v^b^D)+E[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=D+(y^v^b)+E[8]+2272392833&4294967295,D=y+(_<<11&4294967295|_>>>21),_=b+(D^y^v)+E[11]+1839030562&4294967295,b=D+(_<<16&4294967295|_>>>16),_=v+(b^D^y)+E[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^D)+E[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=D+(y^v^b)+E[4]+1272893353&4294967295,D=y+(_<<11&4294967295|_>>>21),_=b+(D^y^v)+E[7]+4139469664&4294967295,b=D+(_<<16&4294967295|_>>>16),_=v+(b^D^y)+E[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^D)+E[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=D+(y^v^b)+E[0]+3936430074&4294967295,D=y+(_<<11&4294967295|_>>>21),_=b+(D^y^v)+E[3]+3572445317&4294967295,b=D+(_<<16&4294967295|_>>>16),_=v+(b^D^y)+E[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^D)+E[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=D+(y^v^b)+E[12]+3873151461&4294967295,D=y+(_<<11&4294967295|_>>>21),_=b+(D^y^v)+E[15]+530742520&4294967295,b=D+(_<<16&4294967295|_>>>16),_=v+(b^D^y)+E[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(b^(v|~D))+E[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=D+(v^(y|~b))+E[7]+1126891415&4294967295,D=y+(_<<10&4294967295|_>>>22),_=b+(y^(D|~v))+E[14]+2878612391&4294967295,b=D+(_<<15&4294967295|_>>>17),_=v+(D^(b|~y))+E[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~D))+E[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=D+(v^(y|~b))+E[3]+2399980690&4294967295,D=y+(_<<10&4294967295|_>>>22),_=b+(y^(D|~v))+E[10]+4293915773&4294967295,b=D+(_<<15&4294967295|_>>>17),_=v+(D^(b|~y))+E[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~D))+E[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=D+(v^(y|~b))+E[15]+4264355552&4294967295,D=y+(_<<10&4294967295|_>>>22),_=b+(y^(D|~v))+E[6]+2734768916&4294967295,b=D+(_<<15&4294967295|_>>>17),_=v+(D^(b|~y))+E[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~D))+E[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=D+(v^(y|~b))+E[11]+3174756917&4294967295,D=y+(_<<10&4294967295|_>>>22),_=b+(y^(D|~v))+E[2]+718787259&4294967295,b=D+(_<<15&4294967295|_>>>17),_=v+(D^(b|~y))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var v=y-this.blockSize,E=this.B,b=this.h,D=0;D<y;){if(b==0)for(;D<=v;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<y;)if(E[b++]=I.charCodeAt(D++),b==this.blockSize){i(this,E),b=0;break}}else for(;D<y;)if(E[b++]=I[D++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var v=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=v&255,v/=256;for(this.u(I),I=Array(16),y=v=0;4>y;++y)for(var E=0;32>E;E+=8)I[v++]=this.g[y]>>>E&255;return I};function s(I,y){var v=c;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=y(I)}function o(I,y){this.h=y;for(var v=[],E=!0,b=I.length-1;0<=b;b--){var D=I[b]|0;E&&D==y||(v[b]=D,E=!1)}this.g=v}var c={};function l(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return F(u(-I));for(var y=[],v=1,E=0;I>=v;E++)y[E]=I/v|0,v*=4294967296;return new o(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return F(f(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(y,8)),E=p,b=0;b<I.length;b+=8){var D=Math.min(8,I.length-b),_=parseInt(I.substring(b,b+D),y);8>D?(D=u(Math.pow(y,D)),E=E.j(D).add(u(_))):(E=E.j(v),E=E.add(u(_)))}return E}var p=l(0),m=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(M(this))return-F(this).m();for(var I=0,y=1,v=0;v<this.g.length;v++){var E=this.i(v);I+=(0<=E?E:4294967296+E)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(M(this))return"-"+F(this).toString(I);for(var y=u(Math.pow(I,6)),v=this,E="";;){var b=Me(v,y).g;v=$(v,b.j(y));var D=((0<v.g.length?v.g[0]:v.h)>>>0).toString(I);if(v=b,T(v))return D+E;for(;6>D.length;)D="0"+D;E=D+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function M(I){return I.h==-1}t.l=function(I){return I=$(this,I),M(I)?-1:T(I)?0:1};function F(I){for(var y=I.g.length,v=[],E=0;E<y;E++)v[E]=~I.g[E];return new o(v,~I.h).add(m)}t.abs=function(){return M(this)?F(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),v=[],E=0,b=0;b<=y;b++){var D=E+(this.i(b)&65535)+(I.i(b)&65535),_=(D>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);E=_>>>16,D&=65535,_&=65535,v[b]=_<<16|D}return new o(v,v[v.length-1]&-2147483648?-1:0)};function $(I,y){return I.add(F(y))}t.j=function(I){if(T(this)||T(I))return p;if(M(this))return M(I)?F(this).j(F(I)):F(F(this).j(I));if(M(I))return F(this.j(F(I)));if(0>this.l(w)&&0>I.l(w))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,v=[],E=0;E<2*y;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<I.g.length;b++){var D=this.i(E)>>>16,_=this.i(E)&65535,jn=I.i(b)>>>16,To=I.i(b)&65535;v[2*E+2*b]+=_*To,pe(v,2*E+2*b),v[2*E+2*b+1]+=D*To,pe(v,2*E+2*b+1),v[2*E+2*b+1]+=_*jn,pe(v,2*E+2*b+1),v[2*E+2*b+2]+=D*jn,pe(v,2*E+2*b+2)}for(E=0;E<y;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=y;E<2*y;E++)v[E]=0;return new o(v,0)};function pe(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function de(I,y){this.g=I,this.h=y}function Me(I,y){if(T(y))throw Error("division by zero");if(T(I))return new de(p,p);if(M(I))return y=Me(F(I),y),new de(F(y.g),F(y.h));if(M(y))return y=Me(I,F(y)),new de(F(y.g),y.h);if(30<I.g.length){if(M(I)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,E=y;0>=E.l(I);)v=Ct(v),E=Ct(E);var b=Ie(v,1),D=Ie(E,1);for(E=Ie(E,2),v=Ie(v,2);!T(E);){var _=D.add(E);0>=_.l(I)&&(b=b.add(v),D=_),E=Ie(E,1),v=Ie(v,1)}return y=$(I,b.j(y)),new de(b,y)}for(b=p;0<=I.l(y);){for(v=Math.max(1,Math.floor(I.m()/y.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),D=u(v),_=D.j(y);M(_)||0<_.l(I);)v-=E,D=u(v),_=D.j(y);T(D)&&(D=m),b=b.add(D),I=$(I,_)}return new de(b,I)}t.A=function(I){return Me(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)&I.i(E);return new o(v,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)|I.i(E);return new o(v,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),v=[],E=0;E<y;E++)v[E]=this.i(E)^I.i(E);return new o(v,this.h^I.h)};function Ct(I){for(var y=I.g.length+1,v=[],E=0;E<y;E++)v[E]=I.i(E)<<1|I.i(E-1)>>>31;return new o(v,I.h)}function Ie(I,y){var v=y>>5;y%=32;for(var E=I.g.length-v,b=[],D=0;D<E;D++)b[D]=0<y?I.i(D+v)>>>y|I.i(D+v+1)<<32-y:I.i(D+v);return new o(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VA=LA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,K_=LA.Integer=o}).apply(typeof FA<"u"?FA:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={};var BA,HH,UA,jA,$A,HA,zA,WA,qA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var P=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)P[Te-2]=arguments[Te];return d.prototype[C].apply(g,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function F(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(l(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let P=0;P<S;P++)a[C+P]=g[P]}else a.push(g)}}class ${constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function pe(a){return/^[\s\xa0]*$/.test(a)}function de(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Me(a){return Me[" "](a),a}Me[" "]=function(){};var Ct=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Ie(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function D(a){c.setTimeout(()=>{throw a},0)}function _(){var a=tf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class jn{constructor(){this.h=this.g=null}add(d,h){let g=To.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var To=new $(()=>new Qx,a=>a.reset());class Qx{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Do,So=!1,tf=new jn,nw=()=>{let a=c.Promise.resolve(void 0);Do=()=>{a.then(Yx)}};var Yx=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){D(h)}var d=To;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}So=!1};function gr(){this.s=this.s,this.C=this.C}gr.prototype.s=!1,gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Jx=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ao(a,d){if(ct.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ct){e:{try{Me(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Zx[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ao.aa.h.call(this)}}T(Ao,ct);var Zx={2:"touch",3:"pen",4:"mouse"};Ao.prototype.h=function(){Ao.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),Xx=0;function eN(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++Xx,this.da=this.fa=!1}function Uc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function jc(a){this.src=a,this.g={},this.h=0}jc.prototype.add=function(a,d,h,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=rf(a,d,g,C);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new eN(d,this.src,S,!!g,C),d.fa=h,a.push(d)),d};function nf(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(Uc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function rf(a,d,h,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return C}return-1}var sf="closure_lm_"+(1e6*Math.random()|0),of={};function rw(a,d,h,g,C){if(g&&g.once)return sw(a,d,h,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)rw(a,d[S],h,g,C);return null}return h=uf(h),a&&a[xo]?a.K(d,h,u(g)?!!g.capture:!!g,C):iw(a,d,h,!1,g,C)}function iw(a,d,h,g,C,S){if(!d)throw Error("Invalid event type");var P=u(C)?!!C.capture:!!C,Te=cf(a);if(Te||(a[sf]=Te=new jc(a)),h=Te.add(d,h,g,P,S),h.proxy)return h;if(g=tN(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)Jx||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(aw(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function tN(){function a(h){return d.call(a.src,a.listener,h)}let d=nN;return a}function sw(a,d,h,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)sw(a,d[S],h,g,C);return null}return h=uf(h),a&&a[xo]?a.L(d,h,u(g)?!!g.capture:!!g,C):iw(a,d,h,!0,g,C)}function ow(a,d,h,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)ow(a,d[S],h,g,C);else g=u(g)?!!g.capture:!!g,h=uf(h),a&&a[xo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=rf(S,h,g,C),-1<h&&(Uc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=cf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=rf(d,h,g,C)),(h=-1<a?d[a]:null)&&af(h))}function af(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xo])nf(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(aw(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=cf(d))?(nf(h,a),h.h==0&&(h.src=null,d[sf]=null)):Uc(a)}}}function aw(a){return a in of?of[a]:of[a]="on"+a}function nN(a,d){if(a.da)a=!0;else{d=new Ao(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&af(a),a=h.call(g,d)}return a}function cf(a){return a=a[sf],a instanceof jc?a:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function uf(a){return typeof a=="function"?a:(a[lf]||(a[lf]=function(d){return a.handleEvent(d)}),a[lf])}function lt(){gr.call(this),this.i=new jc(this),this.M=this,this.F=null}T(lt,gr),lt.prototype[xo]=!0,lt.prototype.removeEventListener=function(a,d,h,g){ow(this,a,d,h,g)};function mt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new ct(d,a);else if(d instanceof ct)d.target=d.target||a;else{var C=d;d=new ct(g,a),E(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];C=$c(P,g,!0,d)&&C}if(P=d.g=a,C=$c(P,g,!0,d)&&C,C=$c(P,g,!1,d)&&C,h)for(S=0;S<h.length;S++)P=d.g=h[S],C=$c(P,g,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Uc(h[g]);delete a.g[d],a.h--}}this.F=null},lt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},lt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function $c(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var Te=P.listener,nt=P.ha||P.src;P.fa&&nf(a.i,P),C=Te.call(nt,g)!==!1&&C}}return C&&!g.defaultPrevented}function cw(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function lw(a){a.g=cw(()=>{a.g=null,a.i&&(a.i=!1,lw(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class rN extends gr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:lw(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(a){gr.call(this),this.h=a,this.g={}}T(No,gr);var uw=[];function dw(a){Ie(a.g,function(d,h){this.g.hasOwnProperty(h)&&af(d)},a),a.g={}}No.prototype.N=function(){No.aa.N.call(this),dw(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var df=c.JSON.stringify,iN=c.JSON.parse,sN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function hf(){}hf.prototype.h=null;function hw(a){return a.h||(a.h=a.i())}function fw(){}var Ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ff(){ct.call(this,"d")}T(ff,ct);function pf(){ct.call(this,"c")}T(pf,ct);var Wr={},pw=null;function Hc(){return pw=pw||new lt}Wr.La="serverreachability";function gw(a){ct.call(this,Wr.La,a)}T(gw,ct);function Mo(a){let d=Hc();mt(d,new gw(d))}Wr.STAT_EVENT="statevent";function mw(a,d){ct.call(this,Wr.STAT_EVENT,a),this.stat=d}T(mw,ct);function yt(a){let d=Hc();mt(d,new mw(d,a))}Wr.Ma="timingevent";function yw(a,d){ct.call(this,Wr.Ma,a),this.size=d}T(yw,ct);function Po(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function oN(a,d,h,g,C,S){a.info(function(){if(a.g)if(S)for(var P="",Te=S.split("&"),nt=0;nt<Te.length;nt++){var me=Te[nt].split("=");if(1<me.length){var ut=me[0];me=me[1];var dt=ut.split("_");P=2<=dt.length&&dt[1]=="type"?P+(ut+"="+me+"&"):P+(ut+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+P})}function aN(a,d,h,g,C,S,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+P})}function Ki(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+lN(a,h)+(g?" "+g:"")})}function cN(a,d){a.info(function(){return"TIMEOUT: "+d})}Oo.prototype.info=function(){};function lN(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return df(h)}catch{return d}}var zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_w={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gf;function Wc(){}T(Wc,hf),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},gf=new Wc;function mr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vw}function vw(){this.i=null,this.g="",this.h=!1}var ww={},mf={};function yf(a,d,h){a.L=1,a.v=Qc($n(d)),a.m=h,a.P=!0,Ew(a,null)}function Ew(a,d){a.F=Date.now(),qc(a),a.A=$n(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),kw(h.i,"t",g),a.C=0,h=a.j.J,a.h=new vw,a.g=Xw(a.j,h?d:null,!a.m),0<a.O&&(a.M=new rN(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(uw[0]=C.toString()),C=uw);for(var S=0;S<C.length;S++){var P=rw(h,C[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Mo(),oN(a.i,a.u,a.A,a.l,a.R,a.m)}mr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Hn(a)==3?d.j():this.Y(a)},mr.prototype.Y=function(a){try{if(a==this.g)e:{let dt=Hn(this.g);var d=this.g.Ba();let Ji=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||$w(this.g)))){this.J||dt!=4||d==7||(d==8||0>=Ji?Mo(3):Mo(2)),_f(this);var h=this.g.Z();this.X=h;t:if(Iw(this)){var g=$w(this.g);a="";var C=g.length,S=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),ko(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,aN(this.i,this.u,this.A,this.l,this.R,dt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,nt=this.g;if((Te=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Te)){var me=Te;break t}}me=null}if(h=me)Ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vf(this,h);else{this.o=!1,this.s=3,yt(12),qr(this),ko(this);break e}}if(this.P){h=!0;let Jt;for(;!this.J&&this.C<P.length;)if(Jt=uN(this,P),Jt==mf){dt==4&&(this.s=4,yt(14),h=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ww){this.s=4,yt(15),Ki(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Ki(this.i,this.l,Jt,null),vf(this,Jt);if(Iw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||P.length!=0||this.h.h||(this.s=1,yt(16),h=!1),this.o=this.o&&h,!h)Ki(this.i,this.l,P,"[Invalid Chunked Response]"),qr(this),ko(this);else if(0<P.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Tf(ut),ut.M=!0,yt(11))}}else Ki(this.i,this.l,P,null),vf(this,P);dt==4&&qr(this),this.o&&!this.J&&(dt==4?Qw(this.j,this):(this.o=!1,qc(this)))}else SN(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),qr(this),ko(this)}}}catch{}finally{}};function Iw(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function uN(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?mf:(h=Number(d.substring(h,g)),isNaN(h)?ww:(g+=1,g+h>d.length?mf:(d=d.slice(g,g+h),a.C=g+h,d)))}mr.prototype.cancel=function(){this.J=!0,qr(this)};function qc(a){a.S=Date.now()+a.I,bw(a,a.I)}function bw(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Po(m(a.ba,a),d)}function _f(a){a.B&&(c.clearTimeout(a.B),a.B=null)}mr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(cN(this.i,this.A),this.L!=2&&(Mo(),yt(17)),qr(this),this.s=2,ko(this)):bw(this,this.S-a)};function ko(a){a.j.G==0||a.J||Qw(a.j,a)}function qr(a){_f(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,dw(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function vf(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||wf(h.h,a))){if(!a.K&&wf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)el(h),Zc(h);else break e;Cf(h),yt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Po(m(h.Za,h),6e3));if(1>=Dw(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Kr(h,11)}else if((a.K||h.g==a)&&el(h),!pe(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let me=C[d];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let ut=me[3];ut!=null&&(h.la=ut,h.j.info("VER="+h.la));let dt=me[4];dt!=null&&(h.Aa=dt,h.j.info("SVER="+h.Aa));let Ji=me[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(g=1.5*Ji,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Jt=a.g;if(Jt){let nl=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var S=g.h;S.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ef(S,S.h),S.h=null))}if(g.D){let Df=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(g.ya=Df,Pe(g.I,g.D,Df))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=Zw(g,g.J?g.ia:null,g.W),P.K){Sw(g.h,P);var Te=P,nt=g.L;nt&&(Te.I=nt),Te.B&&(_f(Te),qc(Te)),g.g=P}else Gw(g);0<h.i.length&&Xc(h)}else me[0]!="stop"&&me[0]!="close"||Kr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Kr(h,7):bf(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}Mo(4)}catch{}}var dN=class{constructor(a,d){this.g=a,this.map=d}};function Cw(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tw(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Dw(a){return a.h?1:a.g?a.g.size:0}function wf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ef(a,d){a.g?a.g.add(d):a.h=d}function Sw(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Cw.prototype.cancel=function(){if(this.i=Aw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Aw(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function hN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function fN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function xw(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=fN(a),g=hN(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],h&&h[S],a)}var Nw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pN(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var S=a[h].substring(0,g);C=a[h].substring(g+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gr){this.h=a.h,Gc(this,a.j),this.o=a.o,this.g=a.g,Kc(this,a.s),this.l=a.l;var d=a.i,h=new Vo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Rw(this,h),this.m=a.m}else a&&(d=String(a).match(Nw))?(this.h=!1,Gc(this,d[1]||"",!0),this.o=Fo(d[2]||""),this.g=Fo(d[3]||"",!0),Kc(this,d[4]),this.l=Fo(d[5]||"",!0),Rw(this,d[6]||"",!0),this.m=Fo(d[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}Gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Lo(d,Mw,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Lo(d,Mw,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Lo(h,h.charAt(0)=="/"?yN:mN,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Lo(h,vN)),a.join("")};function $n(a){return new Gr(a)}function Gc(a,d,h){a.j=h?Fo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Kc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Rw(a,d,h){d instanceof Vo?(a.i=d,wN(a.i,a.h)):(h||(d=Lo(d,_N)),a.i=new Vo(d,a.h))}function Pe(a,d,h){a.i.set(d,h)}function Qc(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Fo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Lo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,gN),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function gN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Mw=/[#\/\?@]/g,mN=/[#\?:]/g,yN=/[#\?]/g,_N=/[#\?@]/g,vN=/#/g;function Vo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function yr(a){a.g||(a.g=new Map,a.h=0,a.i&&pN(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Vo.prototype,t.add=function(a,d){yr(this),this.i=null,a=Qi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Pw(a,d){yr(a),d=Qi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Ow(a,d){return yr(a),d=Qi(a,d),a.g.has(d)}t.forEach=function(a,d){yr(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){yr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)h.push(d[g])}return h},t.V=function(a){yr(this);let d=[];if(typeof a=="string")Ow(this,a)&&(d=d.concat(this.g.get(Qi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return yr(this),this.i=null,a=Qi(this,a),Ow(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function kw(a,d,h){Pw(a,d),0<h.length&&(a.i=null,a.g.set(Qi(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=S;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),a.push(C)}}return this.i=a.join("&")};function Qi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function wN(a,d){d&&!a.j&&(yr(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(Pw(this,g),kw(this,C,h))},a)),a.j=d}function EN(a,d){let h=new Oo;if(c.Image){let g=new Image;g.onload=w(_r,h,"TestLoadImage: loaded",!0,d,g),g.onerror=w(_r,h,"TestLoadImage: error",!1,d,g),g.onabort=w(_r,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=w(_r,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function IN(a,d){let h=new Oo,g=new AbortController,C=setTimeout(()=>{g.abort(),_r(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?_r(h,"TestPingServer: ok",!0,d):_r(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),_r(h,"TestPingServer: error",!1,d)})}function _r(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function bN(){this.g=new sN}function CN(a,d,h){let g=h||"";try{xw(a,function(C,S){let P=C;u(C)&&(P=df(C)),d.push(g+S+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Bo(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Bo,hf),Bo.prototype.g=function(){return new Yc(this.l,this.j)},Bo.prototype.i=function(a){return function(){return a}}({});function Yc(a,d){lt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Yc,lt),t=Yc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,jo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fw(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fw(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Uo(this):jo(this),this.readyState==3&&Fw(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Uo(this))},t.Qa=function(a){this.g&&(this.response=a,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,jo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function jo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Lw(a){let d="";return Ie(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function If(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Lw(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Pe(a,d,h))}function Le(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Le,lt);var TN=/^https?$/i,DN=["POST","PUT"];t=Le.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gf.g(),this.v=this.o?hw(this.o):hw(gf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){Vw(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(DN,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jw(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Vw(this,S)}};function Vw(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Bw(a),Jc(a)}function Bw(a){a.A||(a.A=!0,mt(a,"complete"),mt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,mt(this,"complete"),mt(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Uw(this):this.bb())},t.bb=function(){Uw(this)};function Uw(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Hn(a)!=4||a.Z()!=2)){if(a.u&&Hn(a)==4)cw(a.Ea,0,a);else if(mt(a,"readystatechange"),Hn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var C=String(a.D).match(Nw)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!TN.test(C?C.toLowerCase():"")}h=g}if(h)mt(a,"complete"),mt(a,"success");else{a.m=6;try{var S=2<Hn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",Bw(a)}}finally{Jc(a)}}}}function Jc(a,d){if(a.g){jw(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||mt(a,"ready");try{h.onreadystatechange=g}catch{}}}function jw(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Hn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),iN(d)}};function $w(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function SN(a){let d={};a=(a.g&&2<=Hn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(pe(a[g]))continue;var h=b(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Hw(a){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,a),this.cb=$o("retryDelaySeedMs",1e4,a),this.Wa=$o("forwardChannelMaxRetries",2,a),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Cw(a&&a.concurrentRequestLimit),this.Da=new bN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hw.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){yt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Zw(this,null,this.W),Xc(this)};function bf(a){if(zw(a),a.G==3){var d=a.U++,h=$n(a.I);if(Pe(h,"SID",a.K),Pe(h,"RID",d),Pe(h,"TYPE","terminate"),Ho(a,h),d=new mr(a,a.j,d),d.L=2,d.v=Qc($n(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Xw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qc(d)}Jw(a)}function Zc(a){a.g&&(Tf(a),a.g.cancel(),a.g=null)}function zw(a){Zc(a),a.u&&(c.clearTimeout(a.u),a.u=null),el(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Xc(a){if(!Tw(a.h)&&!a.s){a.s=!0;var d=a.Ga;Do||nw(),So||(Do(),So=!0),tf.add(d,a),a.B=0}}function AN(a,d){return Dw(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Po(m(a.Ga,a,d),Yw(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new mr(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=qw(this,C,d),h=$n(this.I),Pe(h,"RID",a),Pe(h,"CVER",22),this.D&&Pe(h,"X-HTTP-Session-Id",this.D),Ho(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(Lw(S)))+"&"+d:this.m&&If(h,this.m,S)),Ef(this.h,C),this.Ua&&Pe(h,"TYPE","init"),this.P?(Pe(h,"$req",d),Pe(h,"SID","null"),C.T=!0,yf(C,h,null)):yf(C,h,d),this.G=2}}else this.G==3&&(a?Ww(this,a):this.i.length==0||Tw(this.h)||Ww(this))};function Ww(a,d){var h;d?h=d.l:h=a.U++;let g=$n(a.I);Pe(g,"SID",a.K),Pe(g,"RID",h),Pe(g,"AID",a.T),Ho(a,g),a.m&&a.o&&If(g,a.m,a.o),h=new mr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=qw(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ef(a.h,h),yf(h,g,d)}function Ho(a,d){a.H&&Ie(a.H,function(h,g){Pe(d,g,h)}),a.l&&xw({},function(h,g){Pe(d,g,h)})}function qw(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let Te=!0;for(let nt=0;nt<h;nt++){let me=C[nt].g,ut=C[nt].map;if(me-=S,0>me)S=Math.max(0,C[nt].g-100),Te=!1;else try{CN(ut,P,"req"+me+"_")}catch{g&&g(ut)}}if(Te){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Gw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Do||nw(),So||(Do(),So=!0),tf.add(d,a),a.v=0}}function Cf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Po(m(a.Fa,a),Yw(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Kw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Po(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Zc(this),Kw(this))};function Tf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Kw(a){a.g=new mr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=$n(a.qa);Pe(d,"RID","rpc"),Pe(d,"SID",a.K),Pe(d,"AID",a.T),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(d,"TO",a.ja),Pe(d,"TYPE","xmlhttp"),Ho(a,d),a.m&&a.o&&If(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Qc($n(d)),h.m=null,h.P=!0,Ew(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Zc(this),Cf(this),yt(19))};function el(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Qw(a,d){var h=null;if(a.g==d){el(a),Tf(a),a.g=null;var g=2}else if(wf(a.h,d))h=d.D,Sw(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Hc(),mt(g,new yw(g,h)),Xc(a)}else Gw(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&AN(a,d)||g==2&&Cf(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Kr(a,5);break;case 4:Kr(a,10);break;case 3:Kr(a,6);break;default:Kr(a,2)}}}function Yw(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Kr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let C=!g;g=new Gr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gc(g,"https"),Qc(g),C?EN(g.toString(),h):IN(g.toString(),h)}else yt(2);a.G=0,a.l&&a.l.sa(d),Jw(a),zw(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Jw(a){if(a.G=0,a.ka=[],a.l){let d=Aw(a.h);(d.length!=0||a.i.length!=0)&&(F(a.ka,d),F(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Zw(a,d,h){var g=h instanceof Gr?$n(h):new Gr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Kc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Gr(null);g&&Gc(S,g),d&&(S.g=d),C&&Kc(S,C),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Pe(g,h,d),Pe(g,"VER",a.la),Ho(a,g),g}function Xw(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Le(new Bo({eb:h})):new Le(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eE(){}t=eE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tl(){}tl.prototype.g=function(a,d){return new Pt(a,d)};function Pt(a,d){lt.call(this),this.g=new Hw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!pe(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!pe(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Yi(this)}T(Pt,lt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){bf(this.g)},Pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=df(a),a=h);d.i.push(new dN(d.Ya++,a)),d.G==3&&Xc(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,Pt.aa.N.call(this)};function tE(a){ff.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(tE,ff);function nE(){pf.call(this),this.status=1}T(nE,pf);function Yi(a){this.g=a}T(Yi,eE),Yi.prototype.ua=function(){mt(this.g,"a")},Yi.prototype.ta=function(a){mt(this.g,new tE(a))},Yi.prototype.sa=function(a){mt(this.g,new nE)},Yi.prototype.ra=function(){mt(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,qA=hr.createWebChannelTransport=function(){return new tl},WA=hr.getStatEventTarget=function(){return Hc()},zA=hr.Event=Wr,HA=hr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zc.NO_ERROR=0,zc.TIMEOUT=8,zc.HTTP_ERROR=6,$A=hr.ErrorCode=zc,_w.COMPLETE="complete",jA=hr.EventType=_w,fw.EventType=Ro,Ro.OPEN="a",Ro.CLOSE="b",Ro.ERROR="c",Ro.MESSAGE="d",lt.prototype.listen=lt.prototype.K,UA=hr.WebChannel=fw,HH=hr.FetchXmlHttpFactory=Bo,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,BA=hr.XhrIo=Le}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});var GA="@firebase/firestore";var st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");var _c="10.14.0";var uo=new Dh("@firebase/firestore");function yn(t,...e){if(uo.logLevel<=Ce.DEBUG){let n=e.map(uv);uo.debug(`Firestore (${_c}): ${t}`,...n)}}function ZA(t,...e){if(uo.logLevel<=Ce.ERROR){let n=e.map(uv);uo.error(`Firestore (${_c}): ${t}`,...n)}}function zH(t,...e){if(uo.logLevel<=Ce.WARN){let n=e.map(uv);uo.warn(`Firestore (${_c}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Mt(t="Unexpected state"){let e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+t;throw ZA(e),new Error(e)}function ji(t,e){t||Mt()}var bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ot=class extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $i=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ah=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Y_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},J_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Z_=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ji(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>A(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ji(typeof r.accessToken=="string"),new Ah(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ji(e===null||typeof e=="string"),new st(e)}},X_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ji(this.o===void 0);let r=s=>{s.error!=null&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,yn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ji(typeof n.token=="string"),this.R=n.token,new tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function XA(t,e){return t<e?-1:t>e?1:0}var rv=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Mt(),r===void 0?r=e.length-n:r>e.length-n&&Mt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Hr=class t extends rv{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ot(bt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Hi=class t{constructor(e){this.path=e}static fromPath(e){return new t(Hr.fromString(e))}static fromName(e){return new t(Hr.fromString(e).popFirst(5))}static empty(){return new t(Hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Hr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Hr(e.slice()))}};var iv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};iv.UNKNOWN_ID=-1;function WH(t){return t.name==="IndexedDbTransactionError"}function qH(t){return t===0&&1/t==-1/0}var GH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MJ=[...GH,"documentOverlays"],KH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QH=KH,YH=[...QH,"indexConfiguration","indexState","indexEntries"];var PJ=[...YH,"globals"];var ho=class t{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}},lo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();let e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}};Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xh=class t{constructor(e){this.comparator=e,this.data=new ho(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nh(this.data.getIterator())}getIteratorFrom(e){return new Nh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Nh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var fo=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sv("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return XA(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};fo.EMPTY_BYTE_STRING=new fo("");var JH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ZH(t){if(ji(!!t),typeof t=="string"){let e=0,n=JH.exec(t);if(ji(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yc(t.seconds),nanos:yc(t.nanos)}}function yc(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function XH(t){return typeof t=="string"?fo.fromBase64String(t):fo.fromUint8Array(t)}var ov=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function e4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function t4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var kJ=new ho(Hi.comparator);var FJ=new ho(Hi.comparator);var LJ=new ho(Hi.comparator),VJ=new xh(Hi.comparator);var BJ=new xh(XA);var KA,fe;(fe=KA||(KA={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var UJ=new K_([4294967295,4294967295],0);var Rh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(yc(e.integerValue));else if("doubleValue"in e){let r=yc(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),qH(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ZH(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(XH(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?t4(e)?this.dt(n,Number.MAX_SAFE_INTEGER):e4(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Mt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(yc(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Hi.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Rh.vt=new Rh;var jJ=new Uint8Array(0);var Vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);function Q_(){return typeof document<"u"?document:null}var av=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&yn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var cv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var QA,YA;(YA=QA||(QA={})).ea="default",YA.Cache="cache";function n4(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var JA=new Map;function r4(t,e,n,r){if(e===!0&&r===!0)throw new ot(bt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Mt()}function s4(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=i4(t);throw new ot(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ot(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ph=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y_;switch(r.type){case"firstParty":return new ev(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=JA.get(n);r&&(yn("ComponentProvider","Removing Datastore"),JA.delete(n),r.terminate())}(this),Promise.resolve()}};function ex(t,e,n,r={}){var i;let s=(t=s4(t,Ph))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zH("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=st.MOCK_USER;else{c=kA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ot(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new st(u)}t._authCredentials=new J_(new Ah(c,l))}}var Oh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new av(this,"async_queue_retry"),this.Vu=()=>{let r=Q_();r&&yn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Q_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Q_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new $i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return A(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!WH(e))throw e;yn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw ZA("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=cv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Mt()}verifyOperationInProgress(){}wu(){return A(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var lv=class extends Ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Oh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Oh(e),this._firestoreClient=void 0,yield e}})}};function tx(t,e){let n=typeof t=="object"?t:dn(),r=typeof t=="string"?t:e||"(default)",i=Kt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=OA("firestore");s&&ex(i,...s)}return i}var $J=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){_c=i})(un),Xe(new Th("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new lv(new Z_(r.getProvider("auth-internal")),new nv(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ot(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ov(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ae(GA,"4.7.3",e),ae(GA,"4.7.3","esm2017")})();var vc=class{constructor(e){return e}},nx="firestore",dv=class{constructor(){return ar(nx)}};var hv=new B("angularfire2.firestore-instances");function o4(t,e){let n=Ii(nx,t,e);return n&&new vc(n)}function a4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vc(r)}}var c4={provide:dv,deps:[[new qe,hv]]},l4={provide:vc,useFactory:o4,deps:[[new qe,hv],hn]};function rx(t,...e){return ae("angularfire",Nn.full,"fst"),on([l4,c4,{provide:hv,useFactory:a4(t),multi:!0,deps:[ve,ht,cr,lr,[new qe,qs],[new qe,Ei],...e]}])}var ix=ft(tx,!0);var K="primary",Fc=Symbol("RouteTitle"),yv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vo(t){return new yv(t)}function u4(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function d4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}function Un(t,e){let n=t?_v(t):void 0,r=e?_v(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!hx(t[i],e[i]))return!1;return!0}function _v(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function fx(t){return t.length>0?t[t.length-1]:null}function zr(t){return Gf(t)?t:hi(t)?Ue(Promise.resolve(t)):q(t)}var h4={exact:gx,subset:mx},px={exact:f4,subset:p4,ignored:()=>!0};function sx(t,e,n){return h4[n.paths](t.root,e.root,n.matrixParams)&&px[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function f4(t,e){return Un(t,e)}function gx(t,e,n){if(!Wi(t.segments,e.segments)||!Lh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gx(t.children[r],e.children[r],n))return!1;return!0}function p4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hx(t[n],e[n]))}function mx(t,e,n){return yx(t,e,e.segments,n)}function yx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wi(i,n)||e.hasChildren()||!Lh(i,n,r))}else if(t.segments.length===n.length){if(!Wi(t.segments,n)||!Lh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!mx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Wi(t.segments,i)||!Lh(t.segments,i,r)||!t.children[K]?!1:yx(t.children[K],e,s,r)}}function Lh(t,e,n){return e.every((r,i)=>px[n](t[i].parameters,r.parameters))}var pr=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return y4.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vh(this)}},zi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return vx(this)}};function g4(t,e){return Wi(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}function Wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function m4(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var zv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new Dc,providedIn:"root"})}}return t})(),Dc=class{parse(e){let n=new wv(e);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wc(e.root,!0)}`,r=w4(e.queryParams),i=typeof e.fragment=="string"?`#${_4(e.fragment)}`:"";return`${n}${r}${i}`}},y4=new Dc;function Vh(t){return t.segments.map(e=>vx(e)).join("/")}function wc(t,e){if(!t.hasChildren())return Vh(t);if(e){let n=t.children[K]?wc(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${wc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=m4(t,(r,i)=>i===K?[wc(t.children[K],!1)]:[`${i}:${wc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Vh(t)}/${n[0]}`:`${Vh(t)}/(${n.join("//")})`}}function _x(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kh(t){return _x(t).replace(/%3B/gi,";")}function _4(t){return encodeURI(t)}function vv(t){return _x(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(t){return decodeURIComponent(t)}function ox(t){return Bh(t.replace(/\+/g,"%20"))}function vx(t){return`${vv(t.path)}${v4(t.parameters)}`}function v4(t){return Object.entries(t).map(([e,n])=>`;${vv(e)}=${vv(n)}`).join("")}function w4(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${kh(n)}=${kh(i)}`).join("&"):`${kh(n)}=${kh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var E4=/^[^\/()?;#]+/;function fv(t){let e=t.match(E4);return e?e[0]:""}var I4=/^[^\/()?;=#]+/;function b4(t){let e=t.match(I4);return e?e[0]:""}var C4=/^[^=?&#]+/;function T4(t){let e=t.match(C4);return e?e[0]:""}var D4=/^[^&#]+/;function S4(t){let e=t.match(D4);return e?e[0]:""}var wv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new we(e,n)),r}parseSegment(){let e=fv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new zi(Bh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=b4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fv(this.remaining);i&&(r=i,this.capture(r))}e[Bh(n)]=Bh(r)}parseQueryParam(e){let n=T4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=S4(this.remaining);o&&(r=o,this.capture(r))}let i=ox(n),s=ox(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function wx(t){return t.segments.length>0?new we([],{[K]:t}):t}function Ex(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Ex(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return A4(n)}function A4(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new we(t.segments.concat(e.segments),e.children)}return t}function Sc(t){return t instanceof pr}function x4(t,e,n=null,r=null){let i=Ix(t);return bx(i,e,n,r)}function Ix(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let c=new we(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=wx(r);return e??i}function bx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pv(i,i,i,n,r);let s=N4(e);if(s.toRoot())return pv(i,i,new we([],{}),n,r);let o=R4(s,i,t),c=o.processChildren?bc(o.segmentGroup,o.index,s.commands):Tx(o.segmentGroup,o.index,s.commands);return pv(i,o.segmentGroup,c,n,r)}function Uh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ac(t){return typeof t=="object"&&t!=null&&t.outlets}function pv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=n:o=Cx(t,e,n);let c=wx(Ex(o));return new pr(c,s,i)}function Cx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Cx(s,e,n)}),new we(t.segments,r)}var jh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uh(r[0]))throw new U(4003,!1);let i=r.find(Ac);if(i&&i!==fx(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function N4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new jh(n,e,r)}var mo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function R4(t,e,n){if(t.isAbsolute)return new mo(e,!0,0);if(!n)return new mo(e,!1,NaN);if(n.parent===null)return new mo(n,!0,0);let r=Uh(t.commands[0])?0:1,i=n.segments.length-1+r;return M4(n,i,t.numberOfDoubleDots)}function M4(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new mo(r,!1,i-s)}function P4(t){return Ac(t[0])?t[0].outlets:{[K]:t}}function Tx(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return bc(t,e,n);let r=O4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new we(t.segments.slice(r.pathIndex),t.children),bc(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?Ev(t,e,n):r.match?bc(t,0,i):Ev(t,e,n)}function bc(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=P4(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=bc(t.children[K],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Tx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function O4(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Ac(c))break;let l=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!cx(l,u,o))return s;r+=2}else{if(!cx(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ev(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ac(s)){let l=k4(s.outlets);return new we(r,l)}if(i===0&&Uh(n[0])){let l=t.segments[e];r.push(new zi(l.path,ax(n[0]))),i++;continue}let o=Ac(s)?s.outlets[K]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Uh(c)?(r.push(new zi(o,ax(c))),i+=2):(r.push(new zi(o,{})),i++)}return new we(r,{})}function k4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ev(new we([],{}),0,r))}),e}function ax(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cx(t,e,n){return t==n.path&&Un(e,n.parameters)}var Cc="imperative",at=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(at||{}),Yt=class{constructor(e,n){this.id=e,this.url=n}},xc=class extends Yt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=at.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qi=class extends Yt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Lt||{}),Iv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Iv||{}),fr=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gi=class extends Yt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=at.NavigationSkipped}},Nc=class extends Yt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$h=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bv=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cv=class extends Yt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tv=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class extends Yt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sv=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Av=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xv=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nv=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rv=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mv=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Rc=class{},wo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function F4(t,e){return t.providers&&!t._injector&&(t._injector=kg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _n(t){return t.outlet||K}function L4(t,e){let n=t.filter(r=>_n(r)===e);return n.push(...t.filter(r=>_n(r)!==e)),n}function Lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pv=class{get injector(){return Lc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Qh(this.rootInjector),this.attachRef=null}},Qh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Pv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Q(jt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ov(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ov(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kv(e,this._root).map(n=>n.value)}};function Ov(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ov(t,n);if(r)return r}return null}function kv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=kv(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function go(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zh=class extends Hh{constructor(e,n){super(e),this.snapshot=n,Wv(this,e)}toString(){return this.snapshot.toString()}};function Dx(t){let e=V4(t),n=new it([new zi("",{})]),r=new it({}),i=new it({}),s=new it({}),o=new it(""),c=new Eo(n,r,s,o,i,K,t,e.root);return c.snapshot=e.root,new zh(new Ft(c,[]),e)}function V4(t){let e={},n={},r={},i="",s=new yo([],e,r,i,n,K,t,null,{});return new qh("",new Ft(s,[]))}var Eo=class{constructor(e,n,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ie(u=>u[Fc]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&Ax(i)&&(r.resolve[Fc]=i.title),r}var yo=class{get title(){return this.data?.[Fc]}constructor(e,n,r,i,s,o,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},qh=class extends Hh{constructor(e,n){super(n),this.url=e,Wv(this,n)}toString(){return Sx(this._root)}};function Wv(t,e){e.value._routerState=t,e.children.forEach(n=>Wv(t,n))}function Sx(t){let e=t.children.length>0?` { ${t.children.map(Sx).join(", ")} } `:"";return`${t.value}${e}`}function gv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),d4(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fv(t,e){let n=Un(t.params,e.params)&&g4(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fv(t.parent,e.parent))}function Ax(t){return typeof t.title=="string"||t.title===null}var B4=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=L(Qh),this.location=L(Ms),this.changeDetector=L(pi),this.inputBinder=L(qv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Lv(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]})}}return t})(),Lv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Eo?this.route:e===Qh?this.childContexts:this.parent.get(e,n)}},qv=new B("");function U4(t,e,n){let r=Mc(t,e._root,n?n._root:void 0);return new zh(r,e)}function Mc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=j4(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Mc(t,c)),o}}let r=$4(e.value),i=e.children.map(s=>Mc(t,s));return new Ft(r,i)}}function j4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Mc(t,r,i);return Mc(t,r)})}function $4(t){return new Eo(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var Pc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},xx="ngNavigationCancelingError";function Gh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nx(!1,Lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Nx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xx]=!0,n.cancellationCode=e,n}function H4(t){return Rx(t)&&Sc(t.url)}function Rx(t){return!!t&&t[xx]}var z4=(t,e,n,r)=>ie(i=>(new Vv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=go(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=go(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=go(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Mv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Nv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(gv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),gv(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Kh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_o=class{constructor(e,n){this.component=e,this.route=n}};function W4(t,e,n){let r=t._root,i=e?e._root:null;return Ec(r,i,n,[r.value])}function q4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!MI(t)?t:e.get(t):r}function Ec(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=go(e);return t.children.forEach(o=>{G4(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Tc(c,n.getContext(o),i)),i}function G4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=K4(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Kh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ec(t,e,c?c.children:null,r,i):Ec(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new _o(c.outlet.component,o))}else o&&Tc(e,c,i),i.canActivateChecks.push(new Kh(r)),s.component?Ec(t,null,c?c.children:null,r,i):Ec(t,null,n,r,i);return i}function K4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fv(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!Fv(t,e)}}function Tc(t,e,n){let r=go(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Tc(o,e.children.getContext(s),n):Tc(o,null,n):Tc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _o(e.outlet.component,i)):n.canDeactivateChecks.push(new _o(null,i)):n.canDeactivateChecks.push(new _o(null,i))}function Vc(t){return typeof t=="function"}function Q4(t){return typeof t=="boolean"}function Y4(t){return t&&Vc(t.canLoad)}function J4(t){return t&&Vc(t.canActivate)}function Z4(t){return t&&Vc(t.canActivateChild)}function X4(t){return t&&Vc(t.canDeactivate)}function ez(t){return t&&Vc(t.canMatch)}function Mx(t){return t instanceof Wn||t?.name==="EmptyError"}var Fh=Symbol("INITIAL_VALUE");function Io(){return en(t=>Rl(t.map(e=>e.pipe(qn(1),Xf(Fh)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Fh)return Fh;if(n===!1||tz(n))return n}return!0}),Xt(e=>e!==Fh),qn(1)))}function tz(t){return Sc(t)||t instanceof Pc}function nz(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?q(X(k({},n),{guardsResult:!0})):rz(o,r,i,t).pipe(Je(c=>c&&Q4(c)?iz(r,s,t,e):q(c)),ie(c=>X(k({},n),{guardsResult:c})))})}function rz(t,e,n,r){return Ue(t).pipe(Je(i=>lz(i.component,i.route,n,e,r)),vn(i=>i!==!0,!0))}function iz(t,e,n,r){return Ue(e).pipe(us(i=>ls(oz(i.route.parent,r),sz(i.route,r),cz(t,i.path,n),az(t,i.route,n))),vn(i=>i!==!0,!0))}function sz(t,e){return t!==null&&e&&e(new Rv(t)),q(!0)}function oz(t,e){return t!==null&&e&&e(new xv(t)),q(!0)}function az(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>Ml(()=>{let o=Lc(e)??n,c=bo(s,o),l=J4(c)?c.canActivate(e,t):Yn(o,()=>c(e,t));return zr(l).pipe(vn())}));return q(i).pipe(Io())}function cz(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>q4(o)).filter(o=>o!==null).map(o=>Ml(()=>{let c=o.guards.map(l=>{let u=Lc(o.node)??n,f=bo(l,u),p=Z4(f)?f.canActivateChild(r,t):Yn(u,()=>f(r,t));return zr(p).pipe(vn())});return q(c).pipe(Io())}));return q(s).pipe(Io())}function lz(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(c=>{let l=Lc(e)??i,u=bo(c,l),f=X4(u)?u.canDeactivate(t,e,n,r):Yn(l,()=>u(t,e,n,r));return zr(f).pipe(vn())});return q(o).pipe(Io())}function uz(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let c=bo(o,t),l=Y4(c)?c.canLoad(e,n):Yn(t,()=>c(e,n));return zr(l)});return q(s).pipe(Io(),Px(r))}function Px(t){return Bf(Ze(e=>{if(typeof e!="boolean")throw Gh(t,e)}),ie(e=>e===!0))}function dz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let c=bo(o,t),l=ez(c)?c.canMatch(e,n):Yn(t,()=>c(e,n));return zr(l)});return q(s).pipe(Io(),Px(r))}var Oc=class{constructor(e){this.segmentGroup=e||null}},kc=class extends Error{constructor(e){super(),this.urlTree=e}};function po(t){return cs(new Oc(t))}function hz(t){return cs(new U(4e3,!1))}function fz(t){return cs(Nx(!1,Lt.GuardRejected))}var Bv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[K])return hz(`${e.redirectTo}`);i=i.children[K]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:l,fragment:u,routeConfig:f,url:p,outlet:m,params:w,data:T,title:M}=i,F=Yn(s,()=>c({params:w,data:T,queryParams:l,fragment:u,routeConfig:f,url:p,outlet:m,title:M}));if(F instanceof pr)throw new kc(F);n=F}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new kc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pz(t,e,n,r,i){let s=Ox(t,e,n);return s.matched?(r=F4(e,r),dz(r,e,n,i).pipe(ie(o=>o===!0?s:k({},Uv)))):q(s)}function Ox(t,e,n){if(e.path==="**")return gz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Uv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||u4)(n,t,e);if(!i)return k({},Uv);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function gz(t){return{matched:!0,parameters:t.length>0?fx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function lx(t,e,n,r){return n.length>0&&_z(t,n,r)?{segmentGroup:new we(e,yz(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&vz(t,n,r)?{segmentGroup:new we(t.segments,mz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function mz(t,e,n,r){let i={};for(let s of n)if(Yh(t,e,s)&&!r[_n(s)]){let o=new we([],{});i[_n(s)]=o}return k(k({},r),i)}function yz(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&_n(r)!==K){let i=new we([],{});n[_n(r)]=i}return n}function _z(t,e,n){return n.some(r=>Yh(t,e,r)&&_n(r)!==K)}function vz(t,e,n){return n.some(r=>Yh(t,e,r))}function Yh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wz(t,e,n){return e.length===0&&!t.children[n]}var jv=class{};function Ez(t,e,n,r,i,s,o="emptyOnly"){return new $v(t,e,n,r,i,o,s).recognize()}var Iz=31,$v=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Bv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=lx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Ft(r,n),s=new qh("",i),o=x4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new yo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,n).pipe(ie(r=>({children:r,rootSnapshot:n})),Ir(r=>{if(r instanceof kc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof Ft?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(us(o=>{let c=r.children[o],l=L4(n,o);return this.processSegmentGroup(e,l,c,o,i)}),Zf((o,c)=>(o.push(...c),o)),br(null),Jf(),Je(o=>{if(o===null)return po(r);let c=kx(o);return bz(c),q(c)}))}processSegment(e,n,r,i,s,o,c){return Ue(n).pipe(us(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,c).pipe(Ir(u=>{if(u instanceof Oc)return q(null);throw u}))),vn(l=>!!l),Ir(l=>{if(Mx(l))return wz(r,i,s)?q(new jv):po(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,l){return _n(r)!==o&&(o===K||!Yh(i,s,r))?po(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):po(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=Ox(n,i,s);if(!l)return po(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Iz&&(this.allowRedirects=!1));let w=new yo(s,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ux(i),_n(i),i.component??i._loadedComponent??null,i,dx(i)),T=Wh(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(T.params),w.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,w,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Je(F=>this.processSegment(e,r,n,F.concat(m),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=pz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(en(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:u})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:w}=l,T=new yo(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ux(r),_n(r),r.component??r._loadedComponent??null,r,dx(r)),M=Wh(T,o,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:F,slicedSegments:$}=lx(n,m,w,u);if($.length===0&&F.hasChildren())return this.processChildren(f,u,F,T).pipe(ie(de=>new Ft(T,de)));if(u.length===0&&$.length===0)return q(new Ft(T,[]));let pe=_n(r)===s;return this.processSegment(f,u,F,$,pe?K:s,!0,T).pipe(ie(de=>new Ft(T,de instanceof Ft?[de]:[])))}))):po(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):uz(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ze(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):fz(n))):q({routes:[],injector:e})}};function bz(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function Cz(t){let e=t.value.routeConfig;return e&&e.path===""}function kx(t){let e=[],n=new Set;for(let r of t){if(!Cz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kx(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function ux(t){return t.data||{}}function dx(t){return t.resolve||{}}function Tz(t,e,n,r,i,s){return Je(o=>Ez(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:c,tree:l})=>X(k({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function Dz(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Fx(l))o.add(u);let c=0;return Ue(o).pipe(us(l=>s.has(l)?Sz(l,r,t,e):(l.data=Wh(l,l.parent,t).resolve,q(void 0))),Ze(()=>c++),ds(1),Je(l=>c===o.size?q(n):kt))})}function Fx(t){let e=t.children.map(n=>Fx(n)).flat();return[t,...e]}function Sz(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ax(i)&&(s[Fc]=i.title),Az(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=Wh(t,t.parent,n).resolve,null)))}function Az(t,e,n,r){let i=_v(t);if(i.length===0)return q({});let s={};return Ue(i).pipe(Je(o=>xz(t[o],e,n,r).pipe(vn(),Ze(c=>{if(c instanceof Pc)throw Gh(new Dc,c);s[o]=c}))),ds(1),Yf(s),Ir(o=>Mx(o)?kt:cs(o)))}function xz(t,e,n,r){let i=Lc(e)??r,s=bo(t,i),o=s.resolve?s.resolve(e,n):Yn(i,()=>s(e,n));return zr(o)}function mv(t){return en(e=>{let n=t(e);return n?Ue(n).pipe(ie(()=>e)):q(e)})}var Lx=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[Fc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L(Nz),providedIn:"root"})}}return t})(),Nz=(()=>{class t extends Lx{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Q(aC))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gv=new B("",{providedIn:"root",factory:()=>({})}),Rz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Sn({type:t,selectors:[["ng-component"]],standalone:!0,features:[An],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[B4],encapsulation:2})}}return t})();function Kv(t){let e=t.children&&t.children.map(Kv),n=e?X(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=Rz),n}var Qv=new B(""),Mz=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Vg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=zr(n.loadComponent()).pipe(ie(Vx),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ko(()=>{this.componentLoaders.delete(n)})),i=new is(r,()=>new rt).pipe(rs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Pz(r,this.compiler,n,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),o=new is(s,()=>new rt).pipe(rs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pz(t,e,n,r){return zr(t.loadChildren()).pipe(ie(Vx),Je(i=>i instanceof ra||Array.isArray(i)?q(i):Ue(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Qv,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kv),injector:s}}))}function Oz(t){return t&&typeof t=="object"&&"default"in t}function Vx(t){return Oz(t)?t.default:t}var Yv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L(kz),providedIn:"root"})}}return t})(),kz=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fz=new B("");var Lz=new B(""),Vz=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=L(Mz),this.environmentInjector=L(jt),this.urlSerializer=L(zv),this.rootContexts=L(Qh),this.location=L(da),this.inputBindingEnabled=L(qv,{optional:!0})!==null,this.titleStrategy=L(Lx),this.options=L(Gv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Yv),this.createViewTransition=L(Fz,{optional:!0}),this.navigationErrorHandler=L(Lz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Sv(i)),r=i=>this.events.next(new Av(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(X(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new it({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Cc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xt(s=>s.id!==0),ie(s=>X(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),en(s=>{let o=!1,c=!1;return q(s).pipe(en(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Lt.SupersededByNewNavigation),kt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?X(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&f!=="reload"){let p="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.rawUrl),p,Iv.IgnoredSameUrlNavigation)),l.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(en(p=>{let m=this.transitions?.getValue();return this.events.next(new xc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?kt:Promise.resolve(p)}),Tz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=X(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new $h(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:m,source:w,restoredState:T,extras:M}=l,F=new xc(p,this.urlSerializer.serialize(m),w,T);this.events.next(F);let $=Dx(this.rootComponentType).snapshot;return this.currentTransition=s=X(k({},l),{targetSnapshot:$,urlAfterRedirects:m,extras:X(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,q(s)}else{let p="";return this.events.next(new Gi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Iv.IgnoredByUrlHandlingStrategy)),l.resolve(!1),kt}}),Ze(l=>{let u=new bv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=X(k({},l),{guards:W4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),nz(this.environmentInjector,l=>this.events.next(l)),Ze(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Gh(this.urlSerializer,l.guardsResult);let u=new Cv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Xt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Lt.GuardRejected),!1)),mv(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Ze(u=>{let f=new Tv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),en(u=>{let f=!1;return q(u).pipe(Dz(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Lt.NoDataFromResolver)}}))}),Ze(u=>{let f=new Dv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),mv(l=>{let u=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ze(m=>{f.component=m}),ie(()=>{})));for(let m of f.children)p.push(...u(m));return p};return Rl(u(l.targetSnapshot.root)).pipe(br(null),qn(1))}),mv(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?Ue(f).pipe(ie(()=>s)):q(s)}),ie(l=>{let u=U4(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=X(k({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ze(()=>{this.events.next(new Rc)}),z4(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qn(1),Ze({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ep(this.transitionAbortSubject.pipe(Ze(l=>{throw l}))),Ko(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(l=>{if(c=!0,Rx(l))this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),H4(l)?this.events.next(new wo(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Nc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let f=Yn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Pc){let{message:p,cancellationCode:m}=Gh(this.urlSerializer,f);this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new wo(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(u);let p=n.errorHandler(l);s.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return kt}))}))}cancelNavigationTransition(n,r,i){let s=new fr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bz(t){return t!==Cc}var Uz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L(jz),providedIn:"root"})}}return t})(),Hv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},jz=(()=>{class t extends Hv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>L($z),providedIn:"root"})}}return t})(),$z=(()=>{class t extends Bx{constructor(){super(...arguments),this.location=L(da),this.urlSerializer=L(zv),this.options=L(Gv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Yv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Dx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof xc)this.stateMemento=this.createStateMemento();else if(n instanceof Gi)this.rawUrlTree=r.initialUrl;else if(n instanceof $h){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Rc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof fr&&(n.code===Lt.GuardRejected||n.code===Lt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Nc?this.restoreHistory(r,!0):n instanceof qi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof pr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ic=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ic||{});function Hz(t,e){t.events.pipe(Xt(n=>n instanceof qi||n instanceof fr||n instanceof Nc||n instanceof Gi),ie(n=>n instanceof qi||n instanceof Gi?Ic.COMPLETE:(n instanceof fr?n.code===Lt.Redirect||n.code===Lt.SupersededByNewNavigation:!1)?Ic.REDIRECTING:Ic.FAILED),Xt(n=>n!==Ic.REDIRECTING),qn(1)).subscribe(()=>{e()})}function zz(t){throw t}var Wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ux=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Fu),this.stateManager=L(Bx),this.options=L(Gv,{optional:!0})||{},this.pendingTasks=L(Ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(Vz),this.urlSerializer=L(zv),this.location=L(da),this.urlHandlingStrategy=L(Yv),this._events=new rt,this.errorHandler=this.options.errorHandler||zz,this.navigated=!1,this.routeReuseStrategy=L(Uz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Qv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(qv,{optional:!0}),this.eventsSubscription=new Ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof fr&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qi)this.navigated=!0;else if(r instanceof wo){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bz(i.source)},o);this.scheduleNavigation(c,Cc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Kz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=k({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Kv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Ix(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return bx(p,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Sc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cc,null,r)}navigate(n,r={skipLocationChange:!1}){return Gz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},Wz):r===!1?i=k({},qz):i=r,Sc(n))return sx(this.currentUrlTree,n,i);let s=this.parseUrl(n);return sx(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,u;o?(c=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,m)=>{c=p,l=m});let f=this.pendingTasks.add();return Hz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function Kz(t){return!(t instanceof Rc)&&!(t instanceof wo)}var Qz=new B("");function jx(t,...e){return on([{provide:Qv,multi:!0,useValue:t},[],{provide:Eo,useFactory:Yz,deps:[Ux]},{provide:Lg,multi:!0,useFactory:Jz},e.map(n=>n.\u0275providers)])}function Yz(t){return t.routerState.root}function Jz(){let t=L(ht);return e=>{let n=t.get(fi);if(e!==n.components[0])return;let r=t.get(Ux),i=t.get(Zz);t.get(Xz)===1&&r.initialNavigation(),t.get(e3,null,Z.Optional)?.setUpPreloading(),t.get(Qz,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Zz=new B("",{factory:()=>new rt}),Xz=new B("",{providedIn:"root",factory:()=>1});var e3=new B("");function t3(t,e){if(t&1){let n=cn();N(0,"div",2)(1,"h4"),O(2),x(),N(3,"video",3,0),Se(5,"source",4),O(6," Your browser does not support the video tag. "),x(),Se(7,"br"),N(8,"button",5),Ae("click",function(){ee(n);let i=Ps(4),s=z();return te(s.playVideo(i))}),O(9,"Play"),x(),N(10,"button",5),Ae("click",function(){ee(n);let i=Ps(4),s=z();return te(s.pauseVideo(i))}),O(11,"Pause"),x(),N(12,"button",5),Ae("click",function(){ee(n);let i=Ps(4),s=z();return te(s.stopVideo(i))}),O(13,"Stop"),x(),Se(14,"br")(15,"br"),N(16,"input",6),Ae("input",function(i){ee(n);let s=Ps(4),o=z();return te(o.seekVideo(s,i))}),x(),Se(17,"br"),N(18,"input",7),Ae("input",function(i){ee(n);let s=Ps(4),o=z();return te(o.setVolume(s,i))}),x(),O(19,` Volume
`),x()}if(t&2){let n=z();V(2),Ge("Player Video: ",n.selectedPlayer.nombre,""),V(3),oe("src",n.selectedPlayer.video,Rs)}}var Jh=class t{selectedPlayer=null;playVideo(e){e.play()}pauseVideo(e){e.pause()}stopVideo(e){e.pause(),e.currentTime=0}seekVideo(e,n){let r=n.target.value,i=e.duration*(r/100);e.currentTime=i}setVolume(e,n){let r=n.target.value;e.volume=r}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Sn({type:t,selectors:[["app-media-component"]],inputs:{selectedPlayer:"selectedPlayer"},standalone:!0,features:[An],decls:11,vars:6,consts:[["videoPlayer",""],["class","video-container",4,"ngIf"],[1,"video-container"],["controls",""],["type","video/mp4",3,"src"],[3,"click"],["type","range","min","0","max","100",3,"input"],["type","range","min","0","max","1","step","0.01",3,"input"]],template:function(n,r){n&1&&(N(0,"h4"),O(1),x(),N(2,"p"),O(3),x(),N(4,"p"),O(5),x(),N(6,"p"),O(7),x(),N(8,"p"),O(9),x(),At(10,t3,20,2,"div",1)),n&2&&(V(),Ge("Player Details: ",r.selectedPlayer.nombre,""),V(2),Ge("Last Name: ",r.selectedPlayer.apellido,""),V(2),Ge("Team: ",r.selectedPlayer.equipo,""),V(2),Ge("Position: ",r.selectedPlayer.posicion,""),V(2),Ge("Games Played: ",r.selectedPlayer.partidos,""),V(),oe("ngIf",r.selectedPlayer))},dependencies:[sr,Os]})};var $x=[{path:"",component:co},{path:"media",component:Jh}];function Bc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!n3(n)||(t[n]=Bc(t[n],e[n]));return t}function n3(t){return t!=="__proto__"}function Hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var r3="FirebaseError",Zv=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r3,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}},Co=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?i3(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Zv(i,c,r)}};function i3(t,e){return t.replace(s3,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var s3=/\{\$([^}]+)}/g;function ew(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zx(t,e){let n=new Xv(t,e);return n.subscribe.bind(n)}var Xv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");o3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function o3(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jv(){}var GX=4*60*60*1e3;var Zh=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var a3=[],ke=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ke||{}),c3={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},l3=ke.INFO,u3={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},d3=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=u3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xh=class{constructor(e){this.name=e,this._logLevel=l3,this._logHandler=d3,this._userLogHandler=null,a3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};var tw=class{constructor(e,n){this._delegate=e,this.firebase=n,Hs(e,new Zh("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Sa(this._delegate)))}_getService(e,n=xn){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=xn){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Hs(this._delegate,e)}_addOrOverwriteComponent(e){Cm(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var h3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Wx=new Co("app-compat","Firebase",h3);function f3(t){let e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ae,setLogLevel:dd,onLog:ud,apps:null,SDK_VERSION:un,INTERNAL:{registerComponent:c,removeApp:r,useAsService:l,modularAPIs:Tm}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||xn,!ew(e,u))throw Wx.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,f={}){let p=Fr(u,f);if(ew(e,p.name))return e[p.name];let m=new t(p,n);return e[p.name]=m,m}function o(){return Object.keys(e).map(u=>e[u])}function c(u){let f=u.name,p=f.replace("-compat","");if(Xe(u)&&u.type==="PUBLIC"){let m=(w=i())=>{if(typeof w[p]!="function")throw Wx.create("invalid-app-argument",{appName:f});return w[p]()};u.serviceProps!==void 0&&Bc(m,u.serviceProps),n[p]=m,t.prototype[p]=function(...w){return this._getService.bind(this,f).apply(this,u.multipleInstances?w:[])}}return u.type==="PUBLIC"?n[p]:null}function l(u,f){return f==="serverAuth"?null:f}return n}function Gx(){let t=f3(tw);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Gx,extendNamespace:e,createSubscribe:zx,ErrorFactory:Co,deepExtend:Bc});function e(n){Bc(t,n)}return t}var p3=Gx();var qx=new Xh("@firebase/app-compat"),g3="@firebase/app-compat",m3="0.2.43";function y3(t){ae(g3,m3,t)}try{let t=Hx();if(t.firebase!==void 0){qx.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&qx.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var ef=p3;y3();var _3="firebase",v3="10.14.1";ef.registerVersion(_3,v3,"app-compat");var Kx=new B("angularfire2.app.options");var fee=typeof module<"u"&&!!module.hot;globalThis.\u0275AngularfireInstanceCache||=[];oC(Ch,{providers:[jx($x),iT(()=>sT(ac)),BS(()=>US()),rx(()=>ix()),AA(()=>gc()),{provide:Kx,useValue:ac}]}).catch(t=>console.error(t));"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(t=>{console.log("Service Worker registrado con \xE9xito:",t)}).catch(t=>{console.error("Error al registrar el Service Worker:",t)});
